var vA=Object.defineProperty,_A=Object.defineProperties;var IA=Object.getOwnPropertyDescriptors;var vI=Object.getOwnPropertySymbols;var wA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable;var _I=(t,e,n)=>e in t?vA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})wA.call(e,n)&&_I(t,n,e[n]);if(vI)for(var n of vI(e))EA.call(e,n)&&_I(t,n,e[n]);return t},ve=(t,e)=>_A(t,IA(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var II=null;var $h=1,wI=Symbol("SIGNAL");function _e(t){let e=II;return II=t,e}var EI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function DA(t){if(!(zh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$h)){if(!t.producerMustRecompute(t)&&!Hh(t)){t.dirty=!1,t.lastCleanEpoch=$h;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$h}}function DI(t){return t&&(t.nextProducerIndex=0),_e(t)}function bI(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hh(t){jc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(DA(n),r!==n.version))return!0}return!1}function TI(t){if(jc(t),zh(t))for(let e=0;e<t.producerNode.length;e++)qh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qh(t,e){if(bA(t),jc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)qh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jc(i),i.producerIndexOfThis[r]=e}}function zh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function TA(){throw new Error}var CA=TA;function CI(t){CA=t}function J(t){return typeof t=="function"}function Qi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bc=Qi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof Bc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{SI(o)}catch(s){e=e??[],s instanceof Bc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zr(n,e)}remove(e){let{_finalizers:n}=this;n&&Zr(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var Gh=$e.EMPTY;function $c(t){return t instanceof $e||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function SI(t){J(t)?t():t.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yi={setTimeout(t,e,...n){let{delegate:r}=Yi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hc(t){Yi.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(t);else throw t})}function qs(){}var AI=Wh("C",void 0,void 0);function MI(t){return Wh("E",void 0,t)}function RI(t){return Wh("N",t,void 0)}function Wh(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function Ji(t){if(tn.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function xI(t){tn.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var ei=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$c(e)&&e.add(this)):this.destination=MA}static create(e,n,r){return new Zi(e,n,r)}next(e){this.isStopped?Qh(RI(e),this):this._next(e)}error(e){this.isStopped?Qh(MI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qh(AI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SA=Function.prototype.bind;function Kh(t,e){return SA.call(t,e)}var Yh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qc(r)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qc(n)}}},Zi=class extends ei{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kh(e.next,o),error:e.error&&Kh(e.error,o),complete:e.complete&&Kh(e.complete,o)}):i=e}this.destination=new Yh(i)}};function qc(t){tn.useDeprecatedSynchronousErrorHandling?xI(t):Hc(t)}function AA(t){throw t}function Qh(t,e){let{onStoppedNotification:n}=tn;n&&Yi.setTimeout(()=>n(t,e))}var MA={closed:!0,next:qs,error:AA,complete:qs};var Xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Jh(...t){return Zh(t)}function Zh(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=xA(n)?n:new Zi(n,r,i);return Ji(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=NI(r),new r((i,o)=>{let s=new Zi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xi](){return this}pipe(...n){return Zh(n)(this)}toPromise(n){return n=NI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function NI(t){var e;return(e=t??tn.Promise)!==null&&e!==void 0?e:Promise}function RA(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function xA(t){return t&&t instanceof ei||RA(t)&&$c(t)}function Xh(t){return J(t?.lift)}function pe(t){return e=>{if(Xh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new ef(t,e,n,r,i)}var ef=class extends ei{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function eo(){return pe((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var to=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return eo()(this)}};var PI=Qi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new PI}next(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gh:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,Zr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new zc(e,n),t})(),zc=class extends ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Gh}};var Ye=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tf={now(){return(tf.delegate||Date).now()},delegate:void 0};var Gc=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var no=class extends Gc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ro=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ro.now=tf.now;var io=class extends ro{constructor(e,n=ro.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var nf=new io(no);var Wc=class extends no{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Kc=class extends io{};var rf=new Kc(Wc);var xt=new fe(t=>t.complete());function OI(t){return t&&J(t.schedule)}function kI(t){return t[t.length-1]}function Qc(t){return J(kI(t))?t.pop():void 0}function fr(t){return OI(kI(t))?t.pop():void 0}function of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function FI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function LI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(g){r[g]&&(i[g]=function(I){return new Promise(function(x,O){o.push([g,I,x,O])>1||a(g,I)})})}function a(g,I){try{u(r[g](I))}catch(x){p(o[0][3],x)}}function u(g){g.value instanceof ti?Promise.resolve(g.value.v).then(l,h):p(o[0][2],g)}function l(g){a("next",g)}function h(g){a("throw",g)}function p(g,I){g(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function UI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof FI=="function"?FI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Yc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Jc(t){return J(t?.then)}function Zc(t){return J(t[Xi])}function Xc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function eu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tu=NA();function nu(t){return J(t?.[tu])}function ru(t){return LI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function iu(t){return J(t?.getReader)}function ze(t){if(t instanceof fe)return t;if(t!=null){if(Zc(t))return PA(t);if(Yc(t))return OA(t);if(Jc(t))return kA(t);if(Xc(t))return jI(t);if(nu(t))return FA(t);if(iu(t))return VA(t)}throw eu(t)}function PA(t){return new fe(e=>{let n=t[Xi]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OA(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kA(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hc)})}function FA(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jI(t){return new fe(e=>{LA(t,e).catch(n=>e.error(n))})}function VA(t){return jI(ru(t))}function LA(t,e){var n,r,i,o;return VI(this,void 0,void 0,function*(){try{for(n=UI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Tt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function pr(t,e=0){return pe((n,r)=>{n.subscribe(se(r,i=>Tt(r,t,()=>r.next(i),e),()=>Tt(r,t,()=>r.complete(),e),i=>Tt(r,t,()=>r.error(i),e)))})}function mr(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BI(t,e){return ze(t).pipe(mr(e),pr(e))}function $I(t,e){return ze(t).pipe(mr(e),pr(e))}function HI(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qI(t,e){return new fe(n=>{let r;return Tt(n,e,()=>{r=t[tu](),Tt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function ou(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Tt(n,e,()=>{let r=t[Symbol.asyncIterator]();Tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zI(t,e){return ou(ru(t),e)}function GI(t,e){if(t!=null){if(Zc(t))return BI(t,e);if(Yc(t))return HI(t,e);if(Jc(t))return $I(t,e);if(Xc(t))return ou(t,e);if(nu(t))return qI(t,e);if(iu(t))return zI(t,e)}throw eu(t)}function He(t,e){return e?GI(t,e):ze(t)}function X(...t){let e=fr(t);return He(t,e)}function oo(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function sf(t){return!!t&&(t instanceof fe||J(t.lift)&&J(t.subscribe))}var qn=Qi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return pe((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:UA}=Array;function jA(t,e){return UA(e)?t(...e):t(e)}function su(t){return ae(e=>jA(t,e))}var{isArray:BA}=Array,{getPrototypeOf:$A,prototype:HA,keys:qA}=Object;function au(t){if(t.length===1){let e=t[0];if(BA(e))return{args:e,keys:null};if(zA(e)){let n=qA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function zA(t){return t&&typeof t=="object"&&$A(t)===HA}function cu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uu(...t){let e=fr(t),n=Qc(t),{args:r,keys:i}=au(t);if(r.length===0)return He([],e);let o=new fe(GA(r,e,i?s=>cu(i,s):Rt));return n?o.pipe(su(n)):o}function GA(t,e,n=Rt){return r=>{WI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)WI(e,()=>{let l=He(t[u],e),h=!1;l.subscribe(se(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function WI(t,e,n){t?Tt(n,t,e):e()}function KI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},I=O=>l<r?x(O):u.push(O),x=O=>{o&&e.next(O),l++;let P=!1;ze(n(O,h++)).subscribe(se(e,U=>{i?.(U),o?I(U):e.next(U)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let U=u.shift();s?Tt(e,s,()=>x(U)):x(U)}g()}catch(U){e.error(U)}}))};return t.subscribe(se(e,I,()=>{p=!0,g()})),()=>{a?.()}}function Je(t,e,n=1/0){return J(e)?Je((r,i)=>ae((o,s)=>e(r,o,i,s))(ze(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>KI(r,i,t,n)))}function af(t=1/0){return Je(Rt,t)}function QI(){return af(1)}function so(...t){return QI()(He(t,fr(t)))}function lu(t){return new fe(e=>{ze(t()).subscribe(e)})}function cf(...t){let e=Qc(t),{args:n,keys:r}=au(t),i=new fe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ze(n[h]).subscribe(se(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?cu(r,a):a),o.complete())}))}});return e?i.pipe(su(e)):i}function nn(t,e){return pe((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function gr(t){return pe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=ze(t(s,gr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function YI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(se(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ao(t,e){return J(e)?Je(t,e,1):Je(t,1)}function yr(t){return pe((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function zn(t){return t<=0?()=>xt:pe((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uf(t){return ae(()=>t)}function du(t=WA){return pe((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WA(){return new qn}function Gs(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function En(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,zn(1),n?yr(e):du(()=>new qn))}function co(t){return t<=0?()=>xt:pe((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,co(1),n?yr(e):du(()=>new qn))}function df(t,e){return pe(YI(t,e,arguments.length>=2,!0))}function hf(...t){let e=fr(t);return pe((n,r)=>{(e?so(t,n,e):so(t,n)).subscribe(r)})}function rn(t,e){return pe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(t(u,h)).subscribe(i=se(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ff(t){return pe((e,n)=>{ze(t).subscribe(se(n,()=>n.complete(),qs)),!n.closed&&e.subscribe(n)})}function Ze(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var jw="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(bp(e,n)),this.code=e}};function bp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function oa(t){return{toString:t}.toString()}var hu="__parameters__";function KA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Bw(t,e,n){return oa(()=>{let r=KA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(hu)?u[hu]:Object.defineProperty(u,hu,{value:[]})[hu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nt=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function QA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function JI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YA=Ce({__forward_ref__:Ce});function Er(t){return t.__forward_ref__=Er,t.toString=function(){return wt(this())},t}function It(t){return $w(t)?t():t}function $w(t){return typeof t=="function"&&t.hasOwnProperty(YA)&&t.__forward_ref__===Er}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hu(t){return ZI(t,qw)||ZI(t,zw)}function Hw(t){return Hu(t)!==null}function ZI(t,e){return t.hasOwnProperty(e)?t[e]:null}function JA(t){let e=t&&(t[qw]||t[zw]);return e||null}function XI(t){return t&&(t.hasOwnProperty(ew)||t.hasOwnProperty(ZA))?t[ew]:null}var qw=Ce({\u0275prov:Ce}),ew=Ce({\u0275inj:Ce}),zw=Ce({ngInjectableDef:Ce}),ZA=Ce({ngInjectorDef:Ce}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gw(t){return t&&!!t.\u0275providers}var XA=Ce({\u0275cmp:Ce}),eM=Ce({\u0275dir:Ce}),tM=Ce({\u0275pipe:Ce}),nM=Ce({\u0275mod:Ce}),Du=Ce({\u0275fac:Ce}),Ws=Ce({__NG_ELEMENT_ID__:Ce}),tw=Ce({__NG_ENV_ID__:Ce});function sa(t){return typeof t=="string"?t:t==null?"":String(t)}function rM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():sa(t)}function iM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Tp(t,e){throw new $(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Rf;function Ww(){return Rf}function Ct(t){let e=Rf;return Rf=t,e}function Kw(t,e,n){let r=Hu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Tp(t,"Injector")}var oM={},Ks=oM,xf="__NG_DI_FLAG__",bu="ngTempTokenPath",sM="ngTokenPath",aM=/\n/gm,cM="\u0275",nw="__source",fo;function uM(){return fo}function vr(t){let e=fo;return fo=t,e}function lM(t,e=ie.Default){if(fo===void 0)throw new $(-203,!1);return fo===null?Kw(t,void 0,e):fo.get(t,e&ie.Optional?null:void 0,e)}function oe(t,e=ie.Default){return(Ww()||lM)(It(t),e)}function V(t,e=ie.Default){return oe(t,qu(e))}function qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nf(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=dM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Qw(t,e){return t[xf]=e,t.prototype[xf]=e,t}function dM(t){return t[xf]}function hM(t,e,n,r){let i=t[bu];throw e[nw]&&i.unshift(e[nw]),t.message=fM(`
`+t.message,i,n,r),t[sM]=i,t[bu]=null,t}function fM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cM?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aM,`
  `)}`}var un=Qw(Bw("Optional"),8);var Yw=Qw(Bw("SkipSelf"),4);function oi(t,e){let n=t.hasOwnProperty(Du);return n?t[Du]:null}function Cp(t,e){t.forEach(n=>Array.isArray(n)?Cp(n,e):e(n))}function Jw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function mM(t,e,n){let r=aa(t,e);return r>=0?t[r|1]=n:(r=~r,pM(t,r,e,n)),r}function pf(t,e){let n=aa(t,e);if(n>=0)return t[n|1]}function aa(t,e){return gM(t,e,1)}function gM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var mo={},$t=[],go=new W(""),Zw=new W("",-1),Xw=new W(""),Cu=class{get(e,n=Ks){if(n===Ks){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}},eE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eE||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{}),et=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(et||{});function yM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Pf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function tE(t){return t===3||t===4||t===6}function vM(t){return t.charCodeAt(0)===64}function Qs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rw(t,n,i,null,e[++r]):rw(t,n,i,null,null))}}return t}function rw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var nE="ng-template";function _M(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sp(t){return t.type===4&&t.value!==nE}function IM(t,e,n){let r=t.type===4&&!n?nE:t.value;return e===r}function wM(t,e,n){let r=4,i=t.attrs,o=i!==null?bM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!IM(t,u,n)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!_M(t,i,u,n)){if(on(r))return!1;s=!0}}else{let l=e[++a],h=EM(u,i,Sp(t),n);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(t){return(t&1)===0}function EM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return TM(e,t)}function DM(t,e,n=!1){for(let r=0;r<e.length;r++)if(wM(t,e[r],n))return!0;return!1}function bM(t){for(let e=0;e<t.length;e++){let n=t[e];if(tE(n))return e}return t.length}function TM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iw(t,e){return t?":not("+e.trim()+")":e}function CM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=iw(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(e+=iw(o,i)),e}function SM(t){return t.map(CM).join(",")}function AM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:n}}function Le(t){return oa(()=>{let e=cE(t),n=ve(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});uE(n);let r=t.dependencies;return n.directiveDefs=sw(r,!1),n.pipeDefs=sw(r,!0),n.id=xM(n),n})}function MM(t){return si(t)||iE(t)}function RM(t){return t!==null}function mi(t){return oa(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ow(t,e){if(t==null)return mo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=et.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==et.None?[r,a]:r,e[o]=s):n[o]=r}return n}function nt(t){return oa(()=>{let e=cE(t);return uE(e),e})}function rE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function si(t){return t[XA]||null}function iE(t){return t[eM]||null}function oE(t){return t[tM]||null}function sE(t){let e=si(t)||iE(t)||oE(t);return e!==null?e.standalone:!1}function aE(t,e){let n=t[nM]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function cE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||mo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ow(t.inputs,e),outputs:ow(t.outputs),debugInfo:null}}function uE(t){t.features?.forEach(e=>e(t))}function sw(t,e){if(!t)return null;let n=e?oE:MM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RM)}function xM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dr(t){return{\u0275providers:t}}function NM(...t){return{\u0275providers:lE(!0,t),\u0275fromNgModule:!0}}function lE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cp(e,s=>{let a=s;Of(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&dE(i,o),n}function dE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ap(i,o=>{e(o,r)})}}function Of(t,e,n,r){if(t=It(t),!t)return!1;let i=null,o=XI(t),s=!o&&si(t);if(!o&&!s){let u=t.ngModule;if(o=XI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Of(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cp(o.imports,h=>{Of(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&dE(l,e)}if(!a){let l=oi(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:Xw,useValue:i,multi:!0},i),e({provide:go,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ap(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ap(t,e){for(let n of t)Gw(n)&&(n=n.\u0275providers),Array.isArray(n)?Ap(n,e):e(n)}var PM=Ce({provide:String,useValue:Ce});function hE(t){return t!==null&&typeof t=="object"&&PM in t}function OM(t){return!!(t&&t.useExisting)}function kM(t){return!!(t&&t.useFactory)}function yo(t){return typeof t=="function"}function FM(t){return!!t.useClass}var zu=new W(""),vu={},VM={},mf;function Mp(){return mf===void 0&&(mf=new Cu),mf}var qt=class{},Ys=class extends qt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(e,s=>this.processProvider(s)),this.records.set(Zw,uo(void 0,this)),i.has("environment")&&this.records.set(qt,uo(void 0,this));let o=this.records.get(zu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xw,$t,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=vr(this),r=Ct(void 0),i;try{return e()}finally{vr(n),Ct(r)}}get(e,n=Ks,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tw))return e[tw](this);r=qu(r);let i,o=vr(this),s=Ct(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=$M(e)&&Hu(e);l&&this.injectableDefInScope(l)?u=uo(kf(e),vu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?Mp():this.parent;return n=r&ie.Optional&&n===Ks?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bu]=a[bu]||[]).unshift(wt(e)),o)throw a;return hM(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),vr(o)}}resolveInjectorInitializers(){let e=_e(null),n=vr(this),r=Ct(void 0),i;try{let o=this.get(go,$t,ie.Self);for(let s of o)s()}finally{vr(n),Ct(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=It(e);let n=yo(e)?e:It(e&&e.provide),r=UM(e);if(!yo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=uo(void 0,vu,!0),i.factory=()=>Nf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===vu&&(n.value=VM,n.value=n.factory()),typeof n.value=="object"&&n.value&&BM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kf(t){let e=Hu(t),n=e!==null?e.factory:oi(t);if(n!==null)return n;if(t instanceof W)throw new $(204,!1);if(t instanceof Function)return LM(t);throw new $(204,!1)}function LM(t){if(t.length>0)throw new $(204,!1);let n=JA(t);return n!==null?()=>n.factory(t):()=>new t}function UM(t){if(hE(t))return uo(void 0,t.useValue);{let e=fE(t);return uo(e,vu)}}function fE(t,e,n){let r;if(yo(t)){let i=It(t);return oi(i)||kf(i)}else if(hE(t))r=()=>It(t.useValue);else if(kM(t))r=()=>t.useFactory(...Nf(t.deps||[]));else if(OM(t))r=()=>oe(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(jM(t))r=()=>new i(...Nf(t.deps));else return oi(i)||kf(i)}return r}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jM(t){return!!t.deps}function BM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $M(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Ff(t,e){for(let n of t)Array.isArray(n)?Ff(n,e):n&&Gw(n)?Ff(n.\u0275providers,e):e(n)}function gi(t,e){t instanceof Ys&&t.assertNotDestroyed();let n,r=vr(t),i=Ct(void 0);try{return e()}finally{vr(r),Ct(i)}}function HM(){return Ww()!==void 0||uM()!=null}function qM(t){return typeof t=="function"}var Yn=0,ce=1,Q=2,mt=3,sn=4,ln=5,Su=6,Js=7,an=8,vo=9,cn=10,tt=11,Zs=12,aw=13,Do=14,Cn=15,Gu=16,lo=17,_o=18,Wu=19,pE=20,_r=21,gf=22,ai=23,Sn=25,mE=1;var ci=7,Au=8,Mu=9,Ht=10,Rp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rp||{});function ri(t){return Array.isArray(t)&&typeof t[mE]=="object"}function Jn(t){return Array.isArray(t)&&t[mE]===!0}function gE(t){return(t.flags&4)!==0}function Ku(t){return t.componentOffset>-1}function xp(t){return(t.flags&1)===1}function Ir(t){return!!t.template}function zM(t){return(t[Q]&512)!==0}var Vf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function br(){return vE}function vE(t){return t.type.prototype.ngOnChanges&&(t.setInput=WM),GM}br.ngInherit=!0;function GM(){let t=IE(this),e=t?.current;if(e){let n=t.previous;if(n===mo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WM(t,e,n,r,i){let o=this.declaredInputs[r],s=IE(t)||KM(t,{previous:mo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Vf(l&&l.currentValue,n,u===mo),yE(t,e,i,n)}var _E="__ngSimpleChanges__";function IE(t){return t[_E]||null}function KM(t,e){return t[_E]=e}var cw=null;var Dn=function(t,e,n){cw?.(t,e,n)},wE="svg",QM="math",YM=!1;function JM(){return YM}function An(t){for(;Array.isArray(t);)t=t[Yn];return t}function EE(t,e){return An(e[t])}function zt(t,e){return An(e[t.index])}function DE(t,e){return t.data[e]}function ZM(t,e){return t[e]}function Tr(t,e){let n=e[t];return ri(n)?n:n[Yn]}function Np(t){return(t[Q]&128)===128}function XM(t){return Jn(t[mt])}function Ru(t,e){return e==null?null:t[e]}function bE(t){t[lo]=0}function eR(t){t[Q]&1024||(t[Q]|=1024,Np(t)&&Xs(t))}function tR(t,e){for(;t>0;)e=e[Do],t--;return e}function Pp(t){return!!(t[Q]&9216||t[ai]?.dirty)}function Lf(t){t[cn].changeDetectionScheduler?.notify(1),Pp(t)?Xs(t):t[Q]&64&&(JM()?(t[Q]|=1024,Xs(t)):t[cn].changeDetectionScheduler?.notify())}function Xs(t){t[cn].changeDetectionScheduler?.notify();let e=ea(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Np(e)));)e=ea(e)}function TE(t,e){if((t[Q]&256)===256)throw new $(911,!1);t[_r]===null&&(t[_r]=[]),t[_r].push(e)}function nR(t,e){if(t[_r]===null)return;let n=t[_r].indexOf(e);n!==-1&&t[_r].splice(n,1)}function ea(t){let e=t[mt];return Jn(e)?e[mt]:e}var re={lFrame:NE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rR(){return re.lFrame.elementDepthCount}function iR(){re.lFrame.elementDepthCount++}function oR(){re.lFrame.elementDepthCount--}function CE(){return re.bindingsEnabled}function sR(){return re.skipHydrationRootTNode!==null}function aR(t){return re.skipHydrationRootTNode===t}function cR(){re.skipHydrationRootTNode=null}function Me(){return re.lFrame.lView}function Pt(){return re.lFrame.tView}function dn(t){return re.lFrame.contextLView=t,t[an]}function hn(t){return re.lFrame.contextLView=null,t}function Ot(){let t=SE();for(;t!==null&&t.type===64;)t=t.parent;return t}function SE(){return re.lFrame.currentTNode}function uR(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ca(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function AE(){return re.lFrame.isParent}function lR(){re.lFrame.isParent=!1}function dR(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hR(t){return re.lFrame.bindingIndex=t}function Op(){return re.lFrame.bindingIndex++}function fR(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pR(){return re.lFrame.inI18n}function mR(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uf(e)}function gR(){return re.lFrame.currentDirectiveIndex}function Uf(t){re.lFrame.currentDirectiveIndex=t}function yR(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ME(t){re.lFrame.currentQueryIndex=t}function vR(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[ln]:null}function RE(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=vR(o),i===null||(o=o[Do],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=re.lFrame=xE();return r.currentTNode=e,r.lView=t,!0}function kp(t){let e=xE(),n=t[ce];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xE(){let t=re.lFrame,e=t===null?null:t.child;return e===null?NE(t):e}function NE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PE(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OE=PE;function Fp(){let t=PE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _R(t){return(re.lFrame.contextLView=tR(t,re.lFrame.contextLView))[an]}function bo(){return re.lFrame.selectedIndex}function ui(t){re.lFrame.selectedIndex=t}function Vp(){let t=re.lFrame;return DE(t.tView,t.selectedIndex)}function kE(){re.lFrame.currentNamespace=wE}function FE(){IR()}function IR(){re.lFrame.currentNamespace=null}function wR(){return re.lFrame.currentNamespace}var VE=!0;function Lp(){return VE}function Up(t){VE=t}function ER(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=vE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function jp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function _u(t,e,n){LE(t,e,3,n)}function Iu(t,e,n,r){(t[Q]&3)===n&&LE(t,e,n,r)}function yf(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function LE(t,e,n,r){let i=r!==void 0?t[lo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[lo]+=65536),(a<o||o==-1)&&(DR(t,n,e,u),t[lo]=(t[lo]&4294901760)+u+2),u++}function uw(t,e){Dn(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),Dn(5,t,e)}}function DR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[lo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,uw(a,o)):uw(a,o)}var po=-1,li=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bR(t){return t instanceof li}function TR(t){return(t.flags&8)!==0}function CR(t){return(t.flags&16)!==0}function UE(t){return t!==po}function xu(t){return t&32767}function SR(t){return t>>16}function Nu(t,e){let n=SR(t),r=e;for(;n>0;)r=r[Do],n--;return r}var jf=!0;function Pu(t){let e=jf;return jf=t,e}var AR=256,jE=AR-1,BE=5,MR=0,bn={};function RR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ws)&&(r=n[Ws]),r==null&&(r=n[Ws]=MR++);let i=r&jE,o=1<<i;e.data[t+(i>>BE)]|=o}function Ou(t,e){let n=$E(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,vf(r.data,t),vf(e,null),vf(r.blueprint,null));let i=Bp(t,e),o=t.injectorIndex;if(UE(i)){let s=xu(i),a=Nu(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $E(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=WE(i),r===null)return po;if(n++,i=i[Do],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function Bf(t,e,n){RR(t,e,n)}function xR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(tE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function HE(t,e,n){if(n&ie.Optional||t!==void 0)return t;Tp(e,"NodeInjector")}function qE(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[vo],o=Ct(void 0);try{return i?i.get(e,r,n&ie.Optional):Kw(e,r,n&ie.Optional)}finally{Ct(o)}}return HE(r,e,n)}function zE(t,e,n,r=ie.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ie.Self)){let s=FR(t,e,n,r,bn);if(s!==bn)return s}let o=GE(t,e,n,r,bn);if(o!==bn)return o}return qE(e,n,r,i)}function GE(t,e,n,r,i){let o=OR(n);if(typeof o=="function"){if(!RE(e,t,r))return r&ie.Host?HE(i,n,r):qE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))Tp(n);else return s}finally{OE()}}else if(typeof o=="number"){let s=null,a=$E(t,e),u=po,l=r&ie.Host?e[Cn][ln]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?Bp(t,e):e[a+8],u===po||!dw(r,!1)?a=-1:(s=e[ce],a=xu(u),e=Nu(u,e)));a!==-1;){let h=e[ce];if(lw(o,a,h.data)){let p=NR(a,e,n,s,r,l);if(p!==bn)return p}u=e[a+8],u!==po&&dw(r,e[ce].data[a+8]===l)&&lw(o,a,e)?(s=h,a=xu(u),e=Nu(u,e)):a=-1}}return i}function NR(t,e,n,r,i,o){let s=e[ce],a=s.data[t+8],u=r==null?Ku(a)&&jf:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=PR(a,s,n,u,l);return h!==null?Io(e,s,h,a):bn}function PR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let I=p;I<g;I++){let x=s[I];if(I<u&&n===x||I>=u&&x.type===n)return I}if(i){let I=s[u];if(I&&Ir(I)&&I.type===n)return u}return null}function Io(t,e,n,r){let i=t[n],o=e.data;if(bR(i)){let s=i;s.resolving&&iM(rM(o[n]));let a=Pu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ct(s.injectImpl):null,h=RE(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ER(n,o[n],e)}finally{l!==null&&Ct(l),Pu(a),s.resolving=!1,OE()}}return i}function OR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ws)?t[Ws]:void 0;return typeof e=="number"?e>=0?e&jE:kR:e}function lw(t,e,n){let r=1<<t;return!!(n[e+(t>>BE)]&r)}function dw(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var ii=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zE(this._tNode,this._lView,e,qu(r),n)}};function kR(){return new ii(Ot(),Me())}function To(t){return oa(()=>{let e=t.prototype.constructor,n=e[Du]||$f(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Du]||$f(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $f(t){return $w(t)?()=>{let e=$f(It(t));return e&&e()}:oi(t)}function FR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=GE(o,s,n,r|ie.Self,bn);if(a!==bn)return a;let u=o.parent;if(!u){let l=s[pE];if(l){let h=l.get(n,bn,r);if(h!==bn)return h}u=WE(s),s=s[Do]}o=u}return i}function WE(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[ln]:null}function $p(t){return xR(Ot(),t)}function hw(t,e=null,n=null,r){let i=KE(t,e,n,r);return i.resolveInjectorInitializers(),i}function KE(t,e=null,n=null,r,i=new Set){let o=[n||$t,NM(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new Ys(o,e||Mp(),r||null,i)}var Mn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return hw({name:""},i,r,"");{let o=r.name??"";return hw({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ks,e.NULL=new Cu,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>oe(Zw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var VR="ngOriginalError";function _f(t){return t[VR]}var Gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_f(e);for(;n&&_f(n);)n=_f(n);return n||null}},QE=new W("",{providedIn:"root",factory:()=>V(Gn).handleError.bind(void 0)}),YE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Hf=class extends YE{constructor(e){super(),this._lView=e}onDestroy(e){return TE(this._lView,e),()=>nR(this._lView,e)}};function LR(){return new Hf(Me())}function UR(){return Qu(Ot(),Me())}function Qu(t,e){return new Cr(zt(t,e))}var Cr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=UR;let t=e;return t})();var qf=class extends ft{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,HM()&&(this.destroyRef=V(YE,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=If(o),i&&(i=If(i)),s&&(s=If(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}};function If(t){return e=>{setTimeout(t,void 0,e)}}var pt=qf;function JE(t){return(t.flags&128)===128}var ZE=new Map,jR=0;function BR(){return jR++}function $R(t){ZE.set(t[Wu],t)}function HR(t){ZE.delete(t[Wu])}var fw="__ngContext__";function di(t,e){ri(e)?(t[fw]=e[Wu],$R(e)):t[fw]=e}function XE(t){return t0(t[Zs])}function e0(t){return t0(t[sn])}function t0(t){for(;t!==null&&!Jn(t);)t=t[sn];return t}var zf;function n0(t){zf=t}function r0(){if(zf!==void 0)return zf;if(typeof document<"u")return document;throw new $(210,!1)}var Hp=new W("",{providedIn:"root",factory:()=>qR}),qR="ng",qp=new W(""),Sr=new W("",{providedIn:"platform",factory:()=>"unknown"});var zp=new W("",{providedIn:"root",factory:()=>r0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zR="h",GR="b";var WR=()=>null;function Gp(t,e,n=!1){return WR(t,e,n)}var i0=!1,KR=new W("",{providedIn:"root",factory:()=>i0});var fu;function QR(){if(fu===void 0&&(fu=null,Nt.trustedTypes))try{fu=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}function Yu(t){return QR()?.createHTML(t)||t}var pu;function o0(){if(pu===void 0&&(pu=null,Nt.trustedTypes))try{pu=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}function pw(t){return o0()?.createHTML(t)||t}function mw(t){return o0()?.createScriptURL(t)||t}var Wn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jw})`}},Gf=class extends Wn{getTypeName(){return"HTML"}},Wf=class extends Wn{getTypeName(){return"Style"}},Kf=class extends Wn{getTypeName(){return"Script"}},Qf=class extends Wn{getTypeName(){return"URL"}},Yf=class extends Wn{getTypeName(){return"ResourceURL"}};function fn(t){return t instanceof Wn?t.changingThisBreaksApplicationSecurity:t}function Zn(t,e){let n=YR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jw})`)}return n===e}function YR(t){return t instanceof Wn&&t.getTypeName()||null}function s0(t){return new Gf(t)}function a0(t){return new Wf(t)}function c0(t){return new Kf(t)}function u0(t){return new Qf(t)}function l0(t){return new Yf(t)}function JR(t){let e=new Zf(t);return ZR()?new Jf(e):e}var Jf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Yu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Zf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Yu(e),n}};function ZR(){try{return!!new window.DOMParser().parseFromString(Yu(""),"text/html")}catch{return!1}}var XR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ju(t){return t=String(t),t.match(XR)?t:"unsafe:"+t}function Xn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ua(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var d0=Xn("area,br,col,hr,img,wbr"),h0=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f0=Xn("rp,rt"),ex=ua(f0,h0),tx=ua(h0,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nx=ua(f0,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gw=ua(d0,tx,nx,ex),p0=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rx=Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ix=Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ox=ua(p0,rx,ix),sx=Xn("script,style,template"),Xf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=ux(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=cx(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=yw(e).toLowerCase();if(!gw.hasOwnProperty(n))return this.sanitizedSomething=!0,!sx.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!ox.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;p0[a]&&(u=Ju(u)),this.buf.push(" ",s,'="',vw(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=yw(e).toLowerCase();gw.hasOwnProperty(n)&&!d0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(vw(e))}};function ax(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function cx(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw m0(e);return e}function ux(t){let e=t.firstChild;if(e&&ax(t,e))throw m0(e);return e}function yw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function m0(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var lx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dx=/([^\#-~ |!])/g;function vw(t){return t.replace(/&/g,"&amp;").replace(lx,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(dx,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var mu;function Wp(t,e){let n=null;try{mu=mu||JR(t);let r=e?String(e):"";n=mu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=mu.getInertBodyElement(r)}while(r!==o);let a=new Xf().sanitizeChildren(_w(n)||n);return Yu(a)}finally{if(n){let r=_w(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function _w(t){return"content"in t&&hx(t)?t.content:null}function hx(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var pn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pn||{});function g0(t){let e=Kp();return e?pw(e.sanitize(pn.HTML,t)||""):Zn(t,"HTML")?pw(fn(t)):Wp(r0(),sa(t))}function fx(t){let e=Kp();return e?e.sanitize(pn.URL,t)||"":Zn(t,"URL")?fn(t):Ju(sa(t))}function px(t){let e=Kp();if(e)return mw(e.sanitize(pn.RESOURCE_URL,t)||"");if(Zn(t,"ResourceURL"))return mw(fn(t));throw new $(904,!1)}function mx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?px:fx}function y0(t,e,n){return mx(e,n)(t)}function Kp(){let t=Me();return t&&t[cn].sanitizer}function v0(t){return t instanceof Function?t():t}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),gx;function Qp(t,e){return gx(t,e)}function ho(t,e,n,r,i){if(r!=null){let o,s=!1;Jn(r)?o=r:ri(r)&&(s=!0,r=r[Yn]);let a=An(r);t===0&&n!==null?i==null?D0(e,n,a):ku(e,n,a,i||null,!0):t===1&&n!==null?ku(e,n,a,i||null,!0):t===2?Px(e,a,s):t===3&&e.destroyNode(a),o!=null&&kx(e,t,o,n,i)}}function yx(t,e){return t.createText(e)}function vx(t,e,n){t.setValue(e,n)}function _0(t,e,n){return t.createElement(e,n)}function _x(t,e){I0(t,e),e[Yn]=null,e[ln]=null}function Ix(t,e,n,r,i,o){r[Yn]=i,r[ln]=e,Zu(t,r,n,1,i,o)}function I0(t,e){e[cn].changeDetectionScheduler?.notify(1),Zu(t,e,e[tt],2,null,null)}function wx(t){let e=t[Zs];if(!e)return wf(t[ce],t);for(;e;){let n=null;if(ri(e))n=e[Zs];else{let r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[sn]&&e!==t;)ri(e)&&wf(e[ce],e),e=e[mt];e===null&&(e=t),ri(e)&&wf(e[ce],e),n=e&&e[sn]}e=n}}function Ex(t,e,n,r){let i=Ht+r,o=n.length;r>0&&(n[i-1][sn]=e),r<o-Ht?(e[sn]=n[i],Jw(n,Ht+r,e)):(n.push(e),e[sn]=null),e[mt]=n;let s=e[Gu];s!==null&&n!==s&&Dx(s,e);let a=e[_o];a!==null&&a.insertView(t),Lf(e),e[Q]|=128}function Dx(t,e){let n=t[Mu],i=e[mt][mt][Cn];e[Cn]!==i&&(t[Q]|=Rp.HasTransplantedViews),n===null?t[Mu]=[e]:n.push(e)}function w0(t,e){let n=t[Mu],r=n.indexOf(e);n.splice(r,1)}function ep(t,e){if(t.length<=Ht)return;let n=Ht+e,r=t[n];if(r){let i=r[Gu];i!==null&&i!==t&&w0(i,r),e>0&&(t[n-1][sn]=r[sn]);let o=Tu(t,Ht+e);_x(r[ce],r);let s=o[_o];s!==null&&s.detachView(o[ce]),r[mt]=null,r[sn]=null,r[Q]&=-129}return r}function E0(t,e){if(!(e[Q]&256)){let n=e[tt];n.destroyNode&&Zu(t,e,n,3,null,null),wx(e)}}function wf(t,e){if(e[Q]&256)return;let n=_e(null);try{e[Q]&=-129,e[Q]|=256,e[ai]&&TI(e[ai]),Tx(t,e),bx(t,e),e[ce].type===1&&e[tt].destroy();let r=e[Gu];if(r!==null&&Jn(e[mt])){r!==e[mt]&&w0(r,e);let i=e[_o];i!==null&&i.detachView(t)}HR(e)}finally{_e(n)}}function bx(t,e){let n=t.cleanup,r=e[Js];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Js]=null);let i=e[_r];if(i!==null){e[_r]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Tx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof li)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Dn(4,a,u);try{u.call(a)}finally{Dn(5,a,u)}}else{Dn(4,i,o);try{o.call(i)}finally{Dn(5,i,o)}}}}}function Cx(t,e,n){return Sx(t,e.parent,n)}function Sx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return zt(r,n)}}function ku(t,e,n,r,i){t.insertBefore(e,n,r,i)}function D0(t,e,n){t.appendChild(e,n)}function Iw(t,e,n,r,i){r!==null?ku(t,e,n,r,i):D0(t,e,n)}function Ax(t,e,n,r){t.removeChild(e,n,r)}function Yp(t,e){return t.parentNode(e)}function Mx(t,e){return t.nextSibling(e)}function Rx(t,e,n){return Nx(t,e,n)}function xx(t,e,n){return t.type&40?zt(t,n):null}var Nx=xx,ww;function Jp(t,e,n,r){let i=Cx(t,r,e),o=e[tt],s=r.parent||e[ln],a=Rx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Iw(o,i,n[u],a,!1);else Iw(o,i,n,a,!1);ww!==void 0&&ww(o,r,e,n,i)}function wu(t,e){if(e!==null){let n=e.type;if(n&3)return zt(e,t);if(n&4)return tp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wu(t,r);{let i=t[e.index];return Jn(i)?tp(-1,i):An(i)}}else{if(n&32)return Qp(e,t)()||An(t[e.index]);{let r=b0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ea(t[Cn]);return wu(i,r)}else return wu(t,e.next)}}}return null}function b0(t,e){if(e!==null){let r=t[Cn][ln],i=e.projection;return r.projection[i]}return null}function tp(t,e){let n=Ht+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return wu(r,i)}return e[ci]}function Px(t,e,n){let r=Yp(t,e);r&&Ax(t,r,e,n)}function Zp(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&di(An(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Zp(t,e,n.child,r,i,o,!1),ho(e,t,i,a,o);else if(u&32){let l=Qp(n,r),h;for(;h=l();)ho(e,t,i,h,o);ho(e,t,i,a,o)}else u&16?Ox(t,e,r,n,i,o):ho(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zu(t,e,n,r,i,o){Zp(n,r,t.firstChild,e,i,o,!1)}function Ox(t,e,n,r,i,o){let s=n[Cn],u=s[ln].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ho(e,t,i,h,o)}else{let l=u,h=s[mt];JE(r)&&(l.flags|=128),Zp(t,e,l,h,i,o,!0)}}function kx(t,e,n,r,i){let o=n[ci],s=An(n);o!==s&&ho(e,t,r,o,i);for(let a=Ht;a<n.length;a++){let u=n[a];Zu(u[ce],u,t,e,r,o)}}function Fx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kn.Important),t.setStyle(n,r,i,o))}}function Vx(t,e,n){t.setAttribute(e,"style",n)}function T0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function C0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Pf(t,e,r),i!==null&&T0(t,e,i),o!==null&&Vx(t,e,o)}var Ar={};function he(t=1){S0(Pt(),Me(),bo()+t,!1)}function S0(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&_u(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Iu(e,o,0,n)}ui(n)}function z(t,e=ie.Default){let n=Me();if(n===null)return oe(t,e);let r=Ot();return zE(r,n,It(t),e)}function A0(t,e,n,r,i,o){let s=_e(null);try{let a=null;i&et.SignalBased&&(a=e[r][wI]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&et.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):yE(e,a,r,o)}finally{_e(s)}}function Lx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ui(~i);else{let o=i,s=n[++r],a=n[++r];mR(s,o);let u=e[o];a(2,u)}}}finally{ui(-1)}}function Xu(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Yn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),bE(p),p[mt]=p[Do]=t,p[an]=n,p[cn]=s||t&&t[cn],p[tt]=a||t&&t[tt],p[vo]=u||t&&t[vo]||null,p[ln]=o,p[Wu]=BR(),p[Su]=h,p[pE]=l,p[Cn]=e.type==2?t[Cn]:p,p}function el(t,e,n,r,i){let o=t.data[e];if(o===null)o=Ux(t,e,n,r,i),pR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=uR();o.injectorIndex=s===null?-1:s.injectorIndex}return ca(o,!0),o}function Ux(t,e,n,r,i){let o=SE(),s=AE(),a=s?o:o&&o.parent,u=t.data[e]=qx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function M0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function R0(t,e,n,r,i){let o=bo(),s=r&2;try{ui(-1),s&&e.length>Sn&&S0(t,e,Sn,!1),Dn(s?2:0,i),n(r,i)}finally{ui(o),Dn(s?3:1,i)}}function x0(t,e,n){if(gE(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function N0(t,e,n){CE()&&(Yx(t,e,n,zt(n,e)),(n.flags&64)===64&&L0(t,e,n))}function P0(t,e,n=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function O0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Xp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xp(t,e,n,r,i,o,s,a,u,l,h){let p=Sn+r,g=p+i,I=jx(p,g),x=typeof l=="function"?l():l;return I[ce]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:h}}function jx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}function Bx(t,e,n,r){let o=r.get(KR,i0)||n===Tn.ShadowDom,s=t.selectRootElement(e,o);return $x(s),s}function $x(t){Hx(t)}var Hx=()=>null;function qx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ew(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=et.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Dw(r,n,l,a,u):Dw(r,n,l,a)}return r}function Dw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function zx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,I=g?g.inputs:null,x=g?g.outputs:null;u=Ew(0,p.inputs,h,u,I),l=Ew(1,p.outputs,h,l,x);let O=u!==null&&s!==null&&!Sp(e)?aN(u,h,s):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Gx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function k0(t,e,n,r,i,o,s,a){let u=zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(em(t,n,h,r,i),Ku(e)&&Wx(n,e.index)):e.type&3?(r=Gx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Wx(t,e){let n=Tr(e,t);n[Q]&16||(n[Q]|=64)}function F0(t,e,n,r){if(CE()){let i=r===null?null:{"":-1},o=Zx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&V0(t,e,n,s,i,a),i&&Xx(n,r,i)}n.mergedAttrs=Qs(n.mergedAttrs,n.attrs)}function V0(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Bf(Ou(n,e),t,r[l].type);tN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=M0(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Qs(n.mergedAttrs,h.hostAttrs),nN(t,n,e,u,h),eN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}zx(t,n,o)}function Kx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Qx(s)!=a&&s.push(a),s.push(n,r,o)}}function Qx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Yx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ku(n)&&rN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ou(n,e),di(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Io(e,t,a,n);if(di(l,e),s!==null&&sN(e,a-i,l,u,n,s),Ir(u)){let h=Tr(n.index,e);h[an]=Io(e,t,a,n)}}}function L0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gR();try{ui(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Uf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Jx(u,l)}}finally{ui(-1),Uf(s)}}function Jx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Zx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DM(e,s.selectors,!1))if(r||(r=[]),Ir(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;np(t,e,u)}else r.unshift(s),np(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function np(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Xx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}}function eN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ir(e)&&(n[""]=t)}}function tN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function nN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=oi(i.type,!0)),s=new li(o,Ir(i),z);t.blueprint[r]=s,n[r]=s,Kx(t,e,r,M0(t,n,i.hostVars,Ar),i)}function rN(t,e,n){let r=zt(e,t),i=O0(n),o=t[cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=tl(t,Xu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function iN(t,e,n,r,i,o){let s=zt(t,e);oN(e[tt],s,o,t.value,n,r,i)}function oN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?sa(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function sN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];A0(r,n,u,l,h,p)}}function aN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function U0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function j0(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ME(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function tl(t,e){return t[Zs]?t[aw][sn]=e:t[Zs]=e,t[aw]=e,e}function rp(t,e,n){ME(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function cN(t){return t[Js]||(t[Js]=[])}function uN(t){return t.cleanup||(t.cleanup=[])}function B0(t,e){let n=t[vo],r=n?n.get(Gn,null):null;r&&r.handleError(e)}function em(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];A0(h,l,r,a,u,i)}}function lN(t,e,n){let r=EE(e,t);vx(t[tt],r,n)}function dN(t,e){let n=Tr(e,t),r=n[ce];hN(r,n);let i=n[Yn];i!==null&&n[Su]===null&&(n[Su]=Gp(i,n[vo])),tm(r,n,n[an])}function hN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tm(t,e,n){kp(e);try{let r=t.viewQuery;r!==null&&rp(1,r,n);let i=t.template;i!==null&&R0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_o]?.finishViewCreation(t),t.staticContentQueries&&j0(t,e),t.staticViewQueries&&rp(2,t.viewQuery,n);let o=t.components;o!==null&&fN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Fp()}}function fN(t,e){for(let n=0;n<e.length;n++)dN(t,e[n])}function pN(t,e,n,r){let i=_e(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Xu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Gu]=l;let h=t[_o];return h!==null&&(u[_o]=h.createEmbeddedView(o)),tm(o,u,n),u}finally{_e(i)}}function bw(t,e){return!e||e.firstChild===null||JE(t)}function mN(t,e,n,r=!0){let i=e[ce];if(Ex(i,e,t,n),r){let s=tp(n,t),a=e[tt],u=Yp(a,t[ci]);u!==null&&Ix(i,t[ln],a,e,u,s)}let o=e[Su];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Fu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(An(o)),Jn(o)&&gN(o,r);let s=n.type;if(s&8)Fu(t,e,n.child,r);else if(s&32){let a=Qp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=b0(e,n);if(Array.isArray(a))r.push(...a);else{let u=ea(e[Cn]);Fu(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function gN(t,e){for(let n=Ht;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Fu(r[ce],r,i,e)}t[ci]!==t[Yn]&&e.push(t[ci])}var $0=[];function yN(t){return t[ai]??vN(t)}function vN(t){let e=$0.pop()??Object.create(IN);return e.lView=t,e}function _N(t){t.lView[ai]!==t&&(t.lView=null,$0.push(t))}var IN=ve(L({},EI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xs(t.lView)},consumerOnSignalRead(){this.lView[ai]=this}}),H0=100;function q0(t,e=!0,n=0){let r=t[cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{wN(t,n)}catch(s){throw e&&B0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function wN(t,e){ip(t,e);let n=0;for(;Pp(t);){if(n===H0)throw new $(103,!1);n++,ip(t,1)}}function EN(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1;!o&&e[cn].inlineEffectRunner?.flush(),kp(e);let s=null,a=null;!o&&DN(t)&&(a=yN(e),s=DI(a));try{bE(e),hR(t.bindingStartIndex),n!==null&&R0(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&_u(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Iu(e,p,0,null),yf(e,0)}if(bN(e),z0(e,0),t.contentQueries!==null&&j0(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&_u(e,p)}else{let p=t.contentHooks;p!==null&&Iu(e,p,1),yf(e,1)}Lx(t,e);let l=t.components;l!==null&&W0(e,l,0);let h=t.viewQuery;if(h!==null&&rp(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&_u(e,p)}else{let p=t.viewHooks;p!==null&&Iu(e,p,2),yf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gf]){for(let p of e[gf])p();e[gf]=null}o||(e[Q]&=-73)}catch(u){throw Xs(e),u}finally{a!==null&&(bI(a,s),_N(a)),Fp()}}function DN(t){return t.type!==2}function z0(t,e){for(let n=XE(t);n!==null;n=e0(n))for(let r=Ht;r<n.length;r++){let i=n[r];G0(i,e)}}function bN(t){for(let e=XE(t);e!==null;e=e0(e)){if(!(e[Q]&Rp.HasTransplantedViews))continue;let n=e[Mu];for(let r=0;r<n.length;r++){let i=n[r],o=i[mt];eR(i)}}}function TN(t,e,n){let r=Tr(e,t);G0(r,n)}function G0(t,e){Np(t)&&ip(t,e)}function ip(t,e){let r=t[ce],i=t[Q],o=t[ai],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hh(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)EN(r,t,r.template,t[an]);else if(i&8192){z0(t,1);let a=r.components;a!==null&&W0(t,a,1)}}function W0(t,e,n){for(let r=0;r<e.length;r++)TN(t,e[r],n)}function nm(t){for(t[cn].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=ea(t);if(zM(t)&&!e)return t;t=e}return null}var hi=class{get rootNodes(){let e=this._lView,n=e[ce];return Fu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(e){this._lView[an]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Jn(e)){let n=e[Au],r=n?n.indexOf(this):-1;r>-1&&(ep(e,r),Tu(n,r))}this._attachedToViewContainer=!1}E0(this._lView[ce],this._lView)}onDestroy(e){TE(this._lView,e)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Lf(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,q0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,I0(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Lf(this._lView)}},nl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AN;let t=e;return t})(),CN=nl,SN=class extends CN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hi(i)}};function AN(){return MN(Ot(),Me())}function MN(t,e){return t.type&4?new SN(e,t,Qu(t,e)):null}var m3=new RegExp(`^(\\d+)*(${GR}|${zR})*(.*)`);var RN=()=>null;function Tw(t,e){return RN(t,e)}var op=class{},sp=class{},Vu=class{};function xN(t){let e=Error(`No component factory found for ${wt(t)}.`);return e[NN]=t,e}var NN="ngComponent";var ap=class{resolveComponentFactory(e){throw xN(e)}},rl=(()=>{let e=class e{};e.NULL=new ap;let t=e;return t})(),ta=class{},yi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>PN();let t=e;return t})();function PN(){let t=Me(),e=Ot(),n=Tr(e.index,t);return(ri(n)?n:t)[tt]}var ON=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ef={};var Cw=new Set;function K0(t){Cw.has(t)||(Cw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Q0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=JI(i,a);else if(o==2){let u=a,l=e[++s];r=JI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lu=class extends rl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=si(e);return new na(n,this.ngModule)}};function Sw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function kN(t){let e=t.toLowerCase();return e==="svg"?wE:e==="math"?QM:null}var up=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qu(r);let i=this.injector.get(e,Ef,r);return i!==Ef||n===Ef?i:this.parentInjector.get(e,n,r)}},na=class extends Vu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Sw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Sw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof qt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new up(e,s):e,u=a.get(ta,null);if(u===null)throw new $(407,!1);let l=a.get(ON,null),h=a.get(Q0,null),p=a.get(op,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",O=r?Bx(I,r,this.componentDef.encapsulation,a):_0(I,x,kN(x)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let U=null;O!==null&&(U=Gp(O,a,!0));let Y=Xp(0,null,null,1,0,null,null,null,null,null,null),G=Xu(null,Y,null,P,null,null,g,I,a,null,U);kp(G);let de,Fe;try{let te=this.componentDef,E,y=null;te.findHostDirectiveDefs?(E=[],y=new Map,te.findHostDirectiveDefs(te,E,y),E.push(te)):E=[te];let v=FN(G,O),w=VN(v,O,te,E,G,g,I);Fe=DE(Y,Sn),O&&jN(I,te,O,r),n!==void 0&&BN(Fe,this.ngContentSelectors,n),de=UN(w,te,E,y,G,[$N]),tm(Y,G,null)}finally{Fp()}return new lp(this.componentType,de,Qu(Fe,G),G,Fe)}finally{_e(o)}}},lp=class extends sp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;em(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=Tr(this._tNode.index,o);nm(s)}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FN(t,e){let n=t[ce],r=Sn;return t[r]=e,el(n,r,2,"#host",null)}function VN(t,e,n,r,i,o,s){let a=i[ce];LN(r,t,e,s);let u=null;e!==null&&(u=Gp(e,i[vo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Xu(i,O0(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&np(a,t,r.length-1),tl(i,p),i[t.index]=p}function LN(t,e,n,r){for(let i of t)e.mergedAttrs=Qs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cp(e,e.mergedAttrs,!0),n!==null&&C0(r,n,e))}function UN(t,e,n,r,i,o){let s=Ot(),a=i[ce],u=zt(s,i);V0(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Io(i,a,p,s);di(g,i)}L0(a,i,s),u&&di(u,i);let l=Io(i,a,s.directiveStart+s.componentOffset,s);if(t[an]=i[an]=l,o!==null)for(let h of o)h(l,e);return x0(a,s,i),l}function jN(t,e,n,r){if(r)Pf(t,n,["ng-version","17.3.7"]);else{let{attrs:i,classes:o}=AM(e.selectors[0]);i&&Pf(t,n,i),o&&o.length>0&&T0(t,n,o.join(" "))}}function BN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function $N(){let t=Ot();jp(Me()[ce],t)}var Co=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HN;let t=e;return t})();function HN(){let t=Ot();return zN(t,Me())}var qN=Co,Y0=class extends qN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bp(this._hostTNode,this._hostLView);if(UE(e)){let n=Nu(e,this._hostLView),r=xu(e),i=n[ce].data[r+8];return new ii(i,n)}else return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Aw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,bw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!qM(e),a;if(s)a=n;else{let x=n||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new na(si(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?l:this.parentInjector).get(qt,null);O&&(o=O)}let h=si(u.componentType??{}),p=Tw(this._lContainer,h?.id??null),g=p?.firstChild??null,I=u.create(l,i,g,o);return this.insertImpl(I.hostView,a,bw(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(XM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],l=new Y0(u,u[ln],u[mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mN(s,i,o,r),e.attachToViewContainerRef(),Jw(Df(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Aw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ep(this._lContainer,n);r&&(Tu(Df(this._lContainer),n),E0(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=ep(this._lContainer,n);return r&&Tu(Df(this._lContainer),n)!=null?new hi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Aw(t){return t[Au]}function Df(t){return t[Au]||(t[Au]=[])}function zN(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=U0(r,e,null,t),e[t.index]=n,tl(e,n)),WN(n,e,t,r),new Y0(n,t,e)}function GN(t,e){let n=t[tt],r=n.createComment(""),i=zt(e,t),o=Yp(n,i);return ku(n,o,r,Mx(n,i),!1),r}var WN=YN,KN=()=>!1;function QN(t,e,n){return KN(t,e,n)}function YN(t,e,n,r){if(t[ci])return;let i;n.type&8?i=An(r):i=GN(e,n),t[ci]=i}function JN(t){return Object.getPrototypeOf(t.prototype).constructor}function mn(t){let e=JN(t.type),n=!0,r=[t];for(;e;){let i;if(Ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gu(t.inputs),s.inputTransforms=gu(t.inputTransforms),s.declaredInputs=gu(t.declaredInputs),s.outputs=gu(t.outputs);let a=i.hostBindings;a&&nP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&eP(t,u),l&&tP(t,l),ZN(t,i),QA(t.outputs,i.outputs),Ir(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mn&&(n=!1)}}e=Object.getPrototypeOf(e)}XN(r)}function ZN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function XN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qs(i.hostAttrs,n=Qs(n,i.hostAttrs))}}function gu(t){return t===mo?{}:t===$t?[]:t}function eP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function rm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var wr=class{},ra=class{};var dp=class extends wr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lu(this);let i=aE(e);this._bootstrapComponents=v0(i.bootstrap),this._r3Injector=KE(e,n,[{provide:wr,useValue:this},{provide:rl,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hp=class extends ra{constructor(e){super(),this.moduleType=e}create(e){return new dp(this.moduleType,e,[])}};var Uu=class extends wr{constructor(e){super(),this.componentFactoryResolver=new Lu(this),this.instance=null;let n=new Ys([...e.providers,{provide:wr,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],e.parent||Mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function im(t,e,n=null){return new Uu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var il=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J0(t){return iP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function iP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oP(t,e,n){return t[e]=n}function wo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sP(t,e,n,r){let i=wo(t,e,n);return wo(t,e+1,r)||i}function aP(t){return(t.flags&32)===32}function cP(t,e,n,r,i,o,s,a,u){let l=e.consts,h=el(e,t,4,s||null,Ru(l,a));F0(e,n,h,Ru(l,u)),jp(e,h);let p=h.tView=Xp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function at(t,e,n,r,i,o,s,a){let u=Me(),l=Pt(),h=t+Sn,p=l.firstCreatePass?cP(h,l,u,e,n,r,i,o,s):l.data[h];ca(p,!1);let g=uP(l,u,p,t);Lp()&&Jp(l,u,g,p),di(g,u);let I=U0(g,u,g,p);return u[h]=I,tl(u,I),QN(I,p,u),xp(p)&&N0(l,u,p),s!=null&&P0(u,p,a),at}var uP=lP;function lP(t,e,n,r){return Up(!0),e[tt].createComment("")}function Mw(...t){}function dP(){let t=typeof Nt.requestAnimationFrame=="function",e=Nt[t?"requestAnimationFrame":"setTimeout"],n=Nt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dP().nativeRequestAnimationFrame,pP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hP,Mw,Mw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hP={};function om(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fp(t),t.isCheckStableRunning=!0,om(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fp(t))}function pP(t){let e=()=>{fP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(mP(a))return n.invokeTask(i,o,s,a);try{return Rw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xw(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Rw(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),xw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,fp(t),om(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function fp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xw(t){t._nesting--,om(t)}function mP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function ol(t,e,n,r){let i=Me(),o=Op();if(wo(i,o,e)){let s=Pt(),a=Vp();iN(a,i,t,e,n,r)}return ol}function Z0(t,e,n,r){return wo(t,Op(),n)?e+sa(n)+r:Ar}function yu(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function gP(t){return(t&2)==2}function yP(t,e){return t&131071|e<<17}function pp(t){return t|2}function Eo(t){return(t&131068)>>2}function bf(t,e){return t&-131069|e<<2}function vP(t){return(t&1)===1}function mp(t){return t|1}function _P(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fi(s),u=Eo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||aa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=fi(t[a+1]);t[r+1]=yu(g,a),g!==0&&(t[g+1]=bf(t[g+1],r)),t[a+1]=yP(t[a+1],r)}else t[r+1]=yu(a,0),a!==0&&(t[a+1]=bf(t[a+1],r)),a=r;else t[r+1]=yu(u,0),a===0?a=r:t[u+1]=bf(t[u+1],r),u=r;l&&(t[r+1]=pp(t[r+1])),Nw(t,h,r,!0),Nw(t,h,r,!1),IP(e,h,t,r,o),s=yu(a,u),o?e.classBindings=s:e.styleBindings=s}function IP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&aa(o,e)>=0&&(n[r+1]=mp(n[r+1]))}function Nw(t,e,n,r){let i=t[n+1],o=e===null,s=r?fi(i):Eo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];wP(u,e)&&(a=!0,t[s+1]=r?mp(l):pp(l)),s=r?fi(l):Eo(l)}a&&(t[n+1]=r?pp(i):mp(i))}function wP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?aa(t,e)>=0:!1}function Pe(t,e,n){let r=Me(),i=Op();if(wo(r,i,e)){let o=Pt(),s=Vp();k0(o,s,r,t,e,r[tt],n,!1)}return Pe}function Pw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";em(t,n,o[s],s,r)}function sl(t,e){return EP(t,e,null,!0),sl}function EP(t,e,n,r){let i=Me(),o=Pt(),s=fR(2);if(o.firstUpdatePass&&bP(o,t,s,r),e!==Ar&&wo(i,s,e)){let a=o.data[bo()];MP(o,a,i,i[tt],t,i[s+1]=RP(e,n),r,s)}}function DP(t,e){return e>=t.expandoStartIndex}function bP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bo()],s=DP(t,n);xP(o,r)&&e===null&&!s&&(e=!1),e=TP(i,o,e,r),_P(i,o,e,n,s,r)}}function TP(t,e,n,r){let i=yR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tf(null,t,e,n,r),n=ia(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Tf(i,t,e,n,r),o===null){let u=CP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Tf(null,t,e,u[1],r),u=ia(u,e.attrs,r),SP(t,e,r,u))}else o=AP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function CP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Eo(r)!==0)return t[fi(r)]}function SP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[fi(i)]=r}function AP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ia(r,s,n)}return ia(r,e.attrs,n)}function Tf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ia(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function MP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=vP(l)?Ow(u,e,n,i,Eo(l),s):void 0;if(!ju(h)){ju(o)||gP(l)&&(o=Ow(u,null,n,i,a,s));let p=EE(bo(),n);Fx(r,s,p,i,o)}}function Ow(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Ar&&(g=p?$t:void 0);let I=p?pf(g,r):h===r?g:void 0;if(l&&!ju(I)&&(I=pf(u,r)),ju(I)&&(a=I,s))return a;let x=t[i+1];i=s?fi(x):Eo(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=pf(u,r))}return a}function ju(t){return t!==void 0}function RP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(fn(t)))),t}function xP(t,e){return(t.flags&(e?8:16))!==0}function NP(t,e,n,r,i,o){let s=e.consts,a=Ru(s,i),u=el(e,t,2,r,a);return F0(e,n,u,Ru(s,o)),u.attrs!==null&&cp(u,u.attrs,!1),u.mergedAttrs!==null&&cp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function C(t,e,n,r){let i=Me(),o=Pt(),s=Sn+t,a=i[tt],u=o.firstCreatePass?NP(s,o,i,e,n,r):o.data[s],l=PP(o,i,u,a,e,t);i[s]=l;let h=xp(u);return ca(u,!0),C0(a,l,u),!aP(u)&&Lp()&&Jp(o,i,l,u),rR()===0&&di(l,i),iR(),h&&(N0(o,i,u),x0(o,u,i)),r!==null&&P0(i,u),C}function T(){let t=Ot();AE()?lR():(t=t.parent,ca(t,!1));let e=t;aR(e)&&cR(),oR();let n=Pt();return n.firstCreatePass&&(jp(n,t),gE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TR(e)&&Pw(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CR(e)&&Pw(n,e,Me(),e.stylesWithoutHost,!1),T}function me(t,e,n,r){return C(t,e,n,r),T(),me}var PP=(t,e,n,r,i,o)=>(Up(!0),_0(r,i,wR()));function Mr(){return Me()}var ni=void 0;function OP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var kP=["en",[["a","p"],["AM","PM"],ni],[["AM","PM"],ni,ni],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ni,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ni,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ni,"{1} 'at' {0}",ni],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",OP],Cf={};function Gt(t){let e=FP(t),n=kw(e);if(n)return n;let r=e.split("-")[0];if(n=kw(r),n)return n;if(r==="en")return kP;throw new $(701,!1)}function kw(t){return t in Cf||(Cf[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),Cf[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function FP(t){return t.toLowerCase().replace(/_/g,"-")}var Bu="en-US";var VP=Bu;function LP(t){typeof t=="string"&&(VP=t.toLowerCase().replace(/_/g,"-"))}function Oe(t,e,n,r){let i=Me(),o=Pt(),s=Ot();return jP(o,i,i[tt],s,t,e,r),Oe}function UP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Js],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function jP(t,e,n,r,i,o,s){let a=xp(r),l=t.firstCreatePass&&uN(t),h=e[an],p=cN(e),g=!0;if(r.type&3||s){let O=zt(r,e),P=s?s(O):O,U=p.length,Y=s?de=>s(An(de[r.index])):r.index,G=null;if(!s&&a&&(G=UP(t,e,i,r.index)),G!==null){let de=G.__ngLastListenerFn__||G;de.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,g=!1}else{o=Vw(r,e,h,o,!1);let de=n.listen(P,i,o);p.push(o,de),l&&l.push(i,Y,U,U+1)}}else o=Vw(r,e,h,o,!1);let I=r.outputs,x;if(g&&I!==null&&(x=I[i])){let O=x.length;if(O)for(let P=0;P<O;P+=2){let U=x[P],Y=x[P+1],Fe=e[U][Y].subscribe(o),te=p.length;p.push(o,Fe),l&&l.push(i,r.index,te,-(te+1))}}}function Fw(t,e,n,r){let i=_e(null);try{return Dn(6,e,n),n(r)!==!1}catch(o){return B0(t,o),!1}finally{Dn(7,e,n),_e(i)}}function Vw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Tr(t.index,e):e;nm(a);let u=Fw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Fw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function St(t=1){return _R(t)}function So(t,e,n,r,i){let o=Me(),s=Z0(o,e,n,r);if(s!==Ar){let a=Pt(),u=Vp();k0(a,u,o,t,s,o[tt],i,!1)}return So}function BP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function M(t,e=""){let n=Me(),r=Pt(),i=t+Sn,o=r.firstCreatePass?el(r,i,1,e,null):r.data[i],s=$P(r,n,o,e,t);n[i]=s,Lp()&&Jp(r,n,s,o),ca(o,!1)}var $P=(t,e,n,r,i)=>(Up(!0),yx(e[tt],r));function kt(t){return Rn("",t,""),kt}function Rn(t,e,n){let r=Me(),i=Z0(r,t,e,n);return i!==Ar&&lN(r,bo(),i),Rn}function HP(t,e,n){let r=Pt();if(r.firstCreatePass){let i=Ir(t);gp(n,r.data,r.blueprint,i,!0),gp(e,r.data,r.blueprint,i,!1)}}function gp(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)gp(t[o],e,n,r,i);else{let o=Pt(),s=Me(),a=Ot(),u=yo(t)?t:It(t.provide),l=fE(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(yo(t)||!t.multi){let I=new li(l,i,z),x=Af(u,e,i?h:h+g,p);x===-1?(Bf(Ou(a,s),o,u),Sf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[x]=I,s[x]=I)}else{let I=Af(u,e,h+g,p),x=Af(u,e,h,h+g),O=I>=0&&n[I],P=x>=0&&n[x];if(i&&!P||!i&&!O){Bf(Ou(a,s),o,u);let U=GP(i?zP:qP,n.length,i,r,l);!i&&P&&(n[x].providerFactory=U),Sf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=X0(n[i?x:I],l,!i&&r);Sf(o,t,I>-1?I:x,U)}!i&&r&&P&&n[x].componentProviders++}}}function Sf(t,e,n,r){let i=yo(e),o=FM(e);if(i||o){let u=(o?It(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function X0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Af(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qP(t,e,n,r){return yp(this.multi,[])}function zP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Io(n,n[ce],this.providerFactory.index,r);o=a.slice(0,s),yp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],yp(i,o);return o}function yp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GP(t,e,n,r,i){let o=new li(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,X0(o,i,r&&!n),o}function Ao(t,e=[]){return n=>{n.providersResolver=(r,i)=>HP(r,i?i(t):t,e)}}var WP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=lE(!1,r.type),o=i.length>0?im([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(oe(qt))});let t=e;return t})();function Ue(t){K0("NgStandalone"),t.getStandaloneInjector=e=>e.get(WP).getOrCreateStandaloneInjector(t)}function KP(t,e){let n=t[e];return n===Ar?void 0:n}function QP(t,e,n,r,i,o,s){let a=e+n;return sP(t,a,i,o)?oP(t,a+2,s?r.call(s,i,o):r(i,o)):KP(t,a+2)}function la(t,e){let n=Pt(),r,i=t+Sn;n.firstCreatePass?(r=YP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=oi(r.type,!0)),s,a=Ct(z);try{let u=Pu(!1),l=o();return Pu(u),BP(n,Me(),i,l),l}finally{Ct(a)}}function YP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function da(t,e,n,r){let i=t+Sn,o=Me(),s=ZM(o,i);return JP(o,i)?QP(o,dR(),e,s.transform,n,r,s):s.transform(n,r)}function JP(t,e){return t[ce].data[e].pure}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eD=new Qn("17.3.7"),al=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tD=new W("");function vi(t){return!!t&&typeof t.then=="function"}function nD(t){return!!t&&typeof t.subscribe=="function"}var rD=new W(""),iD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(rD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(vi(s))r.push(s);else if(nD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sm=new W("");function ZP(){CI(()=>{throw new $(600,!1)})}function XP(t){return t.isBoundToModule}function e1(t,e,n){try{let r=n();return vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ha=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(QE),this.afterRenderEffectManager=V(Q0),this.externalTestViews=new Set,this.beforeRender=new ft,this.afterTick=new ft,this.componentTypes=[],this.components=[],this.isStable=V(il).hasPendingTasks.pipe(ae(r=>!r)),this._injector=V(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Vu;if(!this._injector.get(iD).done){let I=!o&&sE(r),x=!1;throw new $(405,x)}let a;o?a=r:a=this._injector.get(rl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=XP(a)?void 0:this._injector.get(wr),l=i||a.selector,h=a.create(Mn.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(tD,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Mf(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new $(101,!1);let i=_e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,_e(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===H0)throw new $(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)t1(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vp(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vp(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Mf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(sm,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Mf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function t1(t,e,n){!e&&!vp(t)||n1(t,n,e)}function vp(t){return Pp(t)}function n1(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,q0(t,e,r)}var _p=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},am=(()=>{let e=class e{compileModuleSync(r){return new hp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=aE(r),s=v0(o.declarations).reduce((a,u)=>{let l=si(u);return l&&a.push(new na(l)),a},[]);return new _p(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var r1=(()=>{let e=class e{constructor(){this.zone=V(Ae),this.applicationRef=V(ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i1(t){return[{provide:Ae,useFactory:t},{provide:go,multi:!0,useFactory:()=>{let e=V(r1,{optional:!0});return()=>e.initialize()}},{provide:go,multi:!0,useFactory:()=>{let e=V(c1);return()=>{e.initialize()}}},{provide:QE,useFactory:o1}]}function o1(){let t=V(Ae),e=V(Gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function s1(t){let e=i1(()=>new Ae(a1(t)));return Dr([[],e])}function a1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var c1=(()=>{let e=class e{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=V(Ae),this.pendingTasks=V(il)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u1(){return typeof $localize<"u"&&$localize.locale||Bu}var cl=new W("",{providedIn:"root",factory:()=>V(cl,ie.Optional|ie.SkipSelf)||u1()});var oD=new W("");var Eu=null;function l1(t=[],e){return Mn.create({name:e,providers:[{provide:zu,useValue:"platform"},{provide:oD,useValue:new Set([()=>Eu=null])},...t]})}function d1(t=[]){if(Eu)return Eu;let e=l1(t);return Eu=e,ZP(),h1(e),e}function h1(t){t.get(qp,null)?.forEach(n=>n())}var Mo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=f1;let t=e;return t})();function f1(t){return p1(Ot(),Me(),(t&16)===16)}function p1(t,e,n){if(Ku(t)&&!n){let r=Tr(t.index,e);return new hi(r,r)}else if(t.type&47){let r=e[Cn];return new hi(r,e)}return null}var Ip=class{constructor(){}supports(e){return J0(e)}create(e){return new wp(e)}},m1=(t,e)=>e,wp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Lw(r,i,o)?n:r,a=Lw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let I=g<o.length?o[g]:o[g]=0,x=I+g;h<=x&&x<l&&(o[g]=I+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!J0(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,rP(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ep(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $u),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $u),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ep=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Dp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$u=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Dp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Lw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Uw(){return new cm([new Ip])}var cm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Uw()),deps:[[e,new Yw,new un]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:Uw});let t=e;return t})();function sD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=d1(r),o=[s1(),...n||[]],a=new Uu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ae);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Gn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),g=i.get(oD);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),e1(l,u,()=>{let I=a.get(iD);return I.runInitializers(),I.donePromise.then(()=>{let x=a.get(cl,Bu);LP(x||Bu);let O=a.get(ha);return e!==void 0&&O.bootstrap(e),O})})})}catch(e){return Promise.reject(e)}}function Ro(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var hD=null;function nr(){return hD}function fD(t){hD??=t}var yl=class{};var Vt=new W(""),pD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(g1),providedIn:"platform"});let t=e;return t})();var g1=(()=>{let e=class e extends pD{constructor(){super(),this._doc=V(Vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function mD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function _i(t){return t&&t[0]!=="?"?"?"+t:t}var xo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(gD),providedIn:"root"});let t=e;return t})(),y1=new W(""),gD=(()=>{let e=class e extends xo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+_i(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+_i(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+_i(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(oe(pD),oe(y1,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fa=(()=>{let e=class e{constructor(r){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=I1(aD(cD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+_i(i))}normalize(r){return e.stripTrailingSlash(_1(this._basePath,cD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_i(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_i(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=_i,e.joinWithSlash=mD,e.stripTrailingSlash=aD,e.\u0275fac=function(i){return new(i||e)(oe(xo))},e.\u0275prov=H({token:e,factory:()=>v1(),providedIn:"root"});let t=e;return t})();function v1(){return new fa(oe(xo))}function _1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cD(t){return t.replace(/\/index.html$/,"")}function I1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Et=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Et||{}),Se=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Se||{}),Ft=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ft||{}),Rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function w1(t){return Gt(t)[qe.LocaleId]}function E1(t,e,n){let r=Gt(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=Wt(i,e);return Wt(o,n)}function D1(t,e,n){let r=Gt(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=Wt(i,e);return Wt(o,n)}function b1(t,e,n){let r=Gt(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=Wt(i,e);return Wt(o,n)}function T1(t,e){let r=Gt(t)[qe.Eras];return Wt(r,e)}function ul(t,e){let n=Gt(t);return Wt(n[qe.DateFormat],e)}function ll(t,e){let n=Gt(t);return Wt(n[qe.TimeFormat],e)}function dl(t,e){let r=Gt(t)[qe.DateTimeFormat];return Wt(r,e)}function Il(t,e){let n=Gt(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===Rr.CurrencyDecimal)return n[qe.NumberSymbols][Rr.Decimal];if(e===Rr.CurrencyGroup)return n[qe.NumberSymbols][Rr.Group]}return r}function yD(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function C1(t){let e=Gt(t);return yD(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?um(r):[um(r[0]),um(r[1])])}function S1(t,e,n){let r=Gt(t);yD(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=Wt(i,e)||[];return Wt(o,n)||[]}function Wt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function um(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var A1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hl={},M1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,tr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(tr||{}),we=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(we||{}),Ie=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ie||{});function R1(t,e,n,r){let i=U1(t);e=er(n,e)||e;let s=[],a;for(;e;)if(a=M1.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=_D(r,u),i=L1(i,r,!0));let l="";return s.forEach(h=>{let p=F1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function vl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function er(t,e){let n=w1(t);if(hl[n]??={},hl[n][e])return hl[n][e];let r="";switch(e){case"shortDate":r=ul(t,Ft.Short);break;case"mediumDate":r=ul(t,Ft.Medium);break;case"longDate":r=ul(t,Ft.Long);break;case"fullDate":r=ul(t,Ft.Full);break;case"shortTime":r=ll(t,Ft.Short);break;case"mediumTime":r=ll(t,Ft.Medium);break;case"longTime":r=ll(t,Ft.Long);break;case"fullTime":r=ll(t,Ft.Full);break;case"short":let i=er(t,"shortTime"),o=er(t,"shortDate");r=fl(dl(t,Ft.Short),[i,o]);break;case"medium":let s=er(t,"mediumTime"),a=er(t,"mediumDate");r=fl(dl(t,Ft.Medium),[s,a]);break;case"long":let u=er(t,"longTime"),l=er(t,"longDate");r=fl(dl(t,Ft.Long),[u,l]);break;case"full":let h=er(t,"fullTime"),p=er(t,"fullDate");r=fl(dl(t,Ft.Full),[h,p]);break}return r&&(hl[n][e]=r),r}function fl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function gn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function x1(t,e){return gn(t,3).substring(0,e)}function Ge(t,e,n=0,r=!1,i=!1){return function(o,s){let a=N1(t,o);if((n>0||a>-n)&&(a+=n),t===we.Hours)a===0&&n===-12&&(a=12);else if(t===we.FractionalSeconds)return x1(a,e);let u=Il(s,Rr.MinusSign);return gn(a,e,u,r,i)}}function N1(t,e){switch(t){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Re(t,e,n=Et.Format,r=!1){return function(i,o){return P1(i,o,t,e,n,r)}}function P1(t,e,n,r,i,o){switch(n){case Ie.Months:return b1(e,i,r)[t.getMonth()];case Ie.Days:return D1(e,i,r)[t.getDay()];case Ie.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=C1(e),h=S1(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[I,x]=g,O=s>=I.hours&&a>=I.minutes,P=s<x.hours||s===x.hours&&a<x.minutes;if(I.hours<x.hours){if(O&&P)return!0}else if(O||P)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return E1(e,i,r)[s<12?0:1];case Ie.Eras:return T1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function pl(t){return function(e,n,r){let i=-1*r,o=Il(n,Rr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case tr.Short:return(i>=0?"+":"")+gn(s,2,o)+gn(Math.abs(i%60),2,o);case tr.ShortGMT:return"GMT"+(i>=0?"+":"")+gn(s,1,o);case tr.Long:return"GMT"+(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);case tr.Extended:return r===0?"Z":(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var O1=0,gl=4;function k1(t){let e=vl(t,O1,1).getDay();return vl(t,0,1+(e<=gl?gl:gl+7)-e)}function vD(t){let e=t.getDay(),n=e===0?-3:gl-e;return vl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function lm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=vD(n),s=k1(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return gn(i,t,Il(r,Rr.MinusSign))}}function ml(t,e=!1){return function(n,r){let o=vD(n).getFullYear();return gn(o,t,Il(r,Rr.MinusSign),e)}}var dm={};function F1(t){if(dm[t])return dm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Re(Ie.Eras,Se.Abbreviated);break;case"GGGG":e=Re(Ie.Eras,Se.Wide);break;case"GGGGG":e=Re(Ie.Eras,Se.Narrow);break;case"y":e=Ge(we.FullYear,1,0,!1,!0);break;case"yy":e=Ge(we.FullYear,2,0,!0,!0);break;case"yyy":e=Ge(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Ge(we.FullYear,4,0,!1,!0);break;case"Y":e=ml(1);break;case"YY":e=ml(2,!0);break;case"YYY":e=ml(3);break;case"YYYY":e=ml(4);break;case"M":case"L":e=Ge(we.Month,1,1);break;case"MM":case"LL":e=Ge(we.Month,2,1);break;case"MMM":e=Re(Ie.Months,Se.Abbreviated);break;case"MMMM":e=Re(Ie.Months,Se.Wide);break;case"MMMMM":e=Re(Ie.Months,Se.Narrow);break;case"LLL":e=Re(Ie.Months,Se.Abbreviated,Et.Standalone);break;case"LLLL":e=Re(Ie.Months,Se.Wide,Et.Standalone);break;case"LLLLL":e=Re(Ie.Months,Se.Narrow,Et.Standalone);break;case"w":e=lm(1);break;case"ww":e=lm(2);break;case"W":e=lm(1,!0);break;case"d":e=Ge(we.Date,1);break;case"dd":e=Ge(we.Date,2);break;case"c":case"cc":e=Ge(we.Day,1);break;case"ccc":e=Re(Ie.Days,Se.Abbreviated,Et.Standalone);break;case"cccc":e=Re(Ie.Days,Se.Wide,Et.Standalone);break;case"ccccc":e=Re(Ie.Days,Se.Narrow,Et.Standalone);break;case"cccccc":e=Re(Ie.Days,Se.Short,Et.Standalone);break;case"E":case"EE":case"EEE":e=Re(Ie.Days,Se.Abbreviated);break;case"EEEE":e=Re(Ie.Days,Se.Wide);break;case"EEEEE":e=Re(Ie.Days,Se.Narrow);break;case"EEEEEE":e=Re(Ie.Days,Se.Short);break;case"a":case"aa":case"aaa":e=Re(Ie.DayPeriods,Se.Abbreviated);break;case"aaaa":e=Re(Ie.DayPeriods,Se.Wide);break;case"aaaaa":e=Re(Ie.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":e=Re(Ie.DayPeriods,Se.Abbreviated,Et.Standalone,!0);break;case"bbbb":e=Re(Ie.DayPeriods,Se.Wide,Et.Standalone,!0);break;case"bbbbb":e=Re(Ie.DayPeriods,Se.Narrow,Et.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(Ie.DayPeriods,Se.Abbreviated,Et.Format,!0);break;case"BBBB":e=Re(Ie.DayPeriods,Se.Wide,Et.Format,!0);break;case"BBBBB":e=Re(Ie.DayPeriods,Se.Narrow,Et.Format,!0);break;case"h":e=Ge(we.Hours,1,-12);break;case"hh":e=Ge(we.Hours,2,-12);break;case"H":e=Ge(we.Hours,1);break;case"HH":e=Ge(we.Hours,2);break;case"m":e=Ge(we.Minutes,1);break;case"mm":e=Ge(we.Minutes,2);break;case"s":e=Ge(we.Seconds,1);break;case"ss":e=Ge(we.Seconds,2);break;case"S":e=Ge(we.FractionalSeconds,1);break;case"SS":e=Ge(we.FractionalSeconds,2);break;case"SSS":e=Ge(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=pl(tr.Short);break;case"ZZZZZ":e=pl(tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=pl(tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=pl(tr.Long);break;default:return null}return dm[t]=e,e}function _D(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function V1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function L1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=_D(e,i);return V1(t,r*(o-i))}function U1(t){if(uD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return vl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(A1))return j1(r)}let e=new Date(t);if(!uD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function j1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function uD(t){return t instanceof Date&&!isNaN(t.valueOf())}function ID(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},No=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new hm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),lD(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);lD(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(z(Co),z(nl),z(cm))},e.\u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function lD(t,e){t.context.$implicit=e.item}var Po=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){dD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){dD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(z(Co),z(nl))},e.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fm=class{constructor(){this.$implicit=null,this.ngIf=null}};function dD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}function B1(t,e){return new $(2100,!1)}var $1="mediumDate",H1=new W(""),q1=new W(""),wl=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??$1,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return R1(r,a,s||this.locale,u)}catch(a){throw B1(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(z(cl,16),z(H1,24),z(q1,24))},e.\u0275pipe=rE({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Dt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=pi({});let t=e;return t})(),wD="browser",z1="server";function pm(t){return t===z1}var _l=class{};var ym=class extends yl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vm=class t extends ym{static makeCurrent(){fD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=G1();return n==null?null:W1(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ID(document.cookie,e)}},pa=null;function G1(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}function W1(t){return new URL(t,document.baseURI).pathname}var K1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),_m=new W(""),TD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(oe(_m),oe(Ae))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),El=class{constructor(e){this._doc=e}},mm="ng-app-id",CD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pm(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${mm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(mm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(mm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(oe(Vt),oe(Hp),oe(zp,8),oe(Sr))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wm=/%COMP%/g,SD="%COMP%",Q1=`_nghost-${SD}`,Y1=`_ngcontent-${SD}`,J1=!0,Z1=new W("",{providedIn:"root",factory:()=>J1});function X1(t){return Y1.replace(wm,t)}function eO(t){return Q1.replace(wm,t)}function AD(t,e){return e.map(n=>n.replace(wm,t))}var ED=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=pm(u),this.defaultRenderer=new ma(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tn.ShadowDom&&(i=ve(L({},i),{encapsulation:Tn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Dl?o.applyToHost(r):o instanceof ga&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Tn.Emulated:s=new Dl(l,h,i,this.appId,p,a,u,g);break;case Tn.ShadowDom:return new Im(l,h,r,i,a,u,this.nonce,g);default:s=new ga(l,h,i,p,a,u,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(oe(TD),oe(CD),oe(Hp),oe(Z1),oe(Vt),oe(Sr),oe(Ae),oe(zp))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ma=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=gm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=gm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function DD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Im=class extends ma{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=AD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends ma{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?AD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dl=class extends ga{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=X1(l),this.hostAttr=eO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},tO=(()=>{let e=class e extends El{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(oe(Vt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),bD=["alt","control","meta","shift"],nO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},iO=(()=>{let e=class e extends El{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),bD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=nO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),bD.forEach(a=>{if(a!==o){let u=rO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(oe(Vt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function MD(t,e){return sD(L({rootComponent:t},oO(e)))}function oO(t){return{appProviders:[...lO,...t?.providers??[]],platformProviders:uO}}function sO(){vm.makeCurrent()}function aO(){return new Gn}function cO(){return n0(document),document}var uO=[{provide:Sr,useValue:wD},{provide:qp,useValue:sO,multi:!0},{provide:Vt,useFactory:cO,deps:[]}];var lO=[{provide:zu,useValue:"root"},{provide:Gn,useFactory:aO,deps:[]},{provide:_m,useClass:tO,multi:!0,deps:[Vt,Ae,Sr]},{provide:_m,useClass:iO,multi:!0,deps:[Vt]},ED,CD,TD,{provide:ta,useExisting:ED},{provide:_l,useClass:K1,deps:[]},[]];var RD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(oe(Vt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Em=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=oe(dO),o},providedIn:"root"});let t=e;return t})(),dO=(()=>{let e=class e extends Em{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case pn.NONE:return i;case pn.HTML:return Zn(i,"HTML")?fn(i):Wp(this._doc,String(i)).toString();case pn.STYLE:return Zn(i,"Style")?fn(i):i;case pn.SCRIPT:if(Zn(i,"Script"))return fn(i);throw new $(5200,!1);case pn.URL:return Zn(i,"URL")?fn(i):Ju(String(i));case pn.RESOURCE_URL:if(Zn(i,"ResourceURL"))return fn(i);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(r){return s0(r)}bypassSecurityTrustStyle(r){return a0(r)}bypassSecurityTrustScript(r){return c0(r)}bypassSecurityTrustUrl(r){return u0(r)}bypassSecurityTrustResourceUrl(r){return l0(r)}};e.\u0275fac=function(i){return new(i||e)(oe(Vt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",xa=Symbol("RouteTitle"),Sm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Lo(t){return new Sm(t)}function hO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}function xn(t,e){let n=t?Am(t):void 0,r=e?Am(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!VD(t[i],e[i]))return!1;return!0}function Am(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function VD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function LD(t){return t.length>0?t[t.length-1]:null}function Or(t){return sf(t)?t:vi(t)?He(Promise.resolve(t)):X(t)}var pO={exact:jD,subset:BD},UD={exact:mO,subset:gO,ignored:()=>!0};function ND(t,e,n){return pO[n.paths](t.root,e.root,n.matrixParams)&&UD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mO(t,e){return xn(t,e)}function jD(t,e,n){if(!Ei(t.segments,e.segments)||!Cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jD(t.children[r],e.children[r],n))return!1;return!0}function gO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>VD(t[n],e[n]))}function BD(t,e,n){return $D(t,e,e.segments,n)}function $D(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ei(i,n)||e.hasChildren()||!Cl(i,n,r))}else if(t.segments.length===n.length){if(!Ei(t.segments,n)||!Cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!BD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ei(t.segments,i)||!Cl(t.segments,i,r)||!t.children[ne]?!1:$D(t.children[ne],e,o,r)}}function Cl(t,e,n){return e.every((r,i)=>UD[n](t[i].parameters,r.parameters))}var xr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){return _O.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sl(this)}},wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Lo(this.parameters),this._parameterMap}toString(){return qD(this)}};function yO(t,e){return Ei(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}function Ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function vO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var eg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Ml,providedIn:"root"});let t=e;return t})(),Ml=class{parse(e){let n=new Rm(e);return new xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ya(e.root,!0)}`,r=EO(e.queryParams),i=typeof e.fragment=="string"?`#${IO(e.fragment)}`:"";return`${n}${r}${i}`}},_O=new Ml;function Sl(t){return t.segments.map(e=>qD(e)).join("/")}function ya(t,e){if(!t.hasChildren())return Sl(t);if(e){let n=t.children[ne]?ya(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${ya(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=vO(t,(r,i)=>i===ne?[ya(t.children[ne],!1)]:[`${i}:${ya(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Sl(t)}/${n[0]}`:`${Sl(t)}/(${n.join("//")})`}}function HD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bl(t){return HD(t).replace(/%3B/gi,";")}function IO(t){return encodeURI(t)}function Mm(t){return HD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(t){return decodeURIComponent(t)}function PD(t){return Al(t.replace(/\+/g,"%20"))}function qD(t){return`${Mm(t.path)}${wO(t.parameters)}`}function wO(t){return Object.entries(t).map(([e,n])=>`;${Mm(e)}=${Mm(n)}`).join("")}function EO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bl(n)}=${bl(i)}`).join("&"):`${bl(n)}=${bl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DO=/^[^\/()?;#]+/;function Dm(t){let e=t.match(DO);return e?e[0]:""}var bO=/^[^\/()?;=#]+/;function TO(t){let e=t.match(bO);return e?e[0]:""}var CO=/^[^=?&#]+/;function SO(t){let e=t.match(CO);return e?e[0]:""}var AO=/^[^&#]+/;function MO(t){let e=t.match(AO);return e?e[0]:""}var Rm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new be(e,n)),r}parseSegment(){let e=Dm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new wi(Al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dm(this.remaining);i&&(r=i,this.capture(r))}e[Al(n)]=Al(r)}parseQueryParam(e){let n=SO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=MO(this.remaining);s&&(r=s,this.capture(r))}let i=PD(n),o=PD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function zD(t){return t.segments.length>0?new be([],{[ne]:t}):t}function GD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=GD(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return RO(n)}function RO(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new be(t.segments.concat(e.segments),e.children)}return t}function Uo(t){return t instanceof xr}function xO(t,e,n=null,r=null){let i=WD(t);return KD(i,e,n,r)}function WD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zD(r);return e??i}function KD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bm(i,i,i,n,r);let o=NO(e);if(o.toRoot())return bm(i,i,new be([],{}),n,r);let s=PO(o,i,t),a=s.processChildren?Ia(s.segmentGroup,s.index,o.commands):YD(s.segmentGroup,s.index,o.commands);return bm(i,s.segmentGroup,a,n,r)}function Rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function bm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=QD(t,e,n);let a=zD(GD(s));return new xr(a,o,i)}function QD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=QD(o,e,n)}),new be(t.segments,r)}var xl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rl(r[0]))throw new $(4003,!1);let i=r.find(Da);if(i&&i!==LD(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xl(n,e,r)}var Fo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PO(t,e,n){if(t.isAbsolute)return new Fo(e,!0,0);if(!n)return new Fo(e,!1,NaN);if(n.parent===null)return new Fo(n,!0,0);let r=Rl(t.commands[0])?0:1,i=n.segments.length-1+r;return OO(n,i,t.numberOfDoubleDots)}function OO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Fo(r,!1,i-o)}function kO(t){return Da(t[0])?t[0].outlets:{[ne]:t}}function YD(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return Ia(t,e,n);let r=FO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new be(t.segments.slice(r.pathIndex),t.children),Ia(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?xm(t,e,n):r.match?Ia(t,0,i):xm(t,e,n)}function Ia(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=kO(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=Ia(t.children[ne],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function FO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Da(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!kD(u,l,s))return o;r+=2}else{if(!kD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Da(o)){let u=VO(o.outlets);return new be(r,u)}if(i===0&&Rl(n[0])){let u=t.segments[e];r.push(new wi(u.path,OD(n[0]))),i++;continue}let s=Da(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Rl(a)?(r.push(new wi(s,OD(a))),i+=2):(r.push(new wi(s,{})),i++)}return new be(r,{})}function VO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xm(new be([],{}),0,r))}),e}function OD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kD(t,e,n){return t==n.path&&xn(e,n.parameters)}var wa="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),Kt=class{constructor(e,n){this.id=e,this.url=n}},ba=class extends Kt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nr=class extends Kt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),Nm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Nm||{}),Pr=class extends Kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends Kt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},Ta=class extends Kt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nl=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pm=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends Kt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},km=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fm=class extends Kt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vm=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lm=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Um=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jm=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$m=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ca=class{},Sa=class{constructor(e){this.url=e}};var Hm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ll,this.attachRef=null}},Ll=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Hm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return zm(e,this._root).map(n=>n.value)}};function qm(t,e){if(t===e.value)return e;for(let n of e.children){let r=qm(t,n);if(r)return r}return null}function zm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=zm(t,n);if(r.length)return r.unshift(e),r}return[]}var Lt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ko(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ol=class extends Pl{constructor(e,n){super(e),this.snapshot=n,ng(this,e)}toString(){return this.snapshot.toString()}};function JD(t){let e=LO(t),n=new Ye([new wi("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),a=new bi(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Ol(new Lt(a,[]),e)}function LO(t){let e={},n={},r={},i="",o=new Aa([],e,r,i,n,ne,t,null,{});return new kl("",new Lt(o,[]))}var bi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[xa]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function tg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&XD(i)&&(r.resolve[xa]=i.title),r}var Aa=class{get title(){return this.data?.[xa]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kl=class extends Pl{constructor(e,n){super(n),this.url=e,ng(this,n)}toString(){return ZD(this._root)}};function ng(t,e){e.value._routerState=t,e.children.forEach(n=>ng(t,n))}function ZD(t){let e=t.children.length>0?` { ${t.children.map(ZD).join(", ")} } `:"";return`${t.value}${e}`}function Tm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xn(e.params,n.params)||t.paramsSubject.next(n.params),fO(e.url,n.url)||t.urlSubject.next(n.url),xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gm(t,e){let n=xn(t.params,e.params)&&yO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gm(t.parent,e.parent))}function XD(t){return typeof t.title=="string"||t.title===null}var rg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=V(Ll),this.location=V(Co),this.changeDetector=V(Mo),this.environmentInjector=V(qt),this.inputBinder=V(ig,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Wm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]});let t=e;return t})(),Wm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bi?this.route:e===Ll?this.childContexts:this.parent.get(e,n)}},ig=new W("");function UO(t,e,n){let r=Ma(t,e._root,n?n._root:void 0);return new Ol(r,e)}function Ma(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=jO(t,e,n);return new Lt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ma(t,a)),s}}let r=BO(e.value),i=e.children.map(o=>Ma(t,o));return new Lt(r,i)}}function jO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ma(t,r,i);return Ma(t,r)})}function BO(t){return new bi(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var eb="ngNavigationCancelingError";function tb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nb(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function nb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eb]=!0,n.cancellationCode=e,n}function $O(t){return rb(t)&&Uo(t.url)}function rb(t){return!!t&&t[eb]}var HO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(i,o){i&1&&me(0,"router-outlet")},dependencies:[rg],encapsulation:2});let t=e;return t})();function qO(t,e){return t.providers&&!t._injector&&(t._injector=im(t.providers,e,`Route: ${t.path}`)),t._injector??e}function og(t){let e=t.children&&t.children.map(og),n=e?ve(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=HO),n}function Nn(t){return t.outlet||ne}function zO(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Na(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var GO=(t,e,n,r)=>ae(i=>(new Km(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Km=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ko(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ko(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ko(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $m(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Tm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Na(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Fl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vo=class{constructor(e,n){this.component=e,this.route=n}};function WO(t,e,n){let r=t._root,i=e?e._root:null;return va(r,i,n,[r.value])}function KO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hw(t)?t:e.get(t):r}function va(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ko(e);return t.children.forEach(s=>{QO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ea(a,n.getContext(s),i)),i}function QO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=YO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(t,e,a?a.children:null,r,i):va(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vo(a.outlet.component,s))}else s&&Ea(e,a,i),i.canActivateChecks.push(new Fl(r)),o.component?va(t,null,a?a.children:null,r,i):va(t,null,n,r,i);return i}function YO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gm(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gm(t,e)}}function Ea(t,e,n){let r=ko(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ea(s,e.children.getContext(o),n):Ea(s,null,n):Ea(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vo(e.outlet.component,i)):n.canDeactivateChecks.push(new Vo(null,i)):n.canDeactivateChecks.push(new Vo(null,i))}function Pa(t){return typeof t=="function"}function JO(t){return typeof t=="boolean"}function ZO(t){return t&&Pa(t.canLoad)}function XO(t){return t&&Pa(t.canActivate)}function ek(t){return t&&Pa(t.canActivateChild)}function tk(t){return t&&Pa(t.canDeactivate)}function nk(t){return t&&Pa(t.canMatch)}function ib(t){return t instanceof qn||t?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function jo(){return rn(t=>uu(t.map(e=>e.pipe(zn(1),hf(Tl)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===Tl)return Tl;if(n===!1||n instanceof xr)return n}return!0}),nn(e=>e!==Tl),zn(1)))}function rk(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?X(ve(L({},n),{guardsResult:!0})):ik(s,r,i,t).pipe(Je(a=>a&&JO(a)?ok(r,o,t,e):X(a)),ae(a=>ve(L({},n),{guardsResult:a})))})}function ik(t,e,n,r){return He(t).pipe(Je(i=>lk(i.component,i.route,n,e,r)),En(i=>i!==!0,!0))}function ok(t,e,n,r){return He(e).pipe(ao(i=>so(ak(i.route.parent,r),sk(i.route,r),uk(t,i.path,n),ck(t,i.route,n))),En(i=>i!==!0,!0))}function sk(t,e){return t!==null&&e&&e(new Bm(t)),X(!0)}function ak(t,e){return t!==null&&e&&e(new Um(t)),X(!0)}function ck(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>lu(()=>{let s=Na(e)??n,a=Bo(o,s),u=XO(a)?a.canActivate(e,t):gi(s,()=>a(e,t));return Or(u).pipe(En())}));return X(i).pipe(jo())}function uk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>KO(s)).filter(s=>s!==null).map(s=>lu(()=>{let a=s.guards.map(u=>{let l=Na(s.node)??n,h=Bo(u,l),p=ek(h)?h.canActivateChild(r,t):gi(l,()=>h(r,t));return Or(p).pipe(En())});return X(a).pipe(jo())}));return X(o).pipe(jo())}function lk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let u=Na(e)??i,l=Bo(a,u),h=tk(l)?l.canDeactivate(t,e,n,r):gi(u,()=>l(t,e,n,r));return Or(h).pipe(En())});return X(s).pipe(jo())}function dk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=Bo(s,t),u=ZO(a)?a.canLoad(e,n):gi(t,()=>a(e,n));return Or(u)});return X(o).pipe(jo(),ob(r))}function ob(t){return Jh(Ze(e=>{if(Uo(e))throw tb(t,e)}),ae(e=>e===!0))}function hk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=Bo(s,t),u=nk(a)?a.canMatch(e,n):gi(t,()=>a(e,n));return Or(u)});return X(o).pipe(jo(),ob(r))}var Ra=class{constructor(e){this.segmentGroup=e||null}},Vl=class extends Error{constructor(e){super(),this.urlTree=e}};function Oo(t){return oo(new Ra(t))}function fk(t){return oo(new $(4e3,!1))}function pk(t){return oo(nb(!1,Ut.GuardRejected))}var Qm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[ne])return fk(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Vl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new xr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ym={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mk(t,e,n,r,i){let o=sg(t,e,n);return o.matched?(r=qO(e,r),hk(r,e,n,i).pipe(ae(s=>s===!0?o:L({},Ym)))):X(o)}function sg(t,e,n){if(e.path==="**")return gk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Ym):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hO)(n,t,e);if(!i)return L({},Ym);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gk(t){return{matched:!0,parameters:t.length>0?LD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function FD(t,e,n,r){return n.length>0&&_k(t,n,r)?{segmentGroup:new be(e,vk(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&Ik(t,n,r)?{segmentGroup:new be(t.segments,yk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function yk(t,e,n,r){let i={};for(let o of n)if(Ul(t,e,o)&&!r[Nn(o)]){let s=new be([],{});i[Nn(o)]=s}return L(L({},r),i)}function vk(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&Nn(r)!==ne){let i=new be([],{});n[Nn(r)]=i}return n}function _k(t,e,n){return n.some(r=>Ul(t,e,r)&&Nn(r)!==ne)}function Ik(t,e,n){return n.some(r=>Ul(t,e,r))}function Ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wk(t,e,n,r){return Nn(t)!==r&&(r===ne||!Ul(e,n,t))?!1:sg(e,t,n).matched}function Ek(t,e,n){return e.length===0&&!t.children[n]}var Jm=class{};function Dk(t,e,n,r,i,o,s="emptyOnly"){return new Zm(t,e,n,r,i,s,o).recognize()}var bk=31,Zm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=FD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(n=>{let r=new Aa([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Lt(r,n),o=new kl("",i),s=xO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(gr(r=>{if(r instanceof Vl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ra?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=tg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ae(o=>o instanceof Lt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return He(i).pipe(ao(o=>{let s=r.children[o],a=zO(n,o);return this.processSegmentGroup(e,a,s,o)}),df((o,s)=>(o.push(...s),o)),yr(null),lf(),Je(o=>{if(o===null)return Oo(r);let s=sb(o);return Tk(s),X(s)}))}processSegment(e,n,r,i,o,s){return He(n).pipe(ao(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gr(u=>{if(u instanceof Ra)return X(null);throw u}))),En(a=>!!a),gr(a=>{if(ib(a))return Ek(r,i,o)?X(new Jm):Oo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return wk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Oo(i):Oo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=sg(n,i,o);if(!a)return Oo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Je(g=>this.processSegment(e,r,n,g.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=mk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(rn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rn(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,I=new Aa(h,g,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Sk(r),Nn(r),r.component??r._loadedComponent??null,r,Ak(r)),{segmentGroup:x,slicedSegments:O}=FD(n,h,p,u);if(O.length===0&&x.hasChildren())return this.processChildren(l,u,x).pipe(ae(U=>U===null?null:new Lt(I,U)));if(u.length===0&&O.length===0)return X(new Lt(I,[]));let P=Nn(r)===o;return this.processSegment(l,u,x,O,P?ne:o,!0).pipe(ae(U=>new Lt(I,U instanceof Lt?[U]:[])))}))):Oo(n)))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):dk(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):pk(n))):X({routes:[],injector:e})}};function Tk(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function Ck(t){let e=t.value.routeConfig;return e&&e.path===""}function sb(t){let e=[],n=new Set;for(let r of t){if(!Ck(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sb(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!n.has(r))}function Sk(t){return t.data||{}}function Ak(t){return t.resolve||{}}function Mk(t,e,n,r,i,o){return Je(s=>Dk(t,e,n,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:u})=>ve(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Rk(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of ab(u))s.add(l);let a=0;return He(s).pipe(ao(u=>o.has(u)?xk(u,r,t,e):(u.data=tg(u,u.parent,t).resolve,X(void 0))),Ze(()=>a++),co(1),Je(u=>a===s.size?X(n):xt))})}function ab(t){let e=t.children.map(n=>ab(n)).flat();return[t,...e]}function xk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!XD(i)&&(o[xa]=i.title),Nk(o,t,e,r).pipe(ae(s=>(t._resolvedData=s,t.data=tg(t,t.parent,n).resolve,null)))}function Nk(t,e,n,r){let i=Am(t);if(i.length===0)return X({});let o={};return He(i).pipe(Je(s=>Pk(t[s],e,n,r).pipe(En(),Ze(a=>{o[s]=a}))),co(1),uf(o),gr(s=>ib(s)?xt:oo(s)))}function Pk(t,e,n,r){let i=Na(e)??r,o=Bo(t,i),s=o.resolve?o.resolve(e,n):gi(i,()=>o(e,n));return Or(s)}function Cm(t){return rn(e=>{let n=t(e);return n?He(n).pipe(ae(()=>e)):X(e)})}var cb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[xa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(Ok),providedIn:"root"});let t=e;return t})(),Ok=(()=>{let e=class e extends cb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(oe(RD))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ag=new W("",{providedIn:"root",factory:()=>({})}),cg=new W(""),kk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(am)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Or(r.loadComponent()).pipe(ae(ub),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Gs(()=>{this.componentLoaders.delete(r)})),o=new to(i,()=>new ft).pipe(eo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return X({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Fk(i,this.compiler,r,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(i)})),a=new to(s,()=>new ft).pipe(eo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fk(t,e,n,r){return Or(t.loadChildren()).pipe(ae(ub),Je(i=>i instanceof ra||Array.isArray(i)?X(i):He(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(cg,[],{optional:!0,self:!0}).flat()),{routes:s.map(og),injector:o}}))}function Vk(t){return t&&typeof t=="object"&&"default"in t}function ub(t){return Vk(t)?t.default:t}var ug=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(Lk),providedIn:"root"});let t=e;return t})(),Lk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uk=new W("");var jk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ft,this.transitionAbortSubject=new ft,this.configLoader=V(kk),this.environmentInjector=V(qt),this.urlSerializer=V(eg),this.rootContexts=V(Ll),this.location=V(fa),this.inputBindingEnabled=V(ig,{optional:!0})!==null,this.titleStrategy=V(cb),this.options=V(ag,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(ug),this.createViewTransition=V(Uk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Vm(o)),i=o=>this.events.next(new Lm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(L(L({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nn(s=>s.id!==0),ae(s=>ve(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),rn(s=>{let a=!1,u=!1;return X(s).pipe(rn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),xt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ve(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.rawUrl),g,Nm.IgnoredSameUrlNavigation)),l.resolve(null),xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(rn(g=>{let I=this.transitions?.getValue();return this.events.next(new ba(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),I!==this.transitions?.getValue()?xt:Promise.resolve(g)}),Mk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ve(L({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let I=new Nl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:I,source:x,restoredState:O,extras:P}=l,U=new ba(g,this.urlSerializer.serialize(I),x,O);this.events.next(U);let Y=JD(this.rootComponentType).snapshot;return this.currentTransition=s=ve(L({},l),{targetSnapshot:Y,urlAfterRedirects:I,extras:ve(L({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,X(s)}else{let g="";return this.events.next(new Di(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Nm.IgnoredByUrlHandlingStrategy)),l.resolve(null),xt}}),Ze(l=>{let h=new Pm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ae(l=>(this.currentTransition=s=ve(L({},l),{guards:WO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),rk(this.environmentInjector,l=>this.events.next(l)),Ze(l=>{if(s.guardsResult=l.guardsResult,Uo(l.guardsResult))throw tb(this.urlSerializer,l.guardsResult);let h=new Om(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),nn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),Cm(l=>{if(l.guards.canActivateChecks.length)return X(l).pipe(Ze(h=>{let p=new km(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),rn(h=>{let p=!1;return X(h).pipe(Rk(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ut.NoDataFromResolver)}}))}),Ze(h=>{let p=new Fm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Cm(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ze(I=>{p.component=I}),ae(()=>{})));for(let I of p.children)g.push(...h(I));return g};return uu(h(l.targetSnapshot.root)).pipe(yr(null),zn(1))}),Cm(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?He(p).pipe(ae(()=>s)):X(s)}),ae(l=>{let h=UO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ve(L({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Ze(()=>{this.events.next(new Ca)}),GO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),zn(1),Ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ff(this.transitionAbortSubject.pipe(Ze(l=>{throw l}))),Gs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(l=>{if(u=!0,rb(l))this.events.next(new Pr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),$O(l)?this.events.next(new Sa(l.url)):s.resolve(!1);else{this.events.next(new Ta(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return xt}))}))}cancelNavigationTransition(r,i,o){let s=new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bk(t){return t!==wa}var $k=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(Hk),providedIn:"root"});let t=e;return t})(),Xm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Hk=(()=>{let e=class e extends Xm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=To(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>V(qk),providedIn:"root"});let t=e;return t})(),qk=(()=>{let e=class e extends lb{constructor(){super(...arguments),this.location=V(fa),this.urlSerializer=V(eg),this.options=V(ag,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(ug),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ba)this.stateMemento=this.createStateMemento();else if(r instanceof Di)this.rawUrlTree=i.initialUrl;else if(r instanceof Nl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ca?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Pr&&(r.code===Ut.GuardRejected||r.code===Ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ta?this.restoreHistory(i,!0):r instanceof Nr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=L(L({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=To(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_a||{});function zk(t,e){t.events.pipe(nn(n=>n instanceof Nr||n instanceof Pr||n instanceof Ta||n instanceof Di),ae(n=>n instanceof Nr||n instanceof Di?_a.COMPLETE:(n instanceof Pr?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),nn(n=>n!==_a.REDIRECTING),zn(1)).subscribe(()=>{e()})}function Gk(t){throw t}var Wk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(al),this.stateManager=V(lb),this.options=V(ag,{optional:!0})||{},this.pendingTasks=V(il),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(jk),this.urlSerializer=V(eg),this.location=V(fa),this.urlHandlingStrategy=V(ug),this._events=new ft,this.errorHandler=this.options.errorHandler||Gk,this.navigated=!1,this.routeReuseStrategy=V($k),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(cg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(ig,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=V(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Pr&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Nr)this.navigated=!0;else if(i instanceof Sa){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Bk(o.source)};this.scheduleNavigation(a,wa,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Yk(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=L({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let I=o?o.snapshot:this.routerState.snapshot.root;g=WD(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return KD(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Uo(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,wa,null,i)}navigate(r,i={skipLocationChange:!1}){return Qk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=L({},Wk):i===!1?o=L({},Kk):o=i,Uo(r))return ND(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ND(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,I)=>{u=g,l=I});let p=this.pendingTasks.add();return zk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function Yk(t){return!(t instanceof Ca)&&!(t instanceof Sa)}var $o=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ft,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:y0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(z(yn),z(bi),$p("tabindex"),z(yi),z(Cr),z(xo))},e.\u0275dir=nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Oe("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ol("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[et.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ro],skipLocationChange:[et.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ro],replaceUrl:[et.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ro],routerLink:"routerLink"},standalone:!0,features:[rm,br]});let t=e;return t})();var Jk=new W("");function db(t,...e){return Dr([{provide:cg,multi:!0,useValue:t},[],{provide:bi,useFactory:Zk,deps:[yn]},{provide:sm,multi:!0,useFactory:Xk},e.map(n=>n.\u0275providers)])}function Zk(t){return t.routerState.root}function Xk(){let t=V(Mn);return e=>{let n=t.get(ha);if(e!==n.components[0])return;let r=t.get(yn),i=t.get(eF);t.get(tF)===1&&r.initialNavigation(),t.get(nF,null,ie.Optional)?.setUpPreloading(),t.get(Jk,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eF=new W("",{factory:()=>new ft}),tF=new W("",{providedIn:"root",factory:()=>1});var nF=new W("");var fb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(g=64)),r.push(n[h],n[p],n[g],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new dg;let g=o<<2|a>>4;if(r.push(g),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let x=l<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oF=function(t){let e=fb(t);return pb.encodeByteArray(e,!0)},Oa=function(t){return oF(t).replace(/\./g,"")},fg=function(t){try{return pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aF=()=>sF().__FIREBASE_DEFAULTS__,cF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&fg(t[1]);return e&&JSON.parse(e)},Bl=()=>{try{return aF()||cF()||uF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mb=t=>{var e,n;return(n=(e=Bl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gb=t=>{let e=mb(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pg=()=>{var t;return(t=Bl())===null||t===void 0?void 0:t.config},yb=t=>{var e;return(e=Bl())===null||e===void 0?void 0:e[`_${t}`]};var jl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oa(JSON.stringify(n)),Oa(JSON.stringify(s)),""].join(".")}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function lF(){var t;let e=(t=Bl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eb(){return!lF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mg(){try{return typeof indexedDB=="object"}catch{return!1}}function Db(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var dF="FirebaseError",Qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rr.prototype.create)}},rr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Qt(i,a,r)}};function hF(t,e){return t.replace(fF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fF=/\{\$([^}]+)}/g;function Ho(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(hb(o)&&hb(s)){if(!Ho(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hb(t){return t!==null&&typeof t=="object"}function gg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bb(t,e){let n=new hg(t,e);return n.subscribe.bind(n)}var hg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lg),i.error===void 0&&(i.error=lg),i.complete===void 0&&(i.complete=lg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lg(){}var R5=4*60*60*1e3;function Yt(t){return t&&t._delegate?t._delegate:t}var Jt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ti="[DEFAULT]";var yg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gF(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mF(t){return t===Ti?void 0:t}function gF(t){return t.instantiationMode==="EAGER"}var $l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new yg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yF=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),vF={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},_F=ue.INFO,IF={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},wF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=wF,this._userLogHandler=null,yF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var EF=(t,e)=>e.some(n=>t instanceof n),Tb,Cb;function DF(){return Tb||(Tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Sb=new WeakMap,_g=new WeakMap,Ab=new WeakMap,vg=new WeakMap,wg=new WeakMap;function TF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Pn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Sb.set(n,t)}).catch(()=>{}),wg.set(e,t),e}function CF(t){if(_g.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_g.set(t,e)}var Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mb(t){Ig=t(Ig)}function SF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hl(this),e,...n);return Ab.set(r,e.sort?e.sort():[e]),Pn(r)}:bF().includes(t)?function(...e){return t.apply(Hl(this),e),Pn(Sb.get(this))}:function(...e){return Pn(t.apply(Hl(this),e))}}function AF(t){return typeof t=="function"?SF(t):(t instanceof IDBTransaction&&CF(t),EF(t,DF())?new Proxy(t,Ig):t)}function Pn(t){if(t instanceof IDBRequest)return TF(t);if(vg.has(t))return vg.get(t);let e=AF(t);return e!==t&&(vg.set(t,e),wg.set(e,t)),e}var Hl=t=>wg.get(t);function xb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Pn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Pn(s.result),u.oldVersion,u.newVersion,Pn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],Eg=new Map;function Rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MF.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Eg.set(e,o),o}Mb(t=>ve(L({},t),{get:(e,n,r)=>Rb(e,n)||t.get(e,n,r),has:(e,n)=>!!Rb(e,n)||t.has(e,n)}));var bg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xF(t){let e=t.getComponent();return e?.type==="VERSION"}var Tg="@firebase/app",Nb="0.10.3";var Ci=new kr("@firebase/app"),NF="@firebase/app-compat",PF="@firebase/analytics-compat",OF="@firebase/analytics",kF="@firebase/app-check-compat",FF="@firebase/app-check",VF="@firebase/auth",LF="@firebase/auth-compat",UF="@firebase/database",jF="@firebase/database-compat",BF="@firebase/functions",$F="@firebase/functions-compat",HF="@firebase/installations",qF="@firebase/installations-compat",zF="@firebase/messaging",GF="@firebase/messaging-compat",WF="@firebase/performance",KF="@firebase/performance-compat",QF="@firebase/remote-config",YF="@firebase/remote-config-compat",JF="@firebase/storage",ZF="@firebase/storage-compat",XF="@firebase/firestore",eV="@firebase/vertexai-preview",tV="@firebase/firestore-compat",nV="firebase",rV="10.12.0";var Cg="[DEFAULT]",iV={[Tg]:"fire-core",[NF]:"fire-core-compat",[OF]:"fire-analytics",[PF]:"fire-analytics-compat",[FF]:"fire-app-check",[kF]:"fire-app-check-compat",[VF]:"fire-auth",[LF]:"fire-auth-compat",[UF]:"fire-rtdb",[jF]:"fire-rtdb-compat",[BF]:"fire-fn",[$F]:"fire-fn-compat",[HF]:"fire-iid",[qF]:"fire-iid-compat",[zF]:"fire-fcm",[GF]:"fire-fcm-compat",[WF]:"fire-perf",[KF]:"fire-perf-compat",[QF]:"fire-rc",[YF]:"fire-rc-compat",[JF]:"fire-gcs",[ZF]:"fire-gcs-compat",[XF]:"fire-fst",[tV]:"fire-fst-compat",[eV]:"fire-vertex","fire-js":"fire-js",[nV]:"fire-js-all"};var ka=new Map,oV=new Map,Sg=new Map;function Pb(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){let e=t.name;if(Sg.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(let n of ka.values())Pb(n,t);for(let n of oV.values())Pb(n,t);return!0}function xg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qo(t){return t.settings!==void 0}var sV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new rr("app","Firebase",sV);var Ag=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}};var zo=rV;function Ng(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=pg()),!n)throw Fr.create("no-options");let o=ka.get(i);if(o){if(Ho(n,o.options)&&Ho(r,o.config))return o;throw Fr.create("duplicate-app",{appName:i})}let s=new $l(i);for(let u of Sg.values())s.addComponent(u);let a=new Ag(n,r,s);return ka.set(i,a),a}function Va(t=Cg){let e=ka.get(t);if(!e&&t===Cg&&pg())return Ng();if(!e)throw Fr.create("no-app",{appName:t});return e}function ql(){return Array.from(ka.values())}function it(t,e,n){var r;let i=(r=iV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}Vr(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var aV="firebase-heartbeat-database",cV=1,Fa="firebase-heartbeat-store",Dg=null;function Vb(){return Dg||(Dg=xb(aV,cV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Dg}function uV(t){return S(this,null,function*(){try{let n=(yield Vb()).transaction(Fa),r=yield n.objectStore(Fa).get(Lb(t));return yield n.done,r}catch(e){if(e instanceof Qt)Ci.warn(e.message);else{let n=Fr.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(n.message)}}})}function Ob(t,e){return S(this,null,function*(){try{let r=(yield Vb()).transaction(Fa,"readwrite");yield r.objectStore(Fa).put(e,Lb(t)),yield r.done}catch(n){if(n instanceof Qt)Ci.warn(n.message);else{let r=Fr.create("idb-set",{originalErrorMessage:n?.message});Ci.warn(r.message)}}})}function Lb(t){return`${t.name}!${t.options.appId}`}var lV=1024,dV=30*24*60*60*1e3,Mg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Rg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=dV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=kb(),{heartbeatsToSend:r,unsentEntries:i}=hV(this._heartbeatsCache.heartbeats),o=Oa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function kb(){return new Date().toISOString().substring(0,10)}function hV(t,e=lV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Fb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Rg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return mg()?Db().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield uV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Fb(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}function fV(t){Vr(new Jt("platform-logger",e=>new bg(e),"PRIVATE")),Vr(new Jt("heartbeat",e=>new Mg(e),"PRIVATE")),it(Tg,Nb,t),it(Tg,Nb,"esm2017"),it("fire-js","")}fV("");var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jb={};var Lr,Pg;(function(){var t;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,D,A){for(var _=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)_[Bn-2]=arguments[Bn];return y.prototype[D].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var w=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)w[D]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(D=0;16>D;++D)w[D]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],D=E.g[2];var A=E.g[3],_=y+(A^v&(D^A))+w[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=A+(D^y&(v^D))+w[1]+3905402710&4294967295,A=y+(_<<12&4294967295|_>>>20),_=D+(v^A&(y^v))+w[2]+606105819&4294967295,D=A+(_<<17&4294967295|_>>>15),_=v+(y^D&(A^y))+w[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(A^v&(D^A))+w[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=A+(D^y&(v^D))+w[5]+1200080426&4294967295,A=y+(_<<12&4294967295|_>>>20),_=D+(v^A&(y^v))+w[6]+2821735955&4294967295,D=A+(_<<17&4294967295|_>>>15),_=v+(y^D&(A^y))+w[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(A^v&(D^A))+w[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=A+(D^y&(v^D))+w[9]+2336552879&4294967295,A=y+(_<<12&4294967295|_>>>20),_=D+(v^A&(y^v))+w[10]+4294925233&4294967295,D=A+(_<<17&4294967295|_>>>15),_=v+(y^D&(A^y))+w[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(A^v&(D^A))+w[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=A+(D^y&(v^D))+w[13]+4254626195&4294967295,A=y+(_<<12&4294967295|_>>>20),_=D+(v^A&(y^v))+w[14]+2792965006&4294967295,D=A+(_<<17&4294967295|_>>>15),_=v+(y^D&(A^y))+w[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=y+(D^A&(v^D))+w[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=A+(v^D&(y^v))+w[6]+3225465664&4294967295,A=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(A^y))+w[11]+643717713&4294967295,D=A+(_<<14&4294967295|_>>>18),_=v+(A^y&(D^A))+w[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^A&(v^D))+w[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=A+(v^D&(y^v))+w[10]+38016083&4294967295,A=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(A^y))+w[15]+3634488961&4294967295,D=A+(_<<14&4294967295|_>>>18),_=v+(A^y&(D^A))+w[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^A&(v^D))+w[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=A+(v^D&(y^v))+w[14]+3275163606&4294967295,A=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(A^y))+w[3]+4107603335&4294967295,D=A+(_<<14&4294967295|_>>>18),_=v+(A^y&(D^A))+w[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(D^A&(v^D))+w[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=A+(v^D&(y^v))+w[2]+4243563512&4294967295,A=y+(_<<9&4294967295|_>>>23),_=D+(y^v&(A^y))+w[7]+1735328473&4294967295,D=A+(_<<14&4294967295|_>>>18),_=v+(A^y&(D^A))+w[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=y+(v^D^A)+w[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=A+(y^v^D)+w[8]+2272392833&4294967295,A=y+(_<<11&4294967295|_>>>21),_=D+(A^y^v)+w[11]+1839030562&4294967295,D=A+(_<<16&4294967295|_>>>16),_=v+(D^A^y)+w[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^A)+w[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=A+(y^v^D)+w[4]+1272893353&4294967295,A=y+(_<<11&4294967295|_>>>21),_=D+(A^y^v)+w[7]+4139469664&4294967295,D=A+(_<<16&4294967295|_>>>16),_=v+(D^A^y)+w[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^A)+w[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=A+(y^v^D)+w[0]+3936430074&4294967295,A=y+(_<<11&4294967295|_>>>21),_=D+(A^y^v)+w[3]+3572445317&4294967295,D=A+(_<<16&4294967295|_>>>16),_=v+(D^A^y)+w[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(v^D^A)+w[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=A+(y^v^D)+w[12]+3873151461&4294967295,A=y+(_<<11&4294967295|_>>>21),_=D+(A^y^v)+w[15]+530742520&4294967295,D=A+(_<<16&4294967295|_>>>16),_=v+(D^A^y)+w[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=y+(D^(v|~A))+w[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=A+(v^(y|~D))+w[7]+1126891415&4294967295,A=y+(_<<10&4294967295|_>>>22),_=D+(y^(A|~v))+w[14]+2878612391&4294967295,D=A+(_<<15&4294967295|_>>>17),_=v+(A^(D|~y))+w[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~A))+w[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=A+(v^(y|~D))+w[3]+2399980690&4294967295,A=y+(_<<10&4294967295|_>>>22),_=D+(y^(A|~v))+w[10]+4293915773&4294967295,D=A+(_<<15&4294967295|_>>>17),_=v+(A^(D|~y))+w[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~A))+w[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=A+(v^(y|~D))+w[15]+4264355552&4294967295,A=y+(_<<10&4294967295|_>>>22),_=D+(y^(A|~v))+w[6]+2734768916&4294967295,D=A+(_<<15&4294967295|_>>>17),_=v+(A^(D|~y))+w[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=y+(D^(v|~A))+w[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=A+(v^(y|~D))+w[11]+3174756917&4294967295,A=y+(_<<10&4294967295|_>>>22),_=D+(y^(A|~v))+w[2]+718787259&4294967295,D=A+(_<<15&4294967295|_>>>17),_=v+(A^(D|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,w=this.B,D=this.h,A=0;A<y;){if(D==0)for(;A<=v;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<y;)if(w[D++]=E.charCodeAt(A++),D==this.blockSize){i(this,w),D=0;break}}else for(;A<y;)if(w[D++]=E[A++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var w=0;32>w;w+=8)E[v++]=this.g[y]>>>w&255;return E};function o(E,y){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function s(E,y){this.h=y;for(var v=[],w=!0,D=E.length-1;0<=D;D--){var A=E[D]|0;w&&A==y||(v[D]=A,w=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return P(l(-E));for(var y=[],v=1,w=0;E>=v;w++)y[w]=E/v|0,v*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return P(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),w=p,D=0;D<E.length;D+=8){var A=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+A),y);8>A?(A=l(Math.pow(y,A)),w=w.j(A).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),g=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-P(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(O(this))return"-"+P(this).toString(E);for(var y=l(Math.pow(E,6)),v=this,w="";;){var D=de(v,y).g;v=U(v,D.j(y));var A=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,x(v))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function O(E){return E.h==-1}t.l=function(E){return E=U(this,E),O(E)?-1:x(E)?0:1};function P(E){for(var y=E.g.length,v=[],w=0;w<y;w++)v[w]=~E.g[w];return new s(v,~E.h).add(g)}t.abs=function(){return O(this)?P(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0,D=0;D<=y;D++){var A=w+(this.i(D)&65535)+(E.i(D)&65535),_=(A>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,A&=65535,_&=65535,v[D]=_<<16|A}return new s(v,v[v.length-1]&-2147483648?-1:0)};function U(E,y){return E.add(P(y))}t.j=function(E){if(x(this)||x(E))return p;if(O(this))return O(E)?P(this).j(P(E)):P(P(this).j(E));if(O(E))return P(this.j(P(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],w=0;w<2*y;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var A=this.i(w)>>>16,_=this.i(w)&65535,Bn=E.i(D)>>>16,Ts=E.i(D)&65535;v[2*w+2*D]+=_*Ts,Y(v,2*w+2*D),v[2*w+2*D+1]+=A*Ts,Y(v,2*w+2*D+1),v[2*w+2*D+1]+=_*Bn,Y(v,2*w+2*D+1),v[2*w+2*D+2]+=A*Bn,Y(v,2*w+2*D+2)}for(w=0;w<y;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=y;w<2*y;w++)v[w]=0;return new s(v,0)};function Y(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function G(E,y){this.g=E,this.h=y}function de(E,y){if(x(y))throw Error("division by zero");if(x(E))return new G(p,p);if(O(E))return y=de(P(E),y),new G(P(y.g),P(y.h));if(O(y))return y=de(E,P(y)),new G(P(y.g),y.h);if(30<E.g.length){if(O(E)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var v=g,w=y;0>=w.l(E);)v=Fe(v),w=Fe(w);var D=te(v,1),A=te(w,1);for(w=te(w,2),v=te(v,2);!x(w);){var _=A.add(w);0>=_.l(E)&&(D=D.add(v),A=_),w=te(w,1),v=te(v,1)}return y=U(E,D.j(y)),new G(D,y)}for(D=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(v),_=A.j(y);O(_)||0<_.l(E);)v-=w,A=l(v),_=A.j(y);x(A)&&(A=g),D=D.add(A),E=U(E,_)}return new G(D,E)}t.A=function(E){return de(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)&E.i(w);return new s(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)|E.i(w);return new s(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)^E.i(w);return new s(v,this.h^E.h)};function Fe(E){for(var y=E.g.length+1,v=[],w=0;w<y;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new s(v,E.h)}function te(E,y){var v=y>>5;y%=32;for(var w=E.g.length-v,D=[],A=0;A<w;A++)D[A]=0<y?E.i(A+v)>>>y|E.i(A+v+1)<<32-y:E.i(A+v);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pg=jb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Lr=jb.Integer=s}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={};var Og,kg,Go,Fg,La,Gl,Vg,Lg,Ug;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function x(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,R){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[b].apply(m,F)}}function O(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,R=m.length||0;c.length=b+R;for(let F=0;F<R;F++)c[b+F]=m[F]}else c.push(m)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function te(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let R=0;R<v.length;R++)f=v[R],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function _(){var c=yh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Bn{constructor(){this.h=this.g=null}add(d,f){let m=Ts.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ts=new U(()=>new LS,c=>c.reset());class LS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Cs,Ss=!1,yh=new Bn,y_=()=>{let c=a.Promise.resolve(void 0);Cs=()=>{c.then(US)}};var US=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){A(f)}var d=Ts;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ss=!1};function ur(){this.s=this.s,this.C=this.C}ur.prototype.s=!1,ur.prototype.ma=function(){this.s||(this.s=!0,this.N())},ur.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var jS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function As(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{de(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:BS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&As.aa.h.call(this)}}x(As,ut);var BS={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ms="closure_listenable_"+(1e6*Math.random()|0),$S=0;function HS(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++$S,this.da=this.fa=!1}function Dc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bc(c){this.src=c,this.g={},this.h=0}bc.prototype.add=function(c,d,f,m,b){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var F=_h(c,d,m,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new HS(d,this.src,R,!!m,b),d.fa=f,c.push(d)),d};function vh(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=b)&&Array.prototype.splice.call(m,b,1),R&&(Dc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function _h(c,d,f,m){for(var b=0;b<c.length;++b){var R=c[b];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return b}return-1}var Ih="closure_lm_"+(1e6*Math.random()|0),wh={};function v_(c,d,f,m,b){if(m&&m.once)return I_(c,d,f,m,b);if(Array.isArray(d)){for(var R=0;R<d.length;R++)v_(c,d[R],f,m,b);return null}return f=Th(f),c&&c[Ms]?c.K(d,f,l(m)?!!m.capture:!!m,b):__(c,d,f,!1,m,b)}function __(c,d,f,m,b,R){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,Te=Dh(c);if(Te||(c[Ih]=Te=new bc(c)),f=Te.add(d,f,m,F,R),f.proxy)return f;if(m=qS(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)jS||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(E_(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qS(){function c(f){return d.call(c.src,c.listener,f)}let d=zS;return c}function I_(c,d,f,m,b){if(Array.isArray(d)){for(var R=0;R<d.length;R++)I_(c,d[R],f,m,b);return null}return f=Th(f),c&&c[Ms]?c.L(d,f,l(m)?!!m.capture:!!m,b):__(c,d,f,!0,m,b)}function w_(c,d,f,m,b){if(Array.isArray(d))for(var R=0;R<d.length;R++)w_(c,d[R],f,m,b);else m=l(m)?!!m.capture:!!m,f=Th(f),c&&c[Ms]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=_h(R,f,m,b),-1<f&&(Dc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Dh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=_h(d,f,m,b)),(f=-1<c?d[c]:null)&&Eh(f))}function Eh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ms])vh(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(E_(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Dh(d))?(vh(f,c),f.h==0&&(f.src=null,d[Ih]=null)):Dc(c)}}}function E_(c){return c in wh?wh[c]:wh[c]="on"+c}function zS(c,d){if(c.da)c=!0;else{d=new As(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Eh(c),c=f.call(m,d)}return c}function Dh(c){return c=c[Ih],c instanceof bc?c:null}var bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(c){return typeof c=="function"?c:(c[bh]||(c[bh]=function(d){return c.handleEvent(d)}),c[bh])}function lt(){ur.call(this),this.i=new bc(this),this.M=this,this.F=null}x(lt,ur),lt.prototype[Ms]=!0,lt.prototype.removeEventListener=function(c,d,f,m){w_(this,c,d,f,m)};function vt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var b=d;d=new ut(m,c),w(d,b)}if(b=!0,f)for(var R=f.length-1;0<=R;R--){var F=d.g=f[R];b=Tc(F,m,!0,d)&&b}if(F=d.g=c,b=Tc(F,m,!0,d)&&b,b=Tc(F,m,!1,d)&&b,f)for(R=0;R<f.length;R++)F=d.g=f[R],b=Tc(F,m,!1,d)&&b}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Dc(f[m]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},lt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Tc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==f){var Te=F.listener,st=F.ha||F.src;F.fa&&vh(c.i,F),b=Te.call(st,m)!==!1&&b}}return b&&!m.defaultPrevented}function D_(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function b_(c){c.g=D_(()=>{c.g=null,c.i&&(c.i=!1,b_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class GS extends ur{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:b_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){ur.call(this),this.h=c,this.g={}}x(Rs,ur);var T_=[];function C_(c){te(c.g,function(d,f){this.g.hasOwnProperty(f)&&Eh(d)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),C_(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ch=a.JSON.stringify,WS=a.JSON.parse,KS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Sh(){}Sh.prototype.h=null;function S_(c){return c.h||(c.h=c.i())}function A_(){}var xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ah(){ut.call(this,"d")}x(Ah,ut);function Mh(){ut.call(this,"c")}x(Mh,ut);var Kr={},M_=null;function Cc(){return M_=M_||new lt}Kr.La="serverreachability";function R_(c){ut.call(this,Kr.La,c)}x(R_,ut);function Ns(c){let d=Cc();vt(d,new R_(d))}Kr.STAT_EVENT="statevent";function x_(c,d){ut.call(this,Kr.STAT_EVENT,c),this.stat=d}x(x_,ut);function _t(c){let d=Cc();vt(d,new x_(d,c))}Kr.Ma="timingevent";function N_(c,d){ut.call(this,Kr.Ma,c),this.size=d}x(N_,ut);function Ps(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Os(){this.g=!0}Os.prototype.xa=function(){this.g=!1};function QS(c,d,f,m,b,R){c.info(function(){if(c.g)if(R)for(var F="",Te=R.split("&"),st=0;st<Te.length;st++){var ye=Te[st].split("=");if(1<ye.length){var dt=ye[0];ye=ye[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+ye+"&"):F+(dt+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function YS(c,d,f,m,b,R,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+R+" "+F})}function zi(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ZS(c,f)+(m?" "+m:"")})}function JS(c,d){c.info(function(){return"TIMEOUT: "+d})}Os.prototype.info=function(){};function ZS(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var R=b[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return Ch(f)}catch{return d}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},P_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rh;function Ac(){}x(Ac,Sh),Ac.prototype.g=function(){return new XMLHttpRequest},Ac.prototype.i=function(){return{}},Rh=new Ac;function lr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new O_}function O_(){this.i=null,this.g="",this.h=!1}var k_={},xh={};function Nh(c,d,f){c.L=1,c.v=Nc($n(d)),c.m=f,c.P=!0,F_(c,null)}function F_(c,d){c.F=Date.now(),Mc(c),c.A=$n(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Y_(f.i,"t",m),c.C=0,f=c.j.J,c.h=new O_,c.g=pI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new GS(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(T_[0]=b.toString()),b=T_);for(var R=0;R<b.length;R++){var F=v_(f,b[R],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ns(),QS(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Hn(c)==3?d.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=Hn(this.g);var d=this.g.Ba();let Ki=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||rI(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Ki?Ns(3):Ns(2)),Ph(this);var f=this.g.Z();this.X=f;t:if(V_(this)){var m=rI(this.g);c="";var b=m.length,R=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),ks(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(R&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,YS(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,st=this.g;if((Te=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Te)){var ye=Te;break t}}ye=null}if(f=ye)zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oh(this,f);else{this.o=!1,this.s=3,_t(12),Qr(this),ks(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<F.length;)if(en=XS(this,F),en==xh){ht==4&&(this.s=4,_t(14),f=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==k_){this.s=4,_t(15),zi(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else zi(this.i,this.l,en,null),Oh(this,en);if(V_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,_t(16),f=!1),this.o=this.o&&f,!f)zi(this.i,this.l,F,"[Invalid Chunked Response]"),Qr(this),ks(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),jh(dt),dt.M=!0,_t(11))}}else zi(this.i,this.l,F,null),Oh(this,F);ht==4&&Qr(this),this.o&&!this.J&&(ht==4?lI(this.j,this):(this.o=!1,Mc(this)))}else gA(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Qr(this),ks(this)}}}catch{}finally{}};function V_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function XS(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?xh:(f=Number(d.substring(f,m)),isNaN(f)?k_:(m+=1,m+f>d.length?xh:(d=d.slice(m,m+f),c.C=m+f,d)))}lr.prototype.cancel=function(){this.J=!0,Qr(this)};function Mc(c){c.S=Date.now()+c.I,L_(c,c.I)}function L_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ps(g(c.ba,c),d)}function Ph(c){c.B&&(a.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(JS(this.i,this.A),this.L!=2&&(Ns(),_t(17)),Qr(this),this.s=2,ks(this)):L_(this,this.S-c)};function ks(c){c.j.G==0||c.J||lI(c.j,c)}function Qr(c){Ph(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,C_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Oh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||kh(f.h,c))){if(!c.K&&kh(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Vc(f),kc(f);else break e;Uh(f),_t(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ps(g(f.Za,f),6e3));if(1>=B_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Jr(f,11)}else if((c.K||f.g==c)&&Vc(f),!Y(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let dt=ye[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=ye[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Ki=ye[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(m=1.5*Ki,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let en=c.g;if(en){let Uc=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var R=m.h;R.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Fh(R,R.h),R.h=null))}if(m.D){let Bh=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Bh&&(m.ya=Bh,Ne(m.I,m.D,Bh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=fI(m,m.J?m.ia:null,m.W),F.K){$_(m.h,F);var Te=F,st=m.L;st&&(Te.I=st),Te.B&&(Ph(Te),Mc(Te)),m.g=F}else cI(m);0<f.i.length&&Fc(f)}else ye[0]!="stop"&&ye[0]!="close"||Jr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Jr(f,7):Lh(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ns(4)}catch{}}var eA=class{constructor(c,d){this.g=c,this.map=d}};function U_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function j_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function B_(c){return c.h?1:c.g?c.g.size:0}function kh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Fh(c,d){c.g?c.g.add(d):c.h=d}function $_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}U_.prototype.cancel=function(){if(this.i=H_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function H_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return O(c.i)}function tA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function nA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function q_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=nA(c),m=tA(c),b=m.length,R=0;R<b;R++)d.call(void 0,m[R],f&&f[R],c)}var z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var R=c[f].substring(0,m);b=c[f].substring(m+1)}else R=c[f];d(R,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,Rc(this,c.j),this.o=c.o,this.g=c.g,xc(this,c.s),this.l=c.l;var d=c.i,f=new Ls;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),G_(this,f),this.m=c.m}else c&&(d=String(c).match(z_))?(this.h=!1,Rc(this,d[1]||"",!0),this.o=Fs(d[2]||""),this.g=Fs(d[3]||"",!0),xc(this,d[4]),this.l=Fs(d[5]||"",!0),G_(this,d[6]||"",!0),this.m=Fs(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Vs(d,W_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Vs(d,W_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Vs(f,f.charAt(0)=="/"?sA:oA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Vs(f,cA)),c.join("")};function $n(c){return new Yr(c)}function Rc(c,d,f){c.j=f?Fs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function G_(c,d,f){d instanceof Ls?(c.i=d,uA(c.i,c.h)):(f||(d=Vs(d,aA)),c.i=new Ls(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function Nc(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,iA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var W_=/[#\/\?@]/g,oA=/[#\?:]/g,sA=/[#\?]/g,aA=/[#\?@]/g,cA=/#/g;function Ls(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function dr(c){c.g||(c.g=new Map,c.h=0,c.i&&rA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(c,d){dr(this),this.i=null,c=Gi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function K_(c,d){dr(c),d=Gi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Q_(c,d){return dr(c),d=Gi(c,d),c.g.has(d)}t.forEach=function(c,d){dr(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){dr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let R=0;R<b.length;R++)f.push(d[m])}return f},t.V=function(c){dr(this);let d=[];if(typeof c=="string")Q_(this,c)&&(d=d.concat(this.g.get(Gi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return dr(this),this.i=null,c=Gi(this,c),Q_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Y_(c,d,f){K_(c,d),0<f.length&&(c.i=null,c.g.set(Gi(c,d),O(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var b=R;F[m]!==""&&(b+="="+encodeURIComponent(String(F[m]))),c.push(b)}}return this.i=c.join("&")};function Gi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function uA(c,d){d&&!c.j&&(dr(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(K_(this,m),Y_(this,b,f))},c)),c.j=d}function lA(c,d){let f=new Os;if(a.Image){let m=new Image;m.onload=I(hr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=I(hr,f,"TestLoadImage: error",!1,d,m),m.onabort=I(hr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=I(hr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function dA(c,d){let f=new Os,m=new AbortController,b=setTimeout(()=>{m.abort(),hr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(b),R.ok?hr(f,"TestPingServer: ok",!0,d):hr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),hr(f,"TestPingServer: error",!1,d)})}function hr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function hA(){this.g=new KS}function fA(c,d,f){let m=f||"";try{q_(c,function(b,R){let F=b;l(b)&&(F=Ch(b)),d.push(m+R+"="+encodeURIComponent(F))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Us(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Us,Sh),Us.prototype.g=function(){return new Pc(this.l,this.j)},Us.prototype.i=function(c){return function(){return c}}({});function Pc(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Pc,lt),t=Pc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Bs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;J_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function J_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?js(this):Bs(this),this.readyState==3&&J_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,js(this))},t.Qa=function(c){this.g&&(this.response=c,js(this))},t.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Bs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Z_(c){let d="";return te(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Vh(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Z_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Ve(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ve,lt);var pA=/^https?$/i,mA=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rh.g(),this.v=this.o?S_(this.o):S_(Rh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){X_(this,R);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mA,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of f)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nI(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){X_(this,R)}};function X_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,eI(c),Oc(c)}function eI(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),Oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tI(this):this.bb())},t.bb=function(){tI(this)};function tI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)D_(c.Ea,0,c);else if(vt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var b=String(c.D).match(z_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!pA.test(b?b.toLowerCase():"")}f=m}if(f)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var R=2<Hn(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",eI(c)}}finally{Oc(c)}}}}function Oc(c,d){if(c.g){nI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||vt(c,"ready");try{f.onreadystatechange=m}catch{}}}function nI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),WS(d)}};function rI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(c){let d={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Y(c[m]))continue;var f=D(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[b]||[];d[b]=R,R.push(f)}E(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iI(c){this.Aa=0,this.i=[],this.j=new Os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new U_(c&&c.concurrentRequestLimit),this.Da=new hA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){_t(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=fI(this,null,this.W),Fc(this)};function Lh(c){if(oI(c),c.G==3){var d=c.U++,f=$n(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),Hs(c,f),d=new lr(c,c.j,d),d.L=2,d.v=Nc($n(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=pI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Mc(d)}hI(c)}function kc(c){c.g&&(jh(c),c.g.cancel(),c.g=null)}function oI(c){kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Vc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fc(c){if(!j_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Cs||y_(),Ss||(Cs(),Ss=!0),yh.add(d,c),c.B=0}}function yA(c,d){return B_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ps(g(c.Ga,c,d),dI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new lr(this,this.j,c),R=this.o;if(this.S&&(R?(R=y(R),w(R,this.S)):R=this.S),this.m!==null||this.O||(b.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aI(this,b,d),f=$n(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),Hs(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Z_(R)))+"&"+d:this.m&&Vh(f,this.m,R)),Fh(this.h,b),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),b.T=!0,Nh(b,f,null)):Nh(b,f,d),this.G=2}}else this.G==3&&(c?sI(this,c):this.i.length==0||j_(this.h)||sI(this))};function sI(c,d){var f;d?f=d.l:f=c.U++;let m=$n(c.I);Ne(m,"SID",c.K),Ne(m,"RID",f),Ne(m,"AID",c.T),Hs(c,m),c.m&&c.o&&Vh(m,c.m,c.o),f=new lr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=aI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fh(c.h,f),Nh(f,m,d)}function Hs(c,d){c.H&&te(c.H,function(f,m){Ne(d,m,f)}),c.l&&q_({},function(f,m){Ne(d,m,f)})}function aI(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let R=-1;for(;;){let F=["count="+f];R==-1?0<f?(R=b[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Te=!0;for(let st=0;st<f;st++){let ye=b[st].g,dt=b[st].map;if(ye-=R,0>ye)R=Math.max(0,b[st].g-100),Te=!1;else try{fA(dt,F,"req"+ye+"_")}catch{m&&m(dt)}}if(Te){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function cI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Cs||y_(),Ss||(Cs(),Ss=!0),yh.add(d,c),c.v=0}}function Uh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ps(g(c.Fa,c),dI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,uI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ps(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),kc(this),uI(this))};function jh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uI(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=$n(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),Hs(c,d),c.m&&c.o&&Vh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Nc($n(d)),f.m=null,f.P=!0,F_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,kc(this),Uh(this),_t(19))};function Vc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lI(c,d){var f=null;if(c.g==d){Vc(c),jh(c),c.g=null;var m=2}else if(kh(c.h,d))f=d.D,$_(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=Cc(),vt(m,new N_(m,f)),Fc(c)}else cI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&yA(c,d)||m==2&&Uh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function dI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Jr(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new Yr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rc(m,"https"),Nc(m),b?lA(m.toString(),f):dA(m.toString(),f)}else _t(2);c.G=0,c.l&&c.l.sa(d),hI(c),oI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function hI(c){if(c.G=0,c.ka=[],c.l){let d=H_(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function fI(c,d,f){var m=f instanceof Yr?$n(f):new Yr(f);if(m.g!="")d&&(m.g=d+"."+m.g),xc(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var R=new Yr(null);m&&Rc(R,m),d&&(R.g=d),b&&xc(R,b),f&&(R.l=f),m=R}return f=c.D,d=c.ya,f&&d&&Ne(m,f,d),Ne(m,"VER",c.la),Hs(c,m),m}function pI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new Us({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mI(){}t=mI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lc(){}Lc.prototype.g=function(c,d){return new Mt(c,d)};function Mt(c,d){lt.call(this),this.g=new iI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Wi(this)}x(Mt,lt),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Lh(this.g)},Mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ch(c),c=f);d.i.push(new eA(d.Ya++,c)),d.G==3&&Fc(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,Mt.aa.N.call(this)};function gI(c){Ah.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}x(gI,Ah);function yI(){Mh.call(this),this.status=1}x(yI,Mh);function Wi(c){this.g=c}x(Wi,mI),Wi.prototype.ua=function(){vt(this.g,"a")},Wi.prototype.ta=function(c){vt(this.g,new gI(c))},Wi.prototype.sa=function(c){vt(this.g,new yI)},Wi.prototype.ra=function(){vt(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Ug=ir.createWebChannelTransport=function(){return new Lc},Lg=ir.getStatEventTarget=function(){return Cc()},Vg=ir.Event=Kr,Gl=ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,La=ir.ErrorCode=Sc,P_.COMPLETE="complete",Fg=ir.EventType=P_,A_.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Go=ir.WebChannel=A_,kg=ir.FetchXmlHttpFactory=Us,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,Og=ir.XhrIo=Ve}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});var Bb="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var hs="10.12.0";var Ri=new kr("@firebase/firestore");function Ua(){return Ri.logLevel}function B(t,...e){if(Ri.logLevel<=ue.DEBUG){let n=e.map(Ev);Ri.debug(`Firestore (${hs}): ${t}`,...n)}}function or(t,...e){if(Ri.logLevel<=ue.ERROR){let n=e.map(Ev);Ri.error(`Firestore (${hs}): ${t}`,...n)}}function Xo(t,...e){if(Ri.logLevel<=ue.WARN){let n=e.map(Ev);Ri.warn(`Firestore (${hs}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function xe(t,e){t||K()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _n=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Gg=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _n,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _n)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new ot(e)}},Wg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Kg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Qg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function mV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Xl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends Xl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Jg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Jg.UNKNOWN_ID=-1;function yV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new xi(i,q.empty(),e)}function vV(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),q.empty(),-1)}static max(){return new t(ee.max(),q.empty(),-1)}};function _V(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var IV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nc(t){return S(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==IV)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function wV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}var vT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Rd(t){return t==null}function za(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!za(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var DV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cG=[...DV,"documentOverlays"],bV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TV=bV,uG=[...TV,"indexConfiguration","indexState","indexEntries"];function $b(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ed(this.data.getIterator())}getIteratorFrom(e){return new ed(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ed=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return es(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var td=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new td("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var CV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(t){if(xe(!!t),typeof t=="string"){let e=0,n=CV.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}function Dv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bv(t){let e=t.mapValue.fields.__previous_value__;return Dv(e)?bv(e):e}function Ga(t){let e=sr(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var Xg=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dv(t)?4:IT(t)?9007199254740991:10:K()}function Un(t,e){if(t===e)return!0;let n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ga(t).isEqual(Ga(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=sr(i.timestampValue),a=sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Br(i.bytesValue).isEqual(Br(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?za(s)===za(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return es(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($b(s)!==$b(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Un(s[u],a[u])))return!1;return!0}(t,e);default:return K()}}function Wa(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function ts(t,e){if(t===e)return 0;let n=Ni(t),r=Ni(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Hb(t.timestampValue,e.timestampValue);case 4:return Hb(Ga(t),Ga(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Br(o),u=Br(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(je(o.latitude),je(s.latitude));return a!==0?a:Ee(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=ts(a[l],u[l]);if(h)return h}return Ee(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Wl.mapValue&&s===Wl.mapValue)return 0;if(o===Wl.mapValue)return 1;if(s===Wl.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ee(u[p],h[p]);if(g!==0)return g;let I=ts(a[u[p]],l[h[p]]);if(I!==0)return I}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function Hb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=sr(t),r=sr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function ns(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=ey(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ey(n.fields[s])}`;return i+"}"}(t.mapValue):K()}function qb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function zb(t){return!!t&&"nullValue"in t}function Gb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ba(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ba(this.value))}};function wT(t){let e=[];return fs(t.fields,(n,r)=>{let i=new Bt([n]);if(Ql(r)){let o=wT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}var In=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var rs=class{constructor(e,n){this.position=e,this.inclusive=n}};function Wb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=ts(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}var is=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function SV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rd=class{},Qe=class t extends rd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ry(e,n,r):n==="array-contains"?new sy(e,r):n==="in"?new ay(e,r):n==="not-in"?new cy(e,r):n==="array-contains-any"?new uy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iy(e,r):new oy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ts(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class t extends rd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ET(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ET(t){return t.op==="and"}function DT(t){return AV(t)&&ET(t)}function AV(t){for(let e of t.filters)if(e instanceof wn)return!1;return!0}function ny(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+ns(t.value);if(DT(t))return t.filters.map(e=>ny(e)).join(",");{let e=t.filters.map(n=>ny(n)).join(",");return`${t.op}(${e})`}}function bT(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Un(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bT(s,i.filters[a]),!0):!1}(t,e):void K()}function TT(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ns(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(t):"Filter"}var ry=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},iy=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},oy=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var sy=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Tv(n)&&Wa(n.arrayValue,this.value)}},ay=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}},cy=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}},uy=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}};var ly=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Qb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ly(t,e,n,r,i,o,s)}function Cv(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ns(r)).join(",")),e.ue=n}return e.ue}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}function dy(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function MV(t,e,n,r,i,o,s,a){return new Pi(t,e,n,r,i,o,s,a)}function Av(t){return new Pi(t)}function Yb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ST(t){return t.collectionGroup!==null}function $a(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new is(o,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new is(Bt.keyField(),r))}return e.ce}function Vn(t){let e=Z(t);return e.le||(e.le=RV(e,$a(t))),e.le}function RV(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new is(i.field,o)});let n=t.endAt?new rs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rs(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hy(t,e){let n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fy(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Sv(Vn(t),Vn(e))&&t.limitType===e.limitType}function AT(t){return`${Cv(Vn(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TT(i)).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ns(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of $a(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=Wb(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,$a(r),i)||r.endAt&&!function(s,a,u){let l=Wb(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,$a(r),i))}(t,e)}function xV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MT(t){return(e,n)=>{let r=!1;for(let i of $a(t)){let o=NV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function NV(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ts(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var $r=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}};var PV=new Be(q.comparator);function ar(){return PV}var RT=new Be(q.comparator);function ja(...t){let e=RT;for(let n of t)e=e.insert(n.key,n);return e}function xT(t){let e=RT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return Ha()}function NT(){return Ha()}function Ha(){return new $r(t=>t.toString(),(t,e)=>t.isEqual(e))}var OV=new Be(q.comparator),kV=new yt(q.comparator);function le(...t){let e=kV;for(let n of t)e=e.add(n);return e}var FV=new yt(Ee);function VV(){return FV}function PT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(e)?"-0":e}}function OT(t){return{integerValue:""+t}}function LV(t,e){return EV(e)?OT(e):PT(t,e)}var os=class{constructor(){this._=void 0}};function UV(t,e,n){return t instanceof ss?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dv(o)&&(o=bv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Oi?FT(t,e):t instanceof ki?VT(t,e):function(i,o){let s=kT(i,o),a=Jb(s)+Jb(i.Pe);return ty(s)&&ty(i.Pe)?OT(a):PT(i.serializer,a)}(t,e)}function jV(t,e,n){return t instanceof Oi?FT(t,e):t instanceof ki?VT(t,e):n}function kT(t,e){return t instanceof as?function(r){return ty(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ss=class extends os{},Oi=class extends os{constructor(e){super(),this.elements=e}};function FT(t,e){let n=LT(e);for(let r of t.elements)n.some(i=>Un(i,r))||n.push(r);return{arrayValue:{values:n}}}var ki=class extends os{constructor(e){super(),this.elements=e}};function VT(t,e){let n=LT(e);for(let r of t.elements)n=n.filter(i=>!Un(i,r));return{arrayValue:{values:n}}}var as=class extends os{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Jb(t){return je(t.integerValue||t.doubleValue)}function LT(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?es(r.elements,i.elements,Un):r instanceof as&&i instanceof as?Un(r.Pe,i.Pe):r instanceof ss&&i instanceof ss}(t.transform,e.transform)}var py=class{constructor(e,n){this.version=e,this.transformResults=n}},Ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var cs=class{};function UT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new id(t.key,Ur.none()):new Fi(t.key,t.data,Ur.none());{let n=t.data,r=vn.empty(),i=new yt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cr(t.key,r,new kn(i.toArray()),Ur.none())}}function $V(t,e,n){t instanceof Fi?function(i,o,s){let a=i.value.clone(),u=Xb(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cr?function(i,o,s){if(!Yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Xb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(jT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof Fi?function(o,s,a,u){if(!Yl(o.precondition,s))return a;let l=o.value.clone(),h=eT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cr?function(o,s,a,u){if(!Yl(o.precondition,s))return a;let l=eT(o.fieldTransforms,u,s),h=s.data;return h.setAll(jT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function HV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=kT(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function Zb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&es(r,i,(o,s)=>BV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fi=class extends cs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cr=class extends cs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function jT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Xb(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jV(s,a,n[i]))}return r}function eT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,UV(o,s,e))}return r}var id=class extends cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},my=class extends cs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$V(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=UT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(n,r)=>Zb(n,r))&&es(this.baseMutations,e.baseMutations,(n,r)=>Zb(n,r))}},yy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return OV}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var vy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _y=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,ge;function qV(t){switch(t){default:return K();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function BT(t){if(t===void 0)return or("GRPC error has no .code"),N.UNKNOWN;switch(t){case We.OK:return N.OK;case We.CANCELLED:return N.CANCELLED;case We.UNKNOWN:return N.UNKNOWN;case We.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case We.INTERNAL:return N.INTERNAL;case We.UNAVAILABLE:return N.UNAVAILABLE;case We.UNAUTHENTICATED:return N.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case We.NOT_FOUND:return N.NOT_FOUND;case We.ALREADY_EXISTS:return N.ALREADY_EXISTS;case We.PERMISSION_DENIED:return N.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case We.ABORTED:return N.ABORTED;case We.OUT_OF_RANGE:return N.OUT_OF_RANGE;case We.UNIMPLEMENTED:return N.UNIMPLEMENTED;case We.DATA_LOSS:return N.DATA_LOSS;default:return K()}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var tT=null;function zV(){return new TextEncoder}var GV=new Lr([4294967295,4294967295],0);function nT(t){let e=zV().encode(t),n=new Pg;return n.update(e),new Uint8Array(n.digest())}function rT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lr([n,r],0),new Lr([i,o],0)]}var Iy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ai(`Invalid padding: ${n}`);if(r<0)throw new Ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ai(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Lr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Lr.fromNumber(r)));return i.compare(GV)===1&&(i=new Lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nT(e),[r,i]=rT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=nT(e),[r,i]=rT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var od=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Be(Ee),ar(),le())}},Ka=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var Jo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sd=class{constructor(e,n){this.targetId=e,this.me=n}},ad=class{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},cd=class{constructor(){this.fe=0,this.ge=oT(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),n=le(),r=le();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Ka(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=oT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ar(),this.qe=iT(),this.Qe=new Be(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(dy(o))if(r===0){let s=new q(o.path);this.Ue(n,s,In.newNoDocument(s,ee.min()))}else xe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}tT?.et(function(h,p,g,I,x){var O,P,U,Y,G,de;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},te=p.unchangedNames;return te&&(Fe.bloomFilter={applied:x===0,hashCount:(O=te?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Y=(U=(P=te?.bits)===null||P===void 0?void 0:P.bitmap)===null||U===void 0?void 0:U.length)!==null&&Y!==void 0?Y:0,padding:(de=(G=te?.bits)===null||G===void 0?void 0:G.padding)!==null&&de!==void 0?de:0,mightContain:E=>{var y;return(y=I?.mightContain(E))!==null&&y!==void 0&&y}}),Fe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Br(r).toUint8Array()}catch(u){if(u instanceof td)return Xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Iy(s,i,o)}catch(u){return Xo(u instanceof Ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&dy(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,In.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=le();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new od(e,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=iT(),this.Qe=new Be(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function iT(){return new Be(q.comparator)}function oT(){return new Be(q.comparator)}var WV={asc:"ASCENDING",desc:"DESCENDING"},KV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"},Ey=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Dy(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YV(t,e){return ud(t,e.toTimestamp())}function Ln(t){return xe(!!t),ee.fromTimestamp(function(n){let r=sr(n);return new Xe(r.seconds,r.nanos)}(t))}function Mv(t,e){return by(t,e).canonicalString()}function by(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HT(t){let e=ke.fromString(t);return xe(KT(e)),e}function Ty(t,e){return Mv(t.databaseId,e.path)}function jg(t,e){let n=HT(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(zT(n))}function qT(t,e){return Mv(t.databaseId,e)}function JV(t){let e=HT(t);return e.length===4?ke.emptyPath():zT(e)}function Cy(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zT(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sT(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function ZV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:BT(l.code);return new j(h,l.message||"")}(s);n=new ad(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jg(t,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):ee.min(),a=new vn({mapValue:{fields:r.document.fields}}),u=In.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Jo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jg(t,r.document),o=r.readTime?Ln(r.readTime):ee.min(),s=In.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Jo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jg(t,r.document),o=r.removedTargetIds||[];n=new Jo([],o,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new _y(i,o),a=r.targetId;n=new sd(a,s)}}return n}function XV(t,e){let n;if(e instanceof Fi)n={update:sT(t,e.key,e.value)};else if(e instanceof id)n={delete:Ty(t,e.key)};else if(e instanceof cr)n={update:sT(t,e.key,e.data),updateMask:cL(e.fieldMask)};else{if(!(e instanceof my))return K();n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ss)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ki)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:YV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(t,e.precondition)),n}function eL(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(ee.min())&&(s=Ln(o)),new py(s,i.transformResults||[])}(n,e))):[]}function tL(t,e){return{documents:[qT(t,e.path)]}}function nL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qT(t,i);let o=function(l){if(l.length!==0)return WT(wn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ko(g.field),direction:oL(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Dy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function rL(t){let e=JV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=GT(p);return g instanceof wn&&DT(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(x){return new is(Qo(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Rd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,I=p.values||[];return new rs(I,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,I=p.values||[];return new rs(I,g)}(n.endAt)),MV(e,i,s,o,a,"F",u,l)}function iL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qo(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qo(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qo(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qo(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>GT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function oL(t){return WV[t]}function sL(t){return KV[t]}function aL(t){return QV[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Bt.fromServerFormat(t.fieldPath)}function WT(t){return t instanceof Qe?function(n){if(n.op==="=="){if(Gb(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gb(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:sL(n.op),value:n.value}}}(t):t instanceof wn?function(n){let r=n.getFilters().map(i=>WT(i));return r.length===1?r[0]:{compositeFilter:{op:aL(n.op),filters:r}}}(t):K()}function cL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qa=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Sy=class{constructor(e){this.ct=e}};function uL(t){let e=rL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}var ld=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),za(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=sr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Br(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?IT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):K()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ld.bt=new ld;var Ay=class{constructor(){this._n=new My}addToCollectionParentIndex(e,n){return this._n.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(xi.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},My=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(ke.comparator)).toArray()}};var dG=new Uint8Array(0);var On=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var Ya=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Ry=class{constructor(){this.changes=new $r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ny=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qa(r.mutation,i,kn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ja();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ar(),s=Ha(),a=function(){return Ha()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof cr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),qa(h.mutation,l,h.mutation.getFieldMask(),Xe.now())):s.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new xy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ha(),i=new Be((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=NT();h.forEach(g=>{if(!o.has(g)){let I=UT(n.get(g),r.get(g));I!==null&&p.set(g,I),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(Si()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:xT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ja();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,g){return new Pi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,In.newInvalidDocument(h)))});let a=ja();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&qa(h.mutation,l,kn.empty(),Xe.now()),Nd(n,l)&&(a=a.insert(u,l))}),a})}};var Py=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return k.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:uL(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),k.resolve()}};var Oy=class{constructor(){this.overlays=new Be(q.comparator),this.hr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Si();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Si(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Si(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Si(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vy(n,r));let o=this.hr.get(n);o===void 0&&(o=le(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Ja=class{constructor(){this.Pr=new yt(Ke.Ir),this.Tr=new yt(Ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ke(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new ke([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new ke([])),r=new Ke(n,e),i=new Ke(n,e+1),o=le();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||Ee(e.pr,n.pr)}static Er(e,n){return Ee(e.pr,n.pr)||q.comparator(e.key,n.key)}};var ky=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new yt(Ke.Ir)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new gy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Ee);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),k.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new q(o),0),a=new yt(Ee);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),k.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return k.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ke(n,0),i=this.wr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fy=class{constructor(e){this.vr=e,this.docs=function(){return new Be(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():In.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ar(),s=n.path,a=new q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_V(vV(h),r)<=0||(i.has(h.key)||Nd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K()}Fr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vy(this)}getSize(e){return k.resolve(this.size)}},Vy=class extends Ry{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Ly=class{constructor(e){this.persistence=e,this.Mr=new $r(n=>Cv(n),Sv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ja,this.targetCount=0,this.Lr=Ya.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),k.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.qn(n),k.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Nr.containsKey(n))}};var Uy=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new vT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ly(this),this.indexManager=new Ay,this.remoteDocumentCache=function(i){return new Fy(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Sy(n),this.$r=new Py(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ky(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new jy(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},jy=class extends Zg{constructor(e){super(),this.currentSequenceNumber=e}},By=class t{constructor(e){this.persistence=e,this.zr=new Ja,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),k.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return k.or([()=>k.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var $y=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Hy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Eb()?8:wV(jt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Hy;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ua()<=ue.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),k.resolve()):(Ua()<=ue.DEBUG&&B("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ua()<=ue.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):k.resolve())}ji(e,n){if(Yb(n))return k.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fy(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,s,u.readTime)?this.ji(e,fy(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return Yb(n)||i.isEqual(ee.min())?k.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?k.resolve(null):(Ua()<=ue.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.es(e,s,n,yV(i,-1)).next(a=>a))})}Zi(e,n){let r=new yt(MT(e));return n.forEach((i,o)=>{Nd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ua()<=ue.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.zi.getDocumentsMatchingQuery(e,n,xi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zy=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Be(Ee),this.rs=new $r(o=>Cv(o),Sv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ny(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function lL(t,e,n,r){return new zy(t,e,n,r)}function QT(t,e){return S(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function dL(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),I=k.resolve();return g.forEach(x=>{I=I.next(()=>h.getEntry(u,x)).next(O=>{let P=l.docVersions.get(x);xe(P!==null),O.version.compareTo(P)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),h.addEntry(O)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YT(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function hL(t,e){let n=Z(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,p)));let I=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(bt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(p,I),function(O,P,U){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(g,I,h)&&a.push(n.Qr.updateTargetData(o,I))});let u=ar(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(fL(o,s,e.documentUpdates).next(h=>{u=h.cs,l=h.ls})),!r.isEqual(ee.min())){let h=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ns=i,o))}function fL(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ar();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}function pL(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mL(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Qa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Gy(t,e,n){return S(this,null,function*(){let r=Z(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!rc(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function aT(t,e,n){let r=Z(t),i=ee.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),g=p.rs.get(h);return g!==void 0?k.resolve(p.ns.get(g)):p.Qr.getTargetData(l,h)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:le())).next(a=>(gL(r,xV(e),a),{documents:a,hs:o})))}function gL(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var dd=class{constructor(){this.activeTargetIds=VV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Wy=class{constructor(){this.no=new dd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ky=class{io(e){}shutdown(){}};var hd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kl=null;function Bg(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}var yL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Qy=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var gt="WebChannelConnection",Yy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=Bg(),u=this.vo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,u,l,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=yL[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=Bg();return new Promise((s,a)=>{let u=new Og;u.setWithCredentials(!0),u.listenOnce(Fg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case La.NO_ERROR:let h=u.getResponseJson();B(gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case La.TIMEOUT:B(gt,`RPC '${e}' ${o} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case La.HTTP_ERROR:let p=u.getStatus();if(B(gt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let I=g?.error;if(I&&I.status&&I.message){let x=function(P){let U=P.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(U)>=0?U:N.UNKNOWN}(I.status);a(new j(x,I.message))}else a(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{B(gt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(gt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=Bg(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ug(),a=Lg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new kg({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(gt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,I=!1,x=new Qy({lo:P=>{I?B(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(B(gt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(gt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},ho:()=>p.close()}),O=(P,U,Y)=>{P.listen(U,G=>{try{Y(G)}catch(de){setTimeout(()=>{throw de},0)}})};return O(p,Go.EventType.OPEN,()=>{I||(B(gt,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),O(p,Go.EventType.CLOSE,()=>{I||(I=!0,B(gt,`RPC '${e}' stream ${i} transport closed`),x.po())}),O(p,Go.EventType.ERROR,P=>{I||(I=!0,Xo(gt,`RPC '${e}' stream ${i} transport errored:`,P),x.po(new j(N.UNAVAILABLE,"The operation could not be completed")))}),O(p,Go.EventType.MESSAGE,P=>{var U;if(!I){let Y=P.data[0];xe(!!Y);let G=Y,de=G.error||((U=G[0])===null||U===void 0?void 0:U.error);if(de){B(gt,`RPC '${e}' stream ${i} received error:`,de);let Fe=de.status,te=function(v){let w=We[v];if(w!==void 0)return BT(w)}(Fe),E=de.message;te===void 0&&(te=N.INTERNAL,E="Unknown error status: "+Fe+" with message "+de.message),I=!0,x.po(new j(te,E)),p.close()}else B(gt,`RPC '${e}' stream ${i} received:`,Y),x.yo(Y)}}),O(a,Vg.STAT_EVENT,P=>{P.stat===Gl.PROXY?B(gt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Gl.NOPROXY&&B(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}};function $g(){return typeof document<"u"?document:null}function Pd(t){return new Ey(t,!0)}var fd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var pd=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fd(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return S(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return S(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return S(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>S(this,null,function*(){this.state=0,this.start()}))}c_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jy=class extends pd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=ZV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Ln(s.readTime):ee.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=Cy(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=dy(u)?{documents:tL(o,u)}:{query:nL(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$T(o,s.resumeToken);let l=Dy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=ud(o,s.snapshotVersion.toTimestamp());let l=Dy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=iL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=Cy(this.serializer),n.removeTarget=e,this.i_(n)}},Zy=class extends pd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=eL(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.A_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Cy(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XV(this.serializer,r))};this.i_(n)}};var Xy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,by(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,by(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},ev=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(or(n),this.y_=!1):B("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var tv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Li(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=Z(u);l.M_.add(4),yield ic(l),l.N_.set("Unknown"),l.M_.delete(4),yield Od(l)})}(this))}))}),this.N_=new ev(r,i)}};function Od(t){return S(this,null,function*(){if(Li(t))for(let e of t.x_)yield e(!0)})}function ic(t){return S(this,null,function*(){for(let e of t.x_)yield e(!1)})}function JT(t,e){let n=Z(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Pv(n)?Nv(n):ps(n).Xo()&&xv(n,e))}function Rv(t,e){let n=Z(t),r=ps(n);n.F_.delete(e),r.Xo()&&ZT(n,e),n.F_.size===0&&(r.Xo()?r.n_():Li(n)&&n.N_.set("Unknown"))}function xv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).P_(e)}function ZT(t,e){t.L_.xe(e),ps(t).I_(e)}function Nv(t){t.L_=new wy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.N_.w_()}function Pv(t){return Li(t)&&!ps(t).Zo()&&t.F_.size>0}function Li(t){return Z(t).M_.size===0}function XT(t){t.L_=void 0}function vL(t){return S(this,null,function*(){t.N_.set("Online")})}function _L(t){return S(this,null,function*(){t.F_.forEach((e,n)=>{xv(t,e)})})}function IL(t,e){return S(this,null,function*(){XT(t),Pv(t)?(t.N_.D_(e),Nv(t)):t.N_.set("Unknown")})}function wL(t,e,n){return S(this,null,function*(){if(t.N_.set("Online"),e instanceof ad&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield md(t,r)}else if(e instanceof Jo?t.L_.Ke(e):e instanceof sd?t.L_.He(e):t.L_.We(e),!n.isEqual(ee.min()))try{let r=yield YT(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.F_.get(u);if(!h)return;o.F_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),ZT(o,u);let p=new Qa(h.target,u,l,h.sequenceNumber);xv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield md(t,r)}})}function md(t,e,n){return S(this,null,function*(){if(!rc(e))throw e;t.M_.add(1),yield ic(t),t.N_.set("Offline"),n||(n=()=>YT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Od(t)}))})}function eC(t,e){return e().catch(n=>md(t,n,e))}function kd(t){return S(this,null,function*(){let e=Z(t),n=Hr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;EL(e);)try{let i=yield pL(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,DL(e,i)}catch(i){yield md(e,i)}tC(e)&&nC(e)})}function EL(t){return Li(t)&&t.v_.length<10}function DL(t,e){t.v_.push(e);let n=Hr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function tC(t){return Li(t)&&!Hr(t).Zo()&&t.v_.length>0}function nC(t){Hr(t).start()}function bL(t){return S(this,null,function*(){Hr(t).V_()})}function TL(t){return S(this,null,function*(){let e=Hr(t);for(let n of t.v_)e.d_(n.mutations)})}function CL(t,e,n){return S(this,null,function*(){let r=t.v_.shift(),i=yy.from(r,e,n);yield eC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield kd(t)})}function SL(t,e){return S(this,null,function*(){e&&Hr(t).E_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return qV(s)&&s!==N.ABORTED}(i.code)){let o=r.v_.shift();Hr(r).t_(),yield eC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield kd(r)}})}(t,e)),tC(t)&&nC(t)})}function cT(t,e){return S(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=Li(n);n.M_.add(3),yield ic(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Od(n)})}function AL(t,e){return S(this,null,function*(){let n=Z(t);e?(n.M_.delete(2),yield Od(n)):e||(n.M_.add(2),yield ic(n),n.N_.set("Unknown"))})}function ps(t){return t.B_||(t.B_=function(n,r,i){let o=Z(n);return o.f_(),new Jy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:vL.bind(null,t),To:_L.bind(null,t),Ao:IL.bind(null,t),h_:wL.bind(null,t)}),t.x_.push(e=>S(this,null,function*(){e?(t.B_.t_(),Pv(t)?Nv(t):t.N_.set("Unknown")):(yield t.B_.stop(),XT(t))}))),t.B_}function Hr(t){return t.k_||(t.k_=function(n,r,i){let o=Z(n);return o.f_(),new Zy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:bL.bind(null,t),Ao:SL.bind(null,t),R_:TL.bind(null,t),A_:CL.bind(null,t)}),t.x_.push(e=>S(this,null,function*(){e?(t.k_.t_(),yield kd(t)):(yield t.k_.stop(),t.v_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var nv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ov(t,e){if(or("AsyncQueue",`${e}: ${t}`),rc(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}var gd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var yd=class{constructor(){this.q_=new Be(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},us=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,gd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var rv=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},iv=class{constructor(){this.queries=new $r(e=>AT(e),xd),this.onlineState="Unknown",this.z_=new Set}};function rC(t,e){return S(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new rv,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Ov(s,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&kv(n)})}function iC(t,e){return S(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function ML(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&kv(n)}function RL(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function kv(t){t.z_.forEach(e=>{e.next()})}var ov,uT;(uT=ov||(ov={})).J_="default",uT.Cache="cache";var vd=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ov.Cache}};var _d=class{constructor(e){this.key=e}},Id=class{constructor(e){this.key=e}},sv=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=le(),this.mutatedKeys=le(),this.Ia=MT(e),this.Ta=new gd(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new yd,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),I=Nd(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),O=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),P=!1;g&&I?g.data.isEqual(I.data)?x!==O&&(r.track({type:3,doc:I}),P=!0):this.Ra(g,I)||(r.track({type:2,doc:I}),P=!0,(u&&this.Ia(I,u)>0||l&&this.Ia(I,l)<0)&&(a=!0)):!g&&I?(r.track({type:0,doc:I}),P=!0):g&&!I&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(I?(s=s.add(I),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,p)=>function(I,x){let O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return O(I)-O(x)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,s.length!==0||l?{snapshot:new us(this.query,e.Ta,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new yd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Id(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _d(r))}),n}pa(e){this.la=e.hs,this.Pa=le();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return us.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cv=class{constructor(e){this.key=e,this.wa=!1}},uv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new $r(a=>AT(a),xd),this.Da=new Map,this.Ca=new Set,this.va=new Be(q.comparator),this.Fa=new Map,this.Ma=new Ja,this.xa={},this.Oa=new Map,this.Na=Ya.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function xL(t,e,n=!0){return S(this,null,function*(){let r=lC(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield oC(r,e,n,!0),i})}function NL(t,e){return S(this,null,function*(){let n=lC(t);yield oC(n,e,!0,!1)})}function oC(t,e,n,r){return S(this,null,function*(){let i=yield mL(t.localStore,Vn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield PL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JT(t.remoteStore,i),a})}function PL(t,e,n,r,i){return S(this,null,function*(){t.Ba=(p,g,I)=>function(O,P,U,Y){return S(this,null,function*(){let G=P.view.da(U);G.Xi&&(G=yield aT(O.localStore,P.query,!1).then(({documents:E})=>P.view.da(E,G)));let de=Y&&Y.targetChanges.get(P.targetId),Fe=Y&&Y.targetMismatches.get(P.targetId)!=null,te=P.view.applyChanges(G,O.isPrimaryClient,de,Fe);return dT(O,P.targetId,te.fa),te.snapshot})}(t,p,g,I);let o=yield aT(t.localStore,e,!0),s=new sv(e,o.hs),a=s.da(o.documents),u=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);dT(t,n,l.fa);let h=new av(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function OL(t,e,n){return S(this,null,function*(){let r=Z(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!xd(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rv(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(nc))):(lv(r,i.targetId),yield Gy(r.localStore,i.targetId,!0))})}function kL(t,e){return S(this,null,function*(){let n=Z(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rv(n.remoteStore,r.targetId))})}function FL(t,e,n){return S(this,null,function*(){let r=HL(t);try{let i=yield function(s,a){let u=Z(s),l=Xe.now(),h=a.reduce((I,x)=>I.add(x.key),le()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=ar(),O=le();return u.os.getEntries(I,h).next(P=>{x=P,x.forEach((U,Y)=>{Y.isValidDocument()||(O=O.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,x)).next(P=>{p=P;let U=[];for(let Y of a){let G=HV(Y,p.get(Y.key).overlayedDocument);G!=null&&U.push(new cr(Y.key,G,wT(G.value.mapValue),Ur.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,U,a)}).next(P=>{g=P;let U=P.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(I,P.batchId,U)})}).then(()=>({batchId:g.batchId,changes:xT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.xa[s.currentUser.toKey()];l||(l=new Be(Ee)),l=l.insert(a,u),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield oc(r,i.changes),yield kd(r.remoteStore)}catch(i){let o=Ov(i,"Failed to persist write");n.reject(o)}})}function sC(t,e){return S(this,null,function*(){let n=Z(t);try{let r=yield hL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?xe(s.wa):i.removedDocuments.size>0&&(xe(s.wa),s.wa=!1))}),yield oc(n,r,e)}catch(r){yield nc(r)}})}function lT(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.U_)g.j_(a)&&(l=!0)}),l&&kv(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VL(t,e,n){return S(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Be(q.comparator);s=s.insert(o,In.newNoDocument(o,ee.min()));let a=le().add(o),u=new od(ee.min(),new Map,new Be(Ee),s,a);yield sC(r,u),r.va=r.va.remove(o),r.Fa.delete(e),Fv(r)}else yield Gy(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(nc)})}function LL(t,e){return S(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield dL(n.localStore,e);cC(n,r,null),aC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield oc(n,i)}catch(i){yield nc(i)}})}function UL(t,e,n){return S(this,null,function*(){let r=Z(t);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);cC(r,e,n),aC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield oc(r,i)}catch(i){yield nc(i)}})}function aC(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function cC(t,e,n){let r=Z(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||uC(t,r)})}function uC(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Rv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Fv(t))}function dT(t,e,n){for(let r of n)r instanceof _d?(t.Ma.addReference(r.key,e),jL(t,r)):r instanceof Id?(B("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||uC(t,r.key)):K()}function jL(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(B("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Fv(t))}function Fv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new cv(n)),t.va=t.va.insert(n,r),JT(t.remoteStore,new Qa(Vn(Av(n.path)),r,"TargetPurposeLimboResolution",vT.oe))}}function oc(t,e,n){return S(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let h=$y.Ki(u.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(u,l){return S(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.qi,I=>h.persistence.referenceDelegate.addReference(p,g.targetId,I)).next(()=>k.forEach(g.Qi,I=>h.persistence.referenceDelegate.removeReference(p,g.targetId,I)))))}catch(p){if(!rc(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let I=h.ns.get(g),x=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(x);h.ns=h.ns.insert(g,O)}}})}(r.localStore,o))})}function BL(t,e){return S(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield QT(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oc(n,r.us)}})}function $L(t,e){let n=Z(t),r=n.Fa.get(e);if(r&&r.wa)return le().add(r.key);{let i=le(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function lC(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$L.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.Sa.h_=ML.bind(null,e.eventManager),e.Sa.ka=RL.bind(null,e.eventManager),e}function HL(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UL.bind(null,e),e}var wd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lL(this.persistence,new qy,e.initialUser,this.serializer)}createPersistence(e){return new Uy(By.Hr,this.serializer)}createSharedClientState(e){return new Wy}terminate(){return S(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var dv=class{initialize(e,n){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BL.bind(null,this.syncEngine),yield AL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new iv}()}createDatastore(e){let n=Pd(e.databaseInfo.databaseId),r=function(o){return new Yy(o)}(e.databaseInfo);return function(o,s,a,u){return new Xy(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new tv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return hd.D()?new hd:new Ky}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new uv(i,o,s,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return S(this,null,function*(){var e;yield function(r){return S(this,null,function*(){let i=Z(r);B("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield ic(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ed=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var hv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Zl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>S(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ov(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hg(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield QT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hT(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield zL(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cT(e.remoteStore,i)),t._onlineComponents=e})}function qL(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function zL(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!qL(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),yield Hg(t,new wd)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield Hg(t,new wd);return t._offlineComponents})}function dC(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield hT(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield hT(t,new dv))),t._onlineComponents})}function GL(t){return dC(t).then(e=>e.syncEngine)}function hC(t){return S(this,null,function*(){let e=yield dC(t),n=e.eventManager;return n.onListen=xL.bind(null,e.syncEngine),n.onUnlisten=OL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kL.bind(null,e.syncEngine),n})}function WL(t,e,n={}){let r=new _n;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,u,l){let h=new Ed({next:g=>{s.enqueueAndForget(()=>iC(o,p));let I=g.docs.has(a);!I&&g.fromCache?l.reject(new j(N.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&g.fromCache&&u&&u.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new vd(Av(a.path),h,{includeMetadataChanges:!0,ra:!0});return rC(o,p)}(yield hC(t),t.asyncQueue,e,n,r)})),r.promise}function KL(t,e,n={}){let r=new _n;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,u,l){let h=new Ed({next:g=>{s.enqueueAndForget(()=>iC(o,p)),g.fromCache&&u.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new vd(a,h,{includeMetadataChanges:!0,ra:!0});return rC(o,p)}(yield hC(t),t.asyncQueue,e,n,r)})),r.promise}function fC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fT=new Map;function pC(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QL(t,e,n,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pT(t){if(!q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mT(t){if(q.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fd(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ls=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qg;switch(r.type){case"firstParty":return new Kg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=fT.get(n);r&&(B("ComponentProvider","Removing Datastore"),fT.delete(n),r.terminate())}(this),Promise.resolve()}};function mC(t,e,n,r={}){var i;let o=(t=qr(t,ls))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ot.MOCK_USER;else{a=vb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(l)}t._authCredentials=new zg(new Jl(a,u))}}var ds=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},At=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},jr=class t extends ds{constructor(e,n,r){super(e,n,Av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ms(t,e,...n){if(t=Yt(t),pC("collection","path",e),t instanceof ls){let r=ke.fromString(e,...n);return mT(r),new jr(t,null,r)}{if(!(t instanceof At||t instanceof jr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return mT(r),new jr(t.firestore,null,r)}}function gs(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=Zl.newId()),pC("doc","path",e),t instanceof ls){let r=ke.fromString(e,...n);return pT(r),new At(t,null,new q(r))}{if(!(t instanceof At||t instanceof jr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return pT(r),new At(t.firestore,t instanceof jr?t.converter:null,new q(r))}}var fv=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fd(this,"async_queue_retry"),this.hu=()=>{let n=$g();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=$g();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new _n;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!rc(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=nv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Vi=class extends ls{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gC(this),this._firestoreClient.terminate()}};function Vd(t,e){let n=typeof t=="object"?t:Va(),r=typeof t=="string"?t:e||"(default)",i=xg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=gb("firestore");o&&mC(i,...o)}return i}function Vv(t){return t._firestoreClient||gC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gC(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Xg(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Za=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(bt.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bd=class{constructor(e){this._methodName=e}};var ec=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var YL=/^__.*__$/,pv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fi(e,this.data,n,this.fieldTransforms)}};function yC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var mv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Td(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(yC(this.fu)&&YL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},gv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}Fu(e,n,r,i=!1){return new mv({fu:e,methodName:n,vu:r,path:Bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lv(t){let e=t._freezeSettings(),n=Pd(t._databaseId);return new gv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vC(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);wC("Data must be an object, but it was:",s,r);let a=_C(r,s),u,l;if(o.merge)u=new kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=ZL(e,p,n);if(!s.contains(g))throw new j(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);e2(h,g)||h.push(g)}u=new kn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new pv(new vn(a),u,l)}function JL(t,e,n,r=!1){return Uv(n,t.Fu(r?4:3,e))}function Uv(t,e){if(IC(t=Yt(t)))return wC("Unsupported field value:",e,t),_C(t,e);if(t instanceof bd)return function(r,i){if(!yC(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Uv(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Xe.fromDate(r);return{timestampValue:ud(i.serializer,o)}}if(r instanceof Xe){let o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,o)}}if(r instanceof ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:$T(i.serializer,r._byteString)};if(r instanceof At){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Fd(r)}`)}(t,e)}function _C(t,e){let n={};return _T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,i)=>{let o=Uv(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof ec||t instanceof Za||t instanceof At||t instanceof bd)}function wC(t,e,n){if(!IC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function ZL(t,e,n){if((e=Yt(e))instanceof Xa)return e._internalPath;if(typeof e=="string")return EC(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}var XL=new RegExp("[~\\*/\\[\\]]");function EC(t,e,n){if(e.search(XL)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xa(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function e2(t,e){return t.some(n=>n.isEqual(e))}var Cd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yv=class extends Cd{data(){return super.data()}};function jv(t,e){return typeof e=="string"?EC(t,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}function t2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tc=class{},vv=class extends tc{};function sc(t,e,...n){let r=[];e instanceof tc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof _v).length,a=o.filter(u=>u instanceof Sd).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Sd=class t extends vv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return DC(e._query,n),new ds(e.firestore,e.converter,hy(e._query,n))}_parse(e){let n=Lv(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yT(p,h);let I=[];for(let x of p)I.push(gT(u,o,x));g={arrayValue:{values:I}}}else g=gT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yT(p,h),g=JL(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ys(t,e,n){let r=e,i=jv("where",t);return Sd._create(i,r,n)}var _v=class t extends tc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)DC(s,u),s=hy(s,u)}(e._query,n),new ds(e.firestore,e.converter,hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function gT(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&n.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!q.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qb(t,new q(r))}if(n instanceof At)return qb(t,n._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(n)}.`)}function yT(t,e){if(!Array.isArray(t)||t.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Iv=class{convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return fs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ec(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=bv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){let n=sr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);xe(KT(r));let i=new nd(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function bC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Mi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ad=class extends Cd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Zo=class extends Ad{data(e={}){return super.data(e)}},wv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zo(this._firestore,this._userDataWriter,r.key,r,new Mi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:n2(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function n2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function Ld(t){t=qr(t,At);let e=qr(t.firestore,Vi);return WL(Vv(e),t._key).then(n=>r2(e,t,n))}var Md=class extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}};function ac(t){t=qr(t,ds);let e=qr(t.firestore,Vi),n=Vv(e),r=new Md(e);return t2(t._query),KL(n,t._query).then(i=>new wv(e,r,t,i))}function Ud(t,e,n){t=qr(t,At);let r=qr(t.firestore,Vi),i=bC(t.converter,e,n);return TC(r,[vC(Lv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function Bv(t,e){let n=qr(t.firestore,Vi),r=gs(t),i=bC(t.converter,e);return TC(n,[vC(Lv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function TC(t,e){return function(r,i){let o=new _n;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return FL(yield GL(r),i,o)})),o.promise}(Vv(t),e)}function r2(t,e,n){let r=n.docs.get(e._key),i=new Md(t);return new Ad(t,i,e._key,r,new Mi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){hs=i})(zo),Vr(new Jt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Vi(new Gg(r.getProvider("auth-internal")),new Yg(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),it(Bb,"4.6.2",e),it(Bb,"4.6.2","esm2017")})();var cc=class{constructor(e,n,r,i,o,s,a,u,l,h,p,g){this.id=e,this.tournId=n,this.date=r,this.teamName=i,this.captainName=o,this.captainMobile=s,this.email=a,this.address=u,this.city=l,this.state=h,this.zip=p,this.players=g}},jd={toFirestore(t){let e={id:t.id,tournId:t.tournId,date:t.date,teamName:t.teamName,captainName:t.captainName,captainMobile:t.captainMobile,email:t.email,address:t.address,city:t.city,state:t.state,zip:t.zip,players:t.players.map(n=>({name:n.name,mobile:n.mobile}))};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},fromFirestore(t,e){let n=t.data(e);return new cc(n.id,n.tournId,n.date,n.teamName,n.captainName,n.captainMobile,n.email,n.address,n.city,n.state,n.zip,n.players.map(r=>({name:r.name,mobile:r.mobile})))}};var $v=class{constructor(e,n,r,i,o,s,a,u,l,h,p){this.id=e,this.date=n,this.sport=r,this.isLive=i,this.isCompleted=o,this.bannerLastDate=s,this.bannerDesc=a,this.bannerTitle=u,this.formHeading=l,this.formDesc=h,this.formTerms=p}},Hv={toFirestore(t){let e={id:t.id,date:t.date,sport:t.sport,isLive:t.isLive,isCompleted:t.isCompleted,bannerLastDate:t.bannerLastDate,bannerDesc:t.bannerDesc,bannerTitle:t.bannerTitle,formHeading:t.formHeading,formDesc:t.formDesc,formTerms:t.formTerms};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},fromFirestore(t,e){let n=t.data(e);return new $v(n.id,n.date,n.sport,n.isLive,n.isCompleted,n.bannerLastDate,n.bannerDesc,n.bannerTitle,n.formHeading,n.formDesc,n.formTerms)}};var jn=(()=>{let e=class e{constructor(){this.db=Vd()}getTournaments(r){return S(this,null,function*(){console.log("firestore getLiveTournaments");let i=sc(ms(this.db,"tournament"),ys(r,"==",!0));return(yield ac(i)).docs.map(a=>a.data())})}getTournament(r){return S(this,null,function*(){console.log("firestore getTournament");let i=gs(this.db,"tournament",r).withConverter(Hv),o=yield Ld(i);if(o.exists())return o.data();console.log("No such document!")})}getLandingTournament(){return S(this,null,function*(){console.log("firestore getLandingTournament");let r=sc(ms(this.db,"tournament"),ys("isLanding","==",!0)).withConverter(Hv);return yield ac(r)})}createTournTeam(r){return S(this,null,function*(){console.log("firestore createTournTeam");let i=ms(this.db,"tournTeam").withConverter(jd),o=yield Bv(i,L({},r));return yield Ud(o,ve(L({},r),{id:o.id})),o.id})}getTournTeamWithMobile(r,i){return S(this,null,function*(){console.log("firestore getTournTeamWithMobile");let o=sc(ms(this.db,"tournTeam"),ys("tournId","==",r),ys("captainMobile","==",i));return yield ac(o)})}getTournTeam(r){return S(this,null,function*(){console.log("firestore getTournTeam");let i=gs(this.db,"tournTeam",r).withConverter(jd),o=yield Ld(i);if(o.exists())return o.data();console.log("No such document!")})}updateTournTeam(r,i){return S(this,null,function*(){console.log("firestore updateTournTeam");let o=gs(this.db,"tournTeam",r).withConverter(jd);yield Ud(o,i)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o2(t,e){if(t&1&&(C(0,"tr")(1,"td"),M(2),la(3,"date"),T(),C(4,"td"),M(5),T(),C(6,"td"),M(7,"Black Panthers"),T(),C(8,"td")(9,"button",12),M(10," View "),T()()()),t&2){let n=e.$implicit;he(2),kt(da(3,2,n.date.toDate(),"dd-MM-yyyy")),he(3),kt(n.sport)}}var CC=(()=>{let e=class e{constructor(){this.firestoreService=V(jn),this.tournaments=[]}ngOnInit(){this.getAllTournament()}getAllTournament(){return S(this,null,function*(){this.tournaments=yield this.firestoreService.getTournaments("isCompleted")})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-previous"]],standalone:!0,features:[Ue],decls:52,vars:1,consts:[[1,"container"],[1,"mx-3","mb-3"],[1,"row"],[1,"col-md-6"],[1,"form-label"],["label","This is a group"],["value","12","selected",""],["value","13"],["value","14"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["type","button","routerLink","/previous-detail",1,"btn","btn-primary","btn-sm"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"header",1)(2,"h3"),M(3,"Previous Tournaments"),T()(),C(4,"div",2)(5,"div",3)(6,"label",4),M(7,"Year:\xA0"),T(),C(8,"select")(9,"optgroup",5)(10,"option",6),M(11,"This is item 1"),T(),C(12,"option",7),M(13,"This is item 2"),T(),C(14,"option",8),M(15,"This is item 3"),T()()()(),C(16,"div",3)(17,"label",4),M(18,"Month:\xA0"),T(),C(19,"select")(20,"optgroup",5)(21,"option",6),M(22,"This is item 1"),T(),C(23,"option",7),M(24,"This is item 2"),T(),C(25,"option",8),M(26,"This is item 3"),T()()()()()(),C(27,"div",0)(28,"div",9)(29,"table",10)(30,"thead")(31,"tr")(32,"th"),M(33,"Date"),T(),C(34,"th"),M(35,"Game"),T(),C(36,"th"),M(37,"Winner Team"),T(),C(38,"th"),M(39,"Explore"),T()()(),C(40,"tbody"),at(41,o2,11,5,"tr",11),C(42,"tr")(43,"td"),M(44,"30-1-2024"),T(),C(45,"td"),M(46,"Cricket"),T(),C(47,"td"),M(48,"Rising Stars"),T(),C(49,"td")(50,"button",12),M(51," View "),T()()()()()()()),i&2&&(he(41),Pe("ngForOf",o.tournaments))},dependencies:[$o,Dt,No,wl]});let t=e;return t})();var SC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-previous-detail"]],standalone:!0,features:[Ue],decls:158,vars:0,consts:[[1,"container","text-bg-primary",2,"border-radius","5px"],[1,"py-3"],[1,"container"],[1,"table-responsive"],[1,"table"],[1,"py-4","py-xl-5"],[1,"text-white","bg-primary","border","rounded","border-0","border-primary","d-flex","flex-column","justify-content-between","flex-lg-row","p-4","p-md-5"],[1,"pb-2","pb-lg-1"],[1,"fw-bold","mb-2"],[1,"mb-0"],[1,"my-2"],["role","button","href","#",1,"btn","btn-light","fs-5","py-2","px-4"]],template:function(i,o){i&1&&(C(0,"section")(1,"div",0)(2,"h3",1),M(3,"1st Round"),T()(),C(4,"div",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),M(10,"Date"),T(),C(11,"th"),M(12,"Team A"),T(),C(13,"th"),M(14,"Score"),T(),C(15,"th"),M(16,"Team B"),T(),C(17,"th"),M(18,"Score"),T(),C(19,"th"),M(20,"Winner"),T()()(),C(21,"tbody")(22,"tr")(23,"td"),M(24,"26/4/24"),T(),C(25,"td"),M(26,"Team 14"),T(),C(27,"td"),M(28,"103/5"),T(),C(29,"td"),M(30,"Team 15"),T(),C(31,"td"),M(32,"105/4"),T(),C(33,"td"),M(34,"Team 15"),T()(),C(35,"tr")(36,"td"),M(37,"26/4/24"),T(),C(38,"td"),M(39,"Team 16"),T(),C(40,"td"),M(41,"33/5"),T(),C(42,"td"),M(43,"Team 17"),T(),C(44,"td"),M(45,"154/3"),T(),C(46,"td"),M(47,"Team 16"),T()(),C(48,"tr")(49,"td"),M(50,"27/4/24"),T(),C(51,"td"),M(52,"Team 18"),T(),C(53,"td"),M(54,"144/2"),T(),C(55,"td"),M(56,"Team 19"),T(),C(57,"td"),M(58,"154/3"),T(),C(59,"td"),M(60,"Team19"),T()(),C(61,"tr")(62,"td"),M(63,"27/4/24"),T(),C(64,"td"),M(65,"Team 20"),T(),C(66,"td"),M(67,"135/4"),T(),C(68,"td"),M(69,"Team 21"),T(),C(70,"td"),M(71,"154/3"),T(),C(72,"td"),M(73,"Team20"),T()()()()()(),C(74,"div",0)(75,"h3",1),M(76,"2nd Round"),T()(),C(77,"div",2)(78,"div",3)(79,"table",4)(80,"thead")(81,"tr")(82,"th"),M(83,"Date"),T(),C(84,"th"),M(85,"Team A"),T(),C(86,"th"),M(87,"Score"),T(),C(88,"th"),M(89,"Team B"),T(),C(90,"th"),M(91,"Score"),T(),C(92,"th"),M(93,"Winner"),T()()(),C(94,"tbody")(95,"tr")(96,"td"),M(97,"26/4/24"),T(),C(98,"td"),M(99,"Team 14"),T(),C(100,"td"),M(101,"103/5"),T(),C(102,"td"),M(103,"Team 15"),T(),C(104,"td"),M(105,"105/4"),T(),C(106,"td"),M(107,"Team 15"),T()(),C(108,"tr")(109,"td"),M(110,"26/4/24"),T(),C(111,"td"),M(112,"Team 16"),T(),C(113,"td"),M(114,"33/5"),T(),C(115,"td"),M(116,"Team 17"),T(),C(117,"td"),M(118,"154/3"),T(),C(119,"td"),M(120,"Team 16"),T()(),C(121,"tr")(122,"td"),M(123,"27/4/24"),T(),C(124,"td"),M(125,"Team 18"),T(),C(126,"td"),M(127,"144/2"),T(),C(128,"td"),M(129,"Team 19"),T(),C(130,"td"),M(131,"154/3"),T(),C(132,"td"),M(133,"Team19"),T()(),C(134,"tr")(135,"td"),M(136,"27/4/24"),T(),C(137,"td"),M(138,"Team 20"),T(),C(139,"td"),M(140,"135/4"),T(),C(141,"td"),M(142,"Team 21"),T(),C(143,"td"),M(144,"154/3"),T(),C(145,"td"),M(146,"Team20"),T()()()()()(),C(147,"section",5)(148,"div",2)(149,"div",6)(150,"div",7)(151,"h2",8),M(152,"Team 20"),T(),C(153,"p",9),M(154,"Imperdiet consectetur dolor, tristique himenaeos ultrices tristique neque."),T()(),C(155,"div",10)(156,"a",11),M(157,"Button"),T()()()()()())}});let t=e;return t})();var FC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(z(yi),z(Cr))},e.\u0275dir=nt({type:e});let t=e;return t})(),s2=(()=>{let e=class e extends FC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=To(e)))(o||e)}})(),e.\u0275dir=nt({type:e,features:[mn]});let t=e;return t})(),VC=new W("");var a2={provide:VC,useExisting:Er(()=>ws),multi:!0};function c2(){let t=nr()?nr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var u2=new W(""),ws=(()=>{let e=class e extends FC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!c2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(z(yi),z(Cr),z(u2,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Oe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ao([a2]),mn]});let t=e;return t})();function zr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function LC(t){return t!=null&&typeof t.length=="number"}var Wd=new W(""),Kd=new W(""),l2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gr=class{static min(e){return d2(e)}static max(e){return h2(e)}static required(e){return f2(e)}static requiredTrue(e){return p2(e)}static email(e){return m2(e)}static minLength(e){return g2(e)}static maxLength(e){return y2(e)}static pattern(e){return v2(e)}static nullValidator(e){return UC(e)}static compose(e){return zC(e)}static composeAsync(e){return WC(e)}};function d2(t){return e=>{if(zr(e.value)||zr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function h2(t){return e=>{if(zr(e.value)||zr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function f2(t){return zr(t.value)?{required:!0}:null}function p2(t){return t.value===!0?null:{required:!0}}function m2(t){return zr(t.value)||l2.test(t.value)?null:{email:!0}}function g2(t){return e=>zr(e.value)||!LC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function y2(t){return e=>LC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function v2(t){if(!t)return UC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(zr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function UC(t){return null}function jC(t){return t!=null}function BC(t){return vi(t)?He(t):t}function $C(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function HC(t,e){return e.map(n=>n(t))}function _2(t){return!t.validate}function qC(t){return t.map(e=>_2(e)?e:n=>e.validate(n))}function zC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){return $C(HC(n,e))}}function GC(t){return t!=null?zC(qC(t)):null}function WC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){let r=HC(n,e).map(BC);return cf(r).pipe(ae($C))}}function KC(t){return t!=null?WC(qC(t)):null}function AC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QC(t){return t._rawValidators}function YC(t){return t._rawAsyncValidators}function qv(t){return t?Array.isArray(t)?t:[t]:[]}function $d(t,e){return Array.isArray(t)?t.includes(e):t===e}function MC(t,e){let n=qv(e);return qv(t).forEach(i=>{$d(n,i)||n.push(i)}),n}function RC(t,e){return qv(e).filter(n=>!$d(t,n))}var Hd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zt=class extends Hd{get formDirective(){return null}get path(){return null}},dc=class extends Hd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},I2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WG=ve(L({},I2),{"[class.ng-submitted]":"isSubmitted"}),Qd=(()=>{let e=class e extends qd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(dc,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[mn]});let t=e;return t})(),Yd=(()=>{let e=class e extends qd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(Zt,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&sl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[mn]});let t=e;return t})();var uc="VALID",Bd="INVALID",vs="PENDING",lc="DISABLED";function Wv(t){return(Jd(t)?t.validators:t)||null}function w2(t){return Array.isArray(t)?GC(t):t||null}function Kv(t,e){return(Jd(e)?e.asyncValidators:t)||null}function E2(t){return Array.isArray(t)?KC(t):t||null}function Jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function JC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function ZC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var _s=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uc}get invalid(){return this.status===Bd}get pending(){return this.status==vs}get disabled(){return this.status===lc}get enabled(){return this.status!==lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RC(e,this._rawAsyncValidators))}hasValidator(e){return $d(this._rawValidators,e)}hasAsyncValidator(e){return $d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lc,this.errors=null,this._forEachChild(r=>{r.disable(ve(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uc,this._forEachChild(r=>{r.enable(ve(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uc||this.status===vs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lc:uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vs,this._hasOwnPendingAsyncValidator=!0;let n=BC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?lc:this.errors?Bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vs)?vs:this._anyControlsHaveStatus(Bd)?Bd:uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=w2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=E2(this._rawAsyncValidators)}},Is=class extends _s{constructor(e,n,r){super(Wv(n),Kv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ZC(this,!0,e),Object.keys(e).forEach(r=>{JC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zv=class extends Is{};var XC=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Qv}),Qv="always";function Yv(t,e){return[...e.path,t]}function xC(t,e,n=Qv){Jv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),b2(t,e),C2(t,e),T2(t,e),D2(t,e)}function NC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function D2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jv(t,e){let n=QC(t);e.validator!==null?t.setValidators(AC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YC(t);e.asyncValidator!==null?t.setAsyncValidators(AC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zd(e._rawValidators,i),zd(e._rawAsyncValidators,i)}function Gd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=QC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=YC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return zd(e._rawValidators,r),zd(e._rawAsyncValidators,r),n}function b2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eS(t,e)})}function T2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function C2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function S2(t,e){t==null,Jv(t,e)}function A2(t,e){return Gd(t,e)}function M2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function R2(t){return Object.getPrototypeOf(t.constructor)===s2}function x2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function N2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ws?n=o:R2(o)?r=o:i=o}),i||r||n||null}function P2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ui=class extends _s{constructor(e=null,n,r){super(Wv(n),Kv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(OC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O2=t=>t instanceof Ui,k2=(()=>{let e=class e extends Zt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Yv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=To(e)))(o||e)}})(),e.\u0275dir=nt({type:e,features:[mn]});let t=e;return t})();var Zd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var tS=new W("");var F2={provide:Zt,useExisting:Er(()=>Es)},Es=(()=>{let e=class e extends Zt{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return xC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){NC(r.control||null,r,!1),P2(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,x2(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(NC(i||null,r),O2(o)&&(xC(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);S2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&A2(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jv(this.form,this),this._oldForm&&Gd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(z(Wd,10),z(Kd,10),z(XC,8))},e.\u0275dir=nt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Oe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[et.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ao([F2]),mn,br]});let t=e;return t})(),V2={provide:Zt,useExisting:Er(()=>Xd)},Xd=(()=>{let e=class e extends k2{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){nS(this._parent)}};e.\u0275fac=function(i){return new(i||e)(z(Zt,13),z(Wd,10),z(Kd,10))},e.\u0275dir=nt({type:e,selectors:[["","formGroupName",""]],inputs:{name:[et.None,"formGroupName","name"]},features:[Ao([V2]),mn]});let t=e;return t})(),L2={provide:Zt,useExisting:Er(()=>eh)},eh=(()=>{let e=class e extends Zt{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Yv(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){nS(this._parent)}};e.\u0275fac=function(i){return new(i||e)(z(Zt,13),z(Wd,10),z(Kd,10))},e.\u0275dir=nt({type:e,selectors:[["","formArrayName",""]],inputs:{name:[et.None,"formArrayName","name"]},features:[Ao([L2]),mn]});let t=e;return t})();function nS(t){return!(t instanceof Xd)&&!(t instanceof Es)&&!(t instanceof eh)}var U2={provide:dc,useExisting:Er(()=>hc)},hc=(()=>{let e=class e extends dc{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new pt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=N2(this,s)}ngOnChanges(r){this._added||this._setUpControl(),M2(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Yv(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(z(Zt,13),z(Wd,10),z(Kd,10),z(VC,10),z(tS,8))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""]],inputs:{name:[et.None,"formControlName","name"],isDisabled:[et.None,"disabled","isDisabled"],model:[et.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ao([U2]),mn,br]});let t=e;return t})();var j2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=pi({});let t=e;return t})(),Gv=class extends _s{constructor(e,n,r){super(Wv(n),Kv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ZC(this,!1,e),e.forEach((r,i)=>{JC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function kC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var rS=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return kC(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Is(o,s)}record(r,i=null){let o=this._reduceControls(r);return new zv(o,i)}control(r,i,o){let s={};return this.useNonNullable?(kC(i)?s=i:(s.validators=i,s.asyncValidators=o),new Ui(r,ve(L({},s),{nonNullable:!0}))):new Ui(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new Gv(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Ui)return r;if(r instanceof _s)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var th=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:tS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:XC,useValue:r.callSetDisabledState??Qv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=pi({imports:[j2]});let t=e;return t})();var Xt=(()=>{let e=class e{constructor(){this.landing=null,this.tournamentId="",this.tournFormId="",this.isTournApplyVisible=!1,this.captainForm=new Is({name:new Ui("",Gr.required),mobile:new Ui("",[Gr.required,Gr.pattern("^\\d{10}$")])})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $2(t,e){t&1&&(C(0,"div",18),M(1," Captain Name is required. "),T())}function H2(t,e){t&1&&(C(0,"div"),M(1,"Mobile Number is required."),T())}function q2(t,e){t&1&&(C(0,"div"),M(1,"Mobile Number must be exactly 10 digits."),T())}function z2(t,e){if(t&1&&(C(0,"div",18),at(1,H2,2,0,"div",19)(2,q2,2,0,"div",19),T()),t&2){let n,r,i=St(2);he(),Pe("ngIf",(n=i.sharedService.captainForm.get("mobile"))==null||n.errors==null?null:n.errors.required),he(),Pe("ngIf",(r=i.sharedService.captainForm.get("mobile"))==null||r.errors==null?null:r.errors.pattern)}}function G2(t,e){if(t&1){let n=Mr();C(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),M(5,"Create Team - Captain"),T(),C(6,"button",6),Oe("click",function(){dn(n);let i=St();return hn(i.closeModal())}),me(7,"span",7),T()(),C(8,"div",8)(9,"form",9),Oe("ngSubmit",function(){dn(n);let i=St();return hn(i.onSubmit())}),C(10,"label",10),M(11,"Captain Name:"),T(),me(12,"input",11),at(13,$2,2,0,"div",12),C(14,"label",13),M(15,"Mobile Number:"),T(),me(16,"input",14),at(17,z2,3,2,"div",12),T()(),C(18,"div",15)(19,"button",16),M(20,"Create"),T(),C(21,"button",17),Oe("click",function(){dn(n);let i=St();return hn(i.closeModal())}),M(22,"Close"),T()()()()()}if(t&2){let n,r,i=St();he(9),Pe("formGroup",i.sharedService.captainForm),he(4),Pe("ngIf",((n=i.sharedService.captainForm.get("name"))==null?null:n.invalid)&&((n=i.sharedService.captainForm.get("name"))==null?null:n.touched)),he(4),Pe("ngIf",((r=i.sharedService.captainForm.get("mobile"))==null?null:r.invalid)&&((r=i.sharedService.captainForm.get("mobile"))==null?null:r.touched))}}var nh=(()=>{let e=class e{constructor(){this.firestoreService=V(jn),this.sharedService=V(Xt),this.router=V(yn)}openModal(){this.sharedService.isTournApplyVisible=!0}closeModal(){this.sharedService.isTournApplyVisible=!1}onSubmit(){console.log(this.sharedService.captainForm.value),this.sharedService.tournFormId="",this.sharedService.captainForm.valid?(console.log("Form Submitted"),this.isExistingCaptain()):(this.sharedService.captainForm.markAllAsTouched(),console.log("Form is invalid"))}isExistingCaptain(){return S(this,null,function*(){let r=yield this.firestoreService.getTournTeamWithMobile(this.sharedService.tournamentId,this.sharedService.captainForm.value.mobile);if(r.empty){console.log("new captain!");let i=yield this.createCaptain();this.sharedService.tournFormId=i}else console.log("existing captain!"),this.sharedService.tournFormId=r.docs.at(0).id;this.sharedService.isTournApplyVisible=!1,this.router.navigateByUrl("/tourn-form")})}createCaptain(){return S(this,null,function*(){let r=[],i=new cc("",this.sharedService.tournamentId,Xe.fromDate(new Date),"",this.sharedService.captainForm.value.name,this.sharedService.captainForm.value.mobile,"","","","","",r),o=yield this.firestoreService.createTournTeam(i);return console.log("successfully created"),o})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-tournament-apply-modal"]],standalone:!0,features:[Ue],decls:1,vars:1,consts:[["class","modal d-block",4,"ngIf"],[1,"modal","d-block"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","captainF",3,"ngSubmit","formGroup"],["for","name",1,"form-label","mt-3"],["id","name","type","text","placeholder","Enter Captain Name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","number",1,"form-label","mt-3"],["id","number","type","text","placeholder","Enter Valid Mobile Number","formControlName","mobile",1,"form-control"],[1,"modal-footer"],["type","submit","form","captainF",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(i,o){i&1&&at(0,G2,23,3,"div",0),i&2&&Pe("ngIf",o.sharedService.isTournApplyVisible)},dependencies:[Dt,Po,th,Zd,ws,Qd,Yd,Es,hc]});let t=e;return t})();function W2(t,e){if(t&1){let n=Mr();C(0,"div",2)(1,"div",5)(2,"h4",4),M(3),T(),C(4,"h6",7),M(5),la(6,"date"),T(),C(7,"p",8),M(8),T(),C(9,"p",8),M(10),la(11,"date"),T(),C(12,"button",9),Oe("click",function(){let i=dn(n).$implicit,o=St();return hn(o.createTeam(i.id))}),M(13,"Create Team"),T()()()}if(t&2){let n=e.$implicit;he(3),kt(n.bannerTitle),he(2),kt(da(6,4,n.date.toDate(),"dd-MM-yyyy")),he(3),Rn(" ",n.bannerDesc," "),he(2),Rn("Last date to apply: ",da(11,7,n.bannerLastDate.toDate(),"dd-MM-yyyy"),"")}}var oS=(()=>{let e=class e{constructor(){this.firestoreService=V(jn),this.sharedService=V(Xt),this.router=V(yn),this.tournaments=[]}ngOnInit(){this.getAllTournament()}getAllTournament(){return S(this,null,function*(){this.tournaments=yield this.firestoreService.getTournaments("isLive")})}createTeam(r){this.sharedService.tournamentId=r,this.sharedService.captainForm.reset(),this.sharedService.isTournApplyVisible=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-upcoming"]],standalone:!0,features:[Ue],decls:13,vars:2,consts:[[1,"container"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["type","button",1,"btn","btn-primary"],[1,"text-muted","card-subtitle","mb-2"],[1,"card-text"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"header")(2,"h3"),M(3,"Upcoming Tournaments"),T()(),at(4,W2,14,10,"div",1),C(5,"div",2)(6,"div",3)(7,"h5",4),M(8),T()(),C(9,"div",5)(10,"button",6),M(11," Request a tournament! "),T()()()(),me(12,"app-tournament-apply-modal")),i&2&&(he(4),Pe("ngForOf",o.tournaments),he(4),kt(o.tournaments.length===0?"Sorry, No Tournaments at the moment":"Would you like to request a new tournament?"))},dependencies:[Dt,No,wl,nh]});let t=e;return t})();var rh=(()=>{let e=class e{constructor(){this.loadingSubject=new Ye(!1),this.isLoading$=this.loadingSubject.asObservable()}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K2(t,e){if(t&1&&(C(0,"div")(1,"label",32),M(2),T(),me(3,"input",33),T()),t&2){let n=e.index;he(),So("for","pName-",n,""),he(),Rn("Player-",n+1," Name:"),he(),So("id","pName-",n,""),Pe("formControlName",n)}}function Q2(t,e){if(t&1){let n=Mr();C(0,"div")(1,"label",32),M(2),T(),C(3,"div",34),me(4,"input",35),C(5,"button",36),Oe("click",function(){let i=dn(n).index,o=St();return hn(o.removePlayer(i))}),M(6," Remove "),T()()()}if(t&2){let n=e.index;he(),So("for","pNumber-",n,""),he(),Rn("Player-",n+1," Number:"),he(2),So("id","pNumber-",n,""),Pe("formControlName",n)}}var aS=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.formBuilder=r,this.sharedService=i,this.firestoreService=o,this.loadingService=s,this.router=a,this.sanitizer=u,this.teamForm=this.formBuilder.group({captain:[""],mobile:[{value:"",disabled:!0}],team_name:["",Gr.required],email:[""],address:this.formBuilder.group({street:[""],city:[""],state:[""],zip:[""]}),playerName:this.formBuilder.array([this.formBuilder.control("")]),playerMobile:this.formBuilder.array([this.formBuilder.control("")])})}ngOnInit(){this.getTournTeam()}getTournTeam(){return S(this,null,function*(){this.loadingService.show(),this.tournTeam=yield this.firestoreService.getTournTeam(this.sharedService.tournFormId),this.tournament=yield this.firestoreService.getTournament(this.tournTeam?.tournId),this.safeHtml=this.sanitizer.bypassSecurityTrustHtml(this.tournament?.formTerms??""),console.log(this.tournTeam),this.tournTeam&&(this.teamForm.patchValue({captain:this.tournTeam.captainName,mobile:this.tournTeam.captainMobile,team_name:this.tournTeam.teamName,email:this.tournTeam.email,address:{street:this.tournTeam.address,city:this.tournTeam.city,state:this.tournTeam.state,zip:this.tournTeam.zip}}),this.teamForm.get("playerName").clear(),this.teamForm.get("playerMobile").clear(),this.tournTeam.players.forEach(r=>{this.teamForm.get("playerName").push(this.formBuilder.control(r.name)),this.teamForm.get("playerMobile").push(this.formBuilder.control(r.mobile))})),this.loadingService.hide()})}get playerName(){return this.teamForm.get("playerName")}get playerMobile(){return this.teamForm.get("playerMobile")}addPlayer(){this.playerName.push(this.formBuilder.control("")),this.playerMobile.push(this.formBuilder.control(""))}removePlayer(r){this.playerName.removeAt(r),this.playerMobile.removeAt(r)}populateTournTeam(){this.tournTeam.captainName=this.teamForm.value.captain??"",this.tournTeam.teamName=this.teamForm.value.team_name??"",this.tournTeam.email=this.teamForm.value.email??"",this.tournTeam.address=this.teamForm.value.address?.street??"",this.tournTeam.city=this.teamForm.value.address?.city??"",this.tournTeam.state=this.teamForm.value.address?.state??"",this.tournTeam.zip=this.teamForm.value.address?.zip??"";let r=this.teamForm.value.playerName,i=this.teamForm.value.playerMobile,o=r.map((s,a)=>({name:s??"",mobile:i[a]??""}));this.tournTeam.players=o}onSubmit(){return S(this,null,function*(){console.warn(this.teamForm.value),this.populateTournTeam(),yield this.firestoreService.updateTournTeam(this.sharedService.tournFormId,this.tournTeam),this.router.navigateByUrl("/upcoming"),alert("Updated successfully")})}};e.\u0275fac=function(i){return new(i||e)(z(rS),z(Xt),z(jn),z(rh),z(yn),z(Em))},e.\u0275cmp=Le({type:e,selectors:[["app-tourn-form"]],standalone:!0,features:[Ue],decls:63,vars:6,consts:[[1,"container"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"card"],[1,"card-header"],[1,"row","card-body"],[1,"col-md-3"],["for","captain",1,"form-label"],["id","captain","type","text","formControlName","captain",1,"form-control"],["for","mobile",1,"form-label"],["id","mobile","type","text","formControlName","mobile",1,"form-control"],["for","team_name",1,"form-label"],["id","team_name","placeholder","Enter Team Name","type","text","formControlName","team_name",1,"form-control"],["for","email",1,"form-label"],["id","email","placeholder","Enter Email","type","text","formControlName","email",1,"form-control"],[1,""],["formGroupName","address",1,"row","card-body"],["for","street",1,"form-label"],["id","street","placeholder","Enter Street","type","text","formControlName","street",1,"form-control"],["for","city",1,"form-label"],["id","city","placeholder","Enter City","type","text","formControlName","city",1,"form-control"],["for","state",1,"form-label"],["id","state","placeholder","Enter State","type","text","formControlName","state",1,"form-control"],["for","zip",1,"form-label"],["id","zip","placeholder","Enter Zip","type","text","formControlName","zip",1,"form-control"],["formArrayName","playerName",1,"col-6","p-0"],[4,"ngFor","ngForOf"],["formArrayName","playerMobile",1,"col-6","p-0"],[1,"card-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"container",3,"innerHTML"],[1,"form-label","mt-3",3,"for"],["placeholder","Enter Player Name","type","text",1,"form-control",3,"id","formControlName"],[1,"input-group"],["placeholder","Enter Player Number","type","text",1,"form-control",3,"id","formControlName"],[1,"btn","btn-danger",3,"click"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"h2",1),M(2),T(),C(3,"h6",1),M(4),T(),C(5,"form",2),Oe("ngSubmit",function(){return o.onSubmit()}),C(6,"div",3)(7,"div",4)(8,"h5"),M(9,"Team Information"),T()(),C(10,"div",5)(11,"div",6)(12,"label",7),M(13,"Captain Name:"),T(),me(14,"input",8),T(),C(15,"div",6)(16,"label",9),M(17,"Captain Mobile:"),T(),me(18,"input",10),T(),C(19,"div",6)(20,"label",11),M(21,"Team Name:"),T(),me(22,"input",12),T(),C(23,"div",6)(24,"label",13),M(25,"Email:"),T(),me(26,"input",14),T()()(),C(27,"div",3)(28,"div",4)(29,"h5",15),M(30,"Address (Optional)"),T()(),C(31,"div",16)(32,"div",6)(33,"label",17),M(34,"Street:"),T(),me(35,"input",18),T(),C(36,"div",6)(37,"label",19),M(38,"City:"),T(),me(39,"input",20),T(),C(40,"div",6)(41,"label",21),M(42,"State:"),T(),me(43,"input",22),T(),C(44,"div",6)(45,"label",23),M(46,"Zip:"),T(),me(47,"input",24),T()()(),C(48,"div",3)(49,"div",4)(50,"h5",15),M(51,"Players Information"),T()(),C(52,"div",5)(53,"div",25),at(54,K2,4,6,"div",26),T(),C(55,"div",27),at(56,Q2,7,6,"div",26),T()(),C(57,"div",28)(58,"button",29),Oe("click",function(){return o.addPlayer()}),M(59," + Add another player "),T()()(),C(60,"button",30),M(61,"Submit"),T()(),me(62,"div",31),T()),i&2&&(he(2),kt(o.tournament==null?null:o.tournament.bannerTitle),he(2),kt(o.tournament==null?null:o.tournament.formHeading),he(),Pe("formGroup",o.teamForm),he(49),Pe("ngForOf",o.playerName.controls),he(2),Pe("ngForOf",o.playerMobile.controls),he(6),Pe("innerHTML",o.safeHtml,g0))},dependencies:[th,Zd,ws,Qd,Yd,Es,hc,Xd,eh,Dt,No]});let t=e;return t})();var cS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-home"]],standalone:!0,features:[Ue],decls:29,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"py-4","py-xl-5"],[1,"text-center","p-4","p-lg-5"],[1,"fw-bold","text-primary","mb-2"],[1,"fw-bold","mb-4"],["type","button","routerLink","/upcoming",1,"btn","btn-primary","fs-5","me-2","py-2","px-4"],[1,"col-md-6"],[1,"card"],["src","assets/img/cricket.jpg",1,"card-img-top","w-100","d-block"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["src","assets/img/football.jpg",1,"card-img-top","w-100","d-block"]],template:function(i,o){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"section",3)(4,"div",0)(5,"div",4)(6,"p",5),M(7,"Welcome to ESSOS"),T(),C(8,"h1",6),M(9," Join the Ultimate Cricket and Football Experience! "),T(),C(10,"button",7),M(11," Explore Upcoming Tournaments "),T()()()()()(),C(12,"div",1)(13,"div",8)(14,"div",9),me(15,"img",10),C(16,"div",11)(17,"h4",12),M(18,"Experience the Excitement of Cricket"),T(),C(19,"p",13),M(20," Join our exciting cricket tournaments and showcase your skills on the pitch. Compete against teams from across the region and experience the camaraderie and excitement of cricket at its best. "),T()()()(),C(21,"div",8)(22,"div",9),me(23,"img",14),C(24,"div",11)(25,"h4",12),M(26,"Feel the Thrill of Football"),T(),C(27,"p",13),M(28," Dive into the world of football with our thrilling tournaments. Whether you're a seasoned pro or just starting out, our events offer the perfect opportunity to test your skills, make new friends, and embrace the passion of the game. "),T()()()()()())},dependencies:[$o]});let t=e;return t})();function Y2(t,e){if(t&1){let n=Mr();C(0,"div",2)(1,"button",3),Oe("click",function(){dn(n);let i=St();return hn(i.closeLanding())}),M(2," Close "),T(),C(3,"div",4)(4,"h1",5),M(5),T(),C(6,"p",6),M(7),T(),C(8,"button",7),Oe("click",function(){dn(n);let i=St();return hn(i.applyNow())}),M(9,"Apply Now"),T()()()}if(t&2){let n=St();he(5),kt(n.tournament.bannerTitle),he(2),Rn(" ",n.tournament.bannerDesc," ")}}function J2(t,e){t&1&&(C(0,"div",2)(1,"div",4)(2,"h1",5),M(3,"ESSOS SPORTS ARENA"),T()()())}function Z2(t,e){t&1&&me(0,"app-home")}var uS=(()=>{let e=class e{constructor(){this.router=V(yn),this.firestoreService=V(jn),this.sharedService=V(Xt),this.isLoading=!0,this.isVisible=!1}ngOnInit(){this.sharedService.landing==null?this.landingOrHome():this.isLoading=!1}landingOrHome(){return S(this,null,function*(){this.isLoading=!0;let r=Date.now(),i=yield this.firestoreService.getLandingTournament();if(i.empty){let o=Date.now()-r,s=Math.max(0,1e3-o);setTimeout(()=>{this.sharedService.landing=!1,console.log("showing home page",s),this.isLoading=!1},s)}else console.log("showing landing page"),this.sharedService.landing=!0,this.isLoading=!1,this.tournament=i.docs.at(0).data()})}closeLanding(){this.sharedService.landing=!1}applyNow(){this.isVisible=!0,this.sharedService.tournamentId=this.tournament.id,this.sharedService.captainForm.reset(),this.sharedService.isTournApplyVisible=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-landing-tournament"]],standalone:!0,features:[Ue],decls:4,vars:3,consts:[["class","landing-page d-flex align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"landing-page","d-flex","align-items-center","justify-content-center"],[1,"btn","btn-secondary","close-button",3,"click"],[1,"text-center","text-white"],[1,"display-4"],[1,"lead"],[1,"btn","btn-primary","btn-lg",3,"click"]],template:function(i,o){i&1&&(at(0,Y2,10,2,"div",0)(1,J2,4,0,"div",0)(2,Z2,1,0,"app-home",1),me(3,"app-tournament-apply-modal")),i&2&&(Pe("ngIf",o.sharedService.landing),he(),Pe("ngIf",o.isLoading),he(),Pe("ngIf",!o.sharedService.landing))},dependencies:[Dt,Po,cS,nh],styles:[".landing-page[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-image:url(/assets/img/cricket.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;z-index:1}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:10}"]});let t=e;return t})();var lS=[{path:"previous",component:CC},{path:"previous-detail",component:SC},{path:"upcoming",component:oS},{path:"tourn-form",component:aS},{path:"",component:uS,pathMatch:"full"},{path:"**",redirectTo:"/"}];var X2="firebase",eU="10.12.0";it(X2,eU,"app");var bs=new Qn("ANGULARFIRE2_VERSION");function Xv(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pc=(t,e)=>{let n=e?[e]:ql(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fc=class{constructor(){return pc(tU)}},tU="app-check";function Ds(){}var ih=class{zone;delegate;constructor(e,n=rf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Zv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),n.pipe(Ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ih(Zone.current)),this.insideAngular=n.run(()=>new ih(Zone.current,nf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(oe(Ae))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function nU(t){return oh().ngZone.runOutsideAngular(()=>t())}function ji(t){return oh().ngZone.run(()=>t())}function rU(t){return iU(oh())(t)}function iU(t){return function(n){return n=n.lift(new Zv(t.ngZone)),n.pipe(mr(t.outsideAngular),pr(t.insideAngular))}}var oU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ji(()=>t.apply(void 0,r))},gc=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds))),r[o]=oU(r[o],n));let i=nU(()=>t.apply(this,r));if(!e)if(i instanceof fe){let o=oh();return i.pipe(mr(o.outsideAngular),pr(o.insideAngular))}else return ji(()=>i);return i instanceof fe?i.pipe(rU):i instanceof Promise?ji(()=>new Promise((o,s)=>i.then(a=>ji(()=>o(a)),a=>ji(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ji(()=>i)};var Bi=class{constructor(e){return e}},yc=class{constructor(){return ql()}};function sU(t){return t&&t.length===1?t[0]:new Bi(Va())}var e_=new W("angularfire2._apps"),aU={provide:Bi,useFactory:sU,deps:[[new un,e_]]},cU={provide:yc,deps:[[new un,e_]]};function uU(t){return(e,n)=>{let r=n.get(Sr);it("angularfire",bs.full,"core"),it("angularfire",bs.full,"app"),it("angular",eD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bi(i)}}function dS(t,...e){return Dr([aU,cU,{provide:e_,useFactory:uU(t),multi:!0,deps:[Ae,Mn,mc,...e]}])}var hS=gc(Ng,!0);function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wS=IS,ES=new rr("auth","Firebase",IS());var uh=new kr("@firebase/auth");function lU(t,...e){uh.logLevel<=ue.WARN&&uh.warn(`Auth (${zo}): ${t}`,...e)}function ah(t,...e){uh.logLevel<=ue.ERROR&&uh.error(`Auth (${zo}): ${t}`,...e)}function fS(t,...e){throw h_(t,...e)}function d_(t,...e){return h_(t,...e)}function DS(t,e,n){let r=Object.assign(Object.assign({},wS()),{[e]:n});return new rr("auth","Firebase",r).create(e,{appName:t.name})}function ch(t){return DS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ES.create(t,...e)}function De(t,e,...n){if(!t)throw h_(e,...n)}function vc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function lh(t,e){t||vc(e)}function dU(){return pS()==="http:"||pS()==="https:"}function pS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function hU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dU()||Ib()||"connection"in navigator)?navigator.onLine:!0}function fU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lh(n>e,"Short delay should be less than long delay!"),this.isMobile=_b()||wb()}get(){return hU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pU(t,e){lh(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var dh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gU=new Hi(3e4,6e4);function bS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function mh(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return TS(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gg(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),dh.fetch()(CS(t,t.config.apiHost,n,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function TS(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mU),e);try{let i=new r_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw sh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DS(t,h,l);fS(t,h)}}catch(i){if(i instanceof Qt)throw i;fS(t,"network-request-failed",{message:String(i)})}})}function CS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pU(t.config,i):`${t.config.apiScheme}://${i}`}var r_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(d_(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=d_(t,e,r);return i.customData._tokenResponse=n,i}function yU(t,e){return S(this,null,function*(){return mh(t,"POST","/v1/accounts:delete",e)})}function SS(t,e){return S(this,null,function*(){return mh(t,"POST","/v1/accounts:lookup",e)})}function _c(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function f_(t,e=!1){return S(this,null,function*(){let n=Yt(t),r=yield n.getIdToken(e),i=AS(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_c(t_(i.auth_time)),issuedAtTime:_c(t_(i.iat)),expirationTime:_c(t_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function t_(t){return Number(t)*1e3}function AS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{let i=fg(n);return i?JSON.parse(i):(ah("Failed to decode base64 JWT payload"),null)}catch(i){return ah("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mS(t){let e=AS(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function i_(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Qt&&vU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var o_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function hh(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield i_(t,SS(n,{idToken:r}));De(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MS(o.providerUserInfo):[],a=_U(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function p_(t){return S(this,null,function*(){let e=Yt(t);yield hh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _U(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MS(t){return t.map(e=>{var{providerId:n}=e,r=of(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function IU(t,e){return S(this,null,function*(){let n=yield TS(t,{},()=>S(this,null,function*(){let r=gg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=CS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wU(t,e){return S(this,null,function*(){return mh(t,"POST","/v2/accounts:revokeToken",bS(t,e))})}var Ic=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");let n=mS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield IU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return vc("not implemented")}};function Wr(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ec=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield i_(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return f_(this,e)}reload(){return p_(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield hh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(qo(this.auth.app))return Promise.reject(ch(this.auth));let e=yield this.getIdToken();return yield i_(this,yU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:de,isAnonymous:Fe,providerData:te,stsTokenManager:E}=n;De(G&&E,e,"internal-error");let y=Ic.fromJSON(this.name,E);De(typeof G=="string",e,"internal-error"),Wr(p,e.name),Wr(g,e.name),De(typeof de=="boolean",e,"internal-error"),De(typeof Fe=="boolean",e,"internal-error"),Wr(I,e.name),Wr(x,e.name),Wr(O,e.name),Wr(P,e.name),Wr(U,e.name),Wr(Y,e.name);let v=new t({uid:G,auth:e,email:g,emailVerified:de,displayName:p,isAnonymous:Fe,photoURL:x,phoneNumber:I,tenantId:O,stsTokenManager:y,createdAt:U,lastLoginAt:Y});return te&&Array.isArray(te)&&(v.providerData=te.map(w=>Object.assign({},w))),P&&(v._redirectEventId=P),v}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Ic;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];De(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?MS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ic;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var gS=new Map;function $i(t){lh(t instanceof Function,"Expected a class definition");let e=gS.get(t);return e?(lh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gS.set(t,e),e)}var EU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),s_=EU;function n_(t,e,n){return`firebase:${t}:${e}:${n}`}var fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=n_(this.userKey,i.apiKey,o),this.fullPersistenceKey=n_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ec._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t($i(s_),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||$i(s_),s=n_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ec._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function yS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AU(e))return"Blackberry";if(MU(e))return"Webos";if(bU(e))return"Safari";if((e.includes("chrome/")||TU(e))&&!e.includes("edge/"))return"Chrome";if(SU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function DU(t=jt()){return/firefox\//i.test(t)}function bU(t=jt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TU(t=jt()){return/crios\//i.test(t)}function CU(t=jt()){return/iemobile/i.test(t)}function SU(t=jt()){return/android/i.test(t)}function AU(t=jt()){return/blackberry/i.test(t)}function MU(t=jt()){return/webos/i.test(t)}function RS(t,e=[]){let n;switch(t){case"Browser":n=yS(jt());break;case"Worker":n=`${yS(jt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${r}`}var a_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RU(n){return S(this,arguments,function*(t,e={}){return mh(t,"GET","/v2/passwordPolicy",bS(t,e))})}var xU=6,c_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:xU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var u_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new a_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield fh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield SS(this,{idToken:e}),r=yield Ec._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(qo(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fU()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(qo(this.app))return Promise.reject(ch(this));let n=e?Yt(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return qo(this.app)?Promise.reject(ch(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qo(this.app)?Promise.reject(ch(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence($i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield RU(this),n=new c_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$i(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=yield fh.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function NU(t){return Yt(t)}var ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bb(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PU={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OU(t){PU=t}function kU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var g6=kU("rcb"),y6=new Hi(3e4,6e4);var v6=new Hi(2e3,1e4);var _6=10*60*1e3;var I6=new Hi(3e4,6e4);var w6=new Hi(5e3,15e3);var E6=encodeURIComponent("fac");var vS="@firebase/auth",_S="1.7.3";var l_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function VU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LU(t){Vr(new Jt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(t)},l=new u_(r,i,o,u);return FU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new Jt("auth-internal",e=>{let n=NU(e.getProvider("auth").getImmediate());return(r=>new l_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(vS,_S,VU(t)),it(vS,_S,"esm2017")}var UU=5*60,D6=yb("authIdTokenMaxAge")||UU;function jU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=d_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LU("Browser");var Uj="auth";var gh=class{constructor(){return pc(Uj)}};var qi=class{constructor(e){return e}},xS="firestore",m_=class{constructor(){return pc(xS)}};var g_=new W("angularfire2.firestore-instances");function jj(t,e){let n=Xv(xS,t,e);return n&&new qi(n)}function Bj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qi(r)}}var $j={provide:m_,deps:[[new un,g_]]},Hj={provide:qi,useFactory:jj,deps:[[new un,g_],Bi]};function NS(t,...e){return it("angularfire",bs.full,"fst"),Dr([Hj,$j,{provide:g_,useFactory:Bj(t),multi:!0,deps:[Ae,Mn,mc,yc,[new un,gh],[new un,fc],...e]}])}var PS=gc(Vd,!0);var OS={providers:[db(lS),dS(()=>hS({projectId:"essos-13593",appId:"1:234509148552:web:19e5316606e6a5eaeb1a3d",storageBucket:"essos-13593.appspot.com",apiKey:"AIzaSyCP29nVcnjbsOXNeSXVZgRlVjhCJNCcYgY",authDomain:"essos-13593.firebaseapp.com",messagingSenderId:"234509148552"})),NS(()=>PS())]};var kS=(()=>{let e=class e{constructor(){this.sharedService=V(Xt)}collapseNavbar(){let r=document.getElementById("navcol-1");r.classList.contains("show")&&r.classList.remove("show")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Ue],decls:26,vars:0,consts:[[1,"navbar","navbar-dark","navbar-expand-md","py-3"],[1,"container"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],[1,"bs-icon-sm","bs-icon-rounded","bs-icon-primary","d-flex","justify-content-center","align-items-center","me-2","bs-icon"],["xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bezier"],["fill-rule","evenodd","d","M0 10.5A1.5 1.5 0 0 1 1.5 9h1A1.5 1.5 0 0 1 4 10.5v1A1.5 1.5 0 0 1 2.5 13h-1A1.5 1.5 0 0 1 0 11.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm10.5.5A1.5 1.5 0 0 1 13.5 9h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM6 4.5A1.5 1.5 0 0 1 7.5 3h1A1.5 1.5 0 0 1 10 4.5v1A1.5 1.5 0 0 1 8.5 7h-1A1.5 1.5 0 0 1 6 5.5v-1zM7.5 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"],["d","M6 4.5H1.866a1 1 0 1 0 0 1h2.668A6.517 6.517 0 0 0 1.814 9H2.5c.123 0 .244.015.358.043a5.517 5.517 0 0 1 3.185-3.185A1.503 1.503 0 0 1 6 5.5v-1zm3.957 1.358A1.5 1.5 0 0 0 10 5.5v-1h4.134a1 1 0 1 1 0 1h-2.668a6.517 6.517 0 0 1 2.72 3.5H13.5c-.123 0-.243.015-.358.043a5.517 5.517 0 0 0-3.185-3.185z"],["data-bs-toggle","collapse","data-bs-target","#navcol-1",1,"navbar-toggler"],[1,"visually-hidden"],[1,"navbar-toggler-icon"],["id","navcol-1",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link","active",3,"click"],["routerLink","/previous",1,"nav-link",3,"click"],["routerLink","/upcoming",1,"nav-link",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(i,o){i&1&&(C(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),kE(),C(4,"svg",4),me(5,"path",5)(6,"path",6),T()(),FE(),C(7,"span"),M(8,"ESSOS"),T()(),C(9,"button",7)(10,"span",8),M(11,"Toggle navigation"),T(),me(12,"span",9),T(),C(13,"div",10)(14,"ul",11)(15,"li",12)(16,"a",13),Oe("click",function(){return o.collapseNavbar()}),M(17,"Home"),T()(),C(18,"li",12)(19,"a",14),Oe("click",function(){return o.collapseNavbar()}),M(20,"Previous Tournaments"),T()(),C(21,"li",12)(22,"a",15),Oe("click",function(){return o.collapseNavbar()}),M(23,"Upcoming Tournaments"),T()()(),C(24,"button",16),M(25,"Subscribe"),T()()()())},dependencies:[$o]});let t=e;return t})();function qj(t,e){t&1&&(C(0,"div",1)(1,"div",2),me(2,"div",3)(3,"div",4),T()())}var FS=(()=>{let e=class e{constructor(r){this.loadingService=r,this.isLoading=!1}ngOnInit(){this.loadingService.isLoading$.subscribe(r=>{this.isLoading=r})}};e.\u0275fac=function(i){return new(i||e)(z(rh))},e.\u0275cmp=Le({type:e,selectors:[["app-loading"]],standalone:!0,features:[Ue],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(i,o){i&1&&at(0,qj,4,0,"div",0),i&2&&Pe("ngIf",o.isLoading)},dependencies:[Dt,Po],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#333;opacity:.6;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-bounce 2s infinite ease-in-out}.double-bounce2[_ngcontent-%COMP%]{animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}"]});let t=e;return t})();var VS=(()=>{let e=class e{constructor(){this.firestore=V(qi),this.sharedService=V(Xt),this.title="essos-tourn"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:3,vars:0,template:function(i,o){i&1&&me(0,"app-navbar")(1,"app-loading")(2,"router-outlet")},dependencies:[rg,Dt,kS,FS]});let t=e;return t})();MD(VS,OS).catch(t=>console.error(t));
